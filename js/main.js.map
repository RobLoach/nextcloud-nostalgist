{"version":3,"file":"main.js","mappings":"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","sources":["webpack:///@robloach/nextcloud-nostalgist/webpack/runtime/async module","webpack:///@robloach/nextcloud-nostalgist/src/main.js","webpack:///@robloach/nextcloud-nostalgist/node_modules/process/browser.js","webpack:///@robloach/nextcloud-nostalgist/node_modules/nostalgist/dist/nostalgist.js","webpack:///@robloach/nextcloud-nostalgist/webpack/bootstrap","webpack:///@robloach/nextcloud-nostalgist/webpack/runtime/define property getters","webpack:///@robloach/nextcloud-nostalgist/webpack/runtime/hasOwnProperty shorthand","webpack:///@robloach/nextcloud-nostalgist/webpack/startup"],"sourcesContent":["var webpackQueues = typeof Symbol === \"function\" ? Symbol(\"webpack queues\") : \"__webpack_queues__\";\nvar webpackExports = typeof Symbol === \"function\" ? Symbol(\"webpack exports\") : \"__webpack_exports__\";\nvar webpackError = typeof Symbol === \"function\" ? Symbol(\"webpack error\") : \"__webpack_error__\";\nvar resolveQueue = (queue) => {\n\tif(queue && queue.d < 1) {\n\t\tqueue.d = 1;\n\t\tqueue.forEach((fn) => (fn.r--));\n\t\tqueue.forEach((fn) => (fn.r-- ? fn.r++ : fn()));\n\t}\n}\nvar wrapDeps = (deps) => (deps.map((dep) => {\n\tif(dep !== null && typeof dep === \"object\") {\n\t\tif(dep[webpackQueues]) return dep;\n\t\tif(dep.then) {\n\t\t\tvar queue = [];\n\t\t\tqueue.d = 0;\n\t\t\tdep.then((r) => {\n\t\t\t\tobj[webpackExports] = r;\n\t\t\t\tresolveQueue(queue);\n\t\t\t}, (e) => {\n\t\t\t\tobj[webpackError] = e;\n\t\t\t\tresolveQueue(queue);\n\t\t\t});\n\t\t\tvar obj = {};\n\t\t\tobj[webpackQueues] = (fn) => (fn(queue));\n\t\t\treturn obj;\n\t\t}\n\t}\n\tvar ret = {};\n\tret[webpackQueues] = x => {};\n\tret[webpackExports] = dep;\n\treturn ret;\n}));\n__webpack_require__.a = (module, body, hasAwait) => {\n\tvar queue;\n\thasAwait && ((queue = []).d = -1);\n\tvar depQueues = new Set();\n\tvar exports = module.exports;\n\tvar currentDeps;\n\tvar outerResolve;\n\tvar reject;\n\tvar promise = new Promise((resolve, rej) => {\n\t\treject = rej;\n\t\touterResolve = resolve;\n\t});\n\tpromise[webpackExports] = exports;\n\tpromise[webpackQueues] = (fn) => (queue && fn(queue), depQueues.forEach(fn), promise[\"catch\"](x => {}));\n\tmodule.exports = promise;\n\tbody((deps) => {\n\t\tcurrentDeps = wrapDeps(deps);\n\t\tvar fn;\n\t\tvar getResult = () => (currentDeps.map((d) => {\n\t\t\tif(d[webpackError]) throw d[webpackError];\n\t\t\treturn d[webpackExports];\n\t\t}))\n\t\tvar promise = new Promise((resolve) => {\n\t\t\tfn = () => (resolve(getResult));\n\t\t\tfn.r = 0;\n\t\t\tvar fnQueue = (q) => (q !== queue && !depQueues.has(q) && (depQueues.add(q), q && !q.d && (fn.r++, q.push(fn))));\n\t\t\tcurrentDeps.map((dep) => (dep[webpackQueues](fnQueue)));\n\t\t});\n\t\treturn fn.r ? promise : getResult();\n\t}, (err) => ((err ? reject(promise[webpackError] = err) : outerResolve(exports)), resolveQueue(queue)));\n\tqueue && queue.d < 0 && (queue.d = 0);\n};","import { Nostalgist } from 'nostalgist'\n\nlet image_path = '/apps/nostalgist/img/app.svg';\n\nNostalgist.configure({\n\telement: document.querySelector('.nostalgist canvas'),\n\t// resolveRom(rom) {\n\t// \treturn image_path.replace('app.svg', rom);\n\t// },\n\tresolveCoreJs(core) {\n\t\treturn image_path.replace('app.svg', `cores/${core}_libretro.js`);\n\t},\n\tresolveCoreWasm(core) {\n\t\treturn image_path.replace('app.svg', `cores/${core}_libretro.wasm`);\n\t},\n\tretroarchConfig: {\n\t\trewind_enable: false\n\t}\n});\n\nawait Nostalgist.launch({\n\tcore: 'fceumm',\n\trom: 'https://cdn.jsdelivr.net/gh/retrobrews/nes-games@master/twindragons.nes'\n});\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nconst systemCoreMap = {\n  gb: \"mgba\",\n  gba: \"mgba\",\n  gbc: \"mgba\",\n  megadrive: \"genesis_plus_gx\",\n  nes: \"fceumm\",\n  snes: \"snes9x\"\n};\nconst coreInfoMap = {\n  \"2048\": { corename: \"2048\", savestate: true, supportsNoGame: true },\n  \"3dengine\": { corename: \"3DEngine\" },\n  \"4do\": { corename: \"4DO\", savestate: true },\n  \"81\": { corename: \"81\", savestate: true },\n  a5200: { corename: \"a5200\", savestate: true },\n  advanced_tests: { corename: \"Advanced Test\", supportsNoGame: true },\n  ardens: { corename: \"Ardens\", savestate: true },\n  arduous: { corename: \"Arduous\" },\n  atari800: { corename: \"Atari800\", savestate: true },\n  bk: { corename: \"bk\", savestate: true },\n  blastem: { corename: \"BlastEm\", savestate: true },\n  bluemsx: { corename: \"blueMSX\", savestate: true },\n  bnes: { corename: \"bnes/higan\", savestate: true },\n  boom3: { corename: \"boom3\" },\n  boom3_xp: { corename: \"boom3_xp\" },\n  bsnes: { corename: \"bsnes\", savestate: true },\n  bsnes_cplusplus98: { cheats: true, corename: \"bsnes C++98 (v085)\", savestate: true },\n  bsnes_hd_beta: { corename: \"bsnes-hd beta\", savestate: true },\n  bsnes_mercury_accuracy: { cheats: true, corename: \"bsnes-mercury Accuracy\", savestate: true },\n  bsnes_mercury_balanced: { cheats: true, corename: \"bsnes-mercury Balanced\", savestate: true },\n  bsnes_mercury_performance: { cheats: true, corename: \"bsnes-mercury Performance\", savestate: true },\n  bsnes2014_accuracy: { cheats: true, corename: \"bsnes 2014 Accuracy\", savestate: true },\n  bsnes2014_balanced: { cheats: true, corename: \"bsnes 2014 Balanced\", savestate: true },\n  bsnes2014_performance: { cheats: true, corename: \"bsnes 2014 Performance\", savestate: true },\n  cannonball: { corename: \"Cannonball\", supportsNoGame: true },\n  cap32: { corename: \"Caprice32\", savestate: true, supportsNoGame: true },\n  cdi2015: { corename: \"Philips CDi 2015\" },\n  chailove: { cheats: true, corename: \"ChaiLove\", savestate: true },\n  chimerasnes: { cheats: true, corename: \"ChimeraSNES\", savestate: true },\n  citra: { corename: \"Citra\", savestate: true },\n  citra_canary: { corename: \"Citra Canary/Experimental\" },\n  citra2018: { corename: \"Citra 2018\" },\n  craft: { corename: \"Craft\", supportsNoGame: true },\n  crocods: { corename: \"CrocoDS\", savestate: true },\n  cruzes: { corename: \"Cruzes\", supportsNoGame: true },\n  daphne: { corename: \"Daphne\" },\n  desmume: { cheats: true, corename: \"DeSmuME\", savestate: true },\n  desmume2015: { cheats: true, corename: \"DeSmuME 2015\", savestate: true },\n  dinothawr: { corename: \"Dinothawr\", supportsNoGame: true },\n  directxbox: { corename: \"DirectXBox\" },\n  dirksimple: { corename: \"DirkSimple\", savestate: true },\n  dolphin: { corename: \"Dolphin\", savestate: true },\n  dolphin_launcher: { corename: \"Dolphin Launcher\", supportsNoGame: true },\n  dosbox: { corename: \"DOSBox\", supportsNoGame: true },\n  dosbox_core: { corename: \"DOSBox-core\", supportsNoGame: true },\n  dosbox_pure: { cheats: true, corename: \"DOSBox-pure\", savestate: true, supportsNoGame: true },\n  dosbox_svn: { corename: \"DOSBox-SVN\", supportsNoGame: true },\n  dosbox_svn_ce: { corename: \"DOSBox-SVN CE\", supportsNoGame: true },\n  duckstation: { corename: \"DuckStation\", savestate: true },\n  easyrpg: { corename: \"EasyRPG Player\" },\n  ecwolf: { corename: \"ECWolf\", savestate: true },\n  emuscv: { corename: \"EmuSCV\", supportsNoGame: true },\n  emux_chip8: { corename: \"Emux CHIP-8\" },\n  emux_gb: { corename: \"Emux GB\" },\n  emux_nes: { corename: \"Emux NES\" },\n  emux_sms: { corename: \"Emux SMS\" },\n  ep128emu_core: { cheats: true, corename: \"ep128emu-core\", savestate: true, supportsNoGame: true },\n  fake08: { corename: \"FAKE-08\", savestate: true },\n  fbalpha2012: { corename: \"FB Alpha 2012\", savestate: true },\n  fbalpha2012_cps1: { corename: \"FB Alpha 2012 CPS-1\", savestate: true },\n  fbalpha2012_cps2: { corename: \"FB Alpha 2012 CPS-2\", savestate: true },\n  fbalpha2012_cps3: { corename: \"FB Alpha 2012 CPS-3\", savestate: true },\n  fbalpha2012_neogeo: { corename: \"FB Alpha 2012 Neo Geo\", savestate: true },\n  fbneo: { cheats: true, corename: \"FinalBurn Neo\", savestate: true },\n  fceumm: { cheats: true, corename: \"FCEUmm\", savestate: true },\n  ffmpeg: { corename: \"FFmpeg\" },\n  fixgb: { corename: \"fixGB\" },\n  fixnes: { corename: \"fixNES\" },\n  flycast: { corename: \"Flycast\", savestate: true },\n  flycast_gles2: { corename: \"Flycast GLES2\", savestate: true },\n  fmsx: { corename: \"fMSX\" },\n  freechaf: { corename: \"FreeChaF\" },\n  freeintv: { corename: \"FreeIntv\" },\n  freej2me: { corename: \"FreeJ2ME\" },\n  frodo: { corename: \"Frodo\" },\n  fsuae: { corename: \"FS-UAE\" },\n  fuse: { corename: \"Fuse\" },\n  galaksija: { corename: \"galaksija\", supportsNoGame: true },\n  gambatte: { corename: \"Gambatte\", savestate: true },\n  gearboy: { corename: \"Gearboy\" },\n  gearcoleco: { corename: \"Gearcoleco\" },\n  gearsystem: { corename: \"Gearsystem\" },\n  genesis_plus_gx: { cheats: true, corename: \"Genesis Plus GX\", savestate: true },\n  genesis_plus_gx_wide: { cheats: true, corename: \"Genesis Plus GX Wide\", savestate: true },\n  gme: { corename: \"Game Music Emu\" },\n  gong: { corename: \"Gong\", savestate: true, supportsNoGame: true },\n  gpsp: { corename: \"gpSP\", savestate: true },\n  gw: { corename: \"GW\" },\n  handy: { corename: \"Handy\", savestate: true },\n  hatari: { corename: \"Hatari\", savestate: true },\n  hbmame: { corename: \"HBMAME (Git)\" },\n  higan_sfc: { corename: \"nSide (Super Famicom Accuracy)\", savestate: true },\n  higan_sfc_balanced: { corename: \"nSide (Super Famicom Balanced)\", savestate: true },\n  imageviewer: { corename: \"Imageviewer\" },\n  ishiiruka: { corename: \"Ishiiruka\", savestate: true },\n  jaxe: { corename: \"JAXE\" },\n  jumpnbump: { corename: \"jumpnbump\" },\n  kronos: { cheats: true, corename: \"Kronos\", savestate: true },\n  lowresnx: { corename: \"lowresnx\" },\n  lutro: { corename: \"Lutro\" },\n  mame: { corename: \"MAME\", savestate: true },\n  mame2000: { corename: \"MAME 2000 (0.37b5)\", savestate: true },\n  mame2003: { corename: \"MAME 2003 (0.78)\", savestate: true },\n  mame2003_midway: { corename: \"MAME 2003 Midway (0.78)\", savestate: true },\n  mame2003_plus: { corename: \"MAME 2003-Plus\", savestate: true },\n  mame2009: { corename: \"MAME 2009 (0.135u4)\" },\n  mame2010: { corename: \"MAME 2010 (0.139)\" },\n  mame2015: { corename: \"MAME 2015 (0.160)\" },\n  mame2016: { corename: \"MAME 2016 (0.174)\" },\n  mamearcade: { corename: \"MAME (Git)\" },\n  mamemess: { corename: \"MESS (Git)\", savestate: true },\n  mednafen_gba: { corename: \"Beetle GBA\" },\n  mednafen_lynx: { corename: \"Beetle Lynx\" },\n  mednafen_ngp: { corename: \"Beetle NeoPop\", savestate: true },\n  mednafen_pce: { corename: \"Beetle PCE\", savestate: true },\n  mednafen_pce_fast: { corename: \"Beetle PCE Fast\", savestate: true },\n  mednafen_pcfx: { corename: \"Beetle PC-FX\" },\n  mednafen_psx: { cheats: true, corename: \"Beetle PSX\", savestate: true },\n  mednafen_psx_hw: { cheats: true, corename: \"Beetle PSX HW\", savestate: true },\n  mednafen_saturn: { cheats: true, corename: \"Beetle Saturn\", savestate: true },\n  mednafen_snes: { corename: \"Beetle bsnes\", savestate: true },\n  mednafen_supafaust: { cheats: true, corename: \"Beetle Supafaust\", savestate: true },\n  mednafen_supergrafx: { cheats: true, corename: \"Beetle SuperGrafx\", savestate: true },\n  mednafen_vb: { corename: \"Beetle VB\" },\n  mednafen_wswan: { corename: \"Beetle WonderSwan\", savestate: true },\n  melonds: { corename: \"melonDS\" },\n  mesen: { cheats: true, corename: \"Mesen\", savestate: true },\n  \"mesen-s\": { corename: \"Mesen-S\" },\n  mess2015: { corename: \"MESS 2015 (0.160)\" },\n  meteor: { corename: \"Meteor\" },\n  mgba: { cheats: true, corename: \"mGBA\", savestate: true },\n  minivmac: { corename: \"MinivmacII\" },\n  mojozork: { corename: \"mojozork\", savestate: true },\n  moonlight: { corename: \"Moonlight\", supportsNoGame: true },\n  mpv: { corename: \"MPV\" },\n  mrboom: { corename: \"Mr.Boom\", savestate: true, supportsNoGame: true },\n  mu: { corename: \"Mu\", supportsNoGame: true },\n  mupen64plus_next: { cheats: true, corename: \"Mupen64Plus-Next\", savestate: true },\n  mupen64plus_next_develop: { cheats: true, corename: \"Mupen64Plus-Next\", savestate: true },\n  mupen64plus_next_gles2: { cheats: true, corename: \"Mupen64Plus-Next\", savestate: true },\n  mupen64plus_next_gles3: { cheats: true, corename: \"Mupen64Plus-Next\", savestate: true },\n  nekop2: { corename: \"Neko Project II\", savestate: true },\n  neocd: { corename: \"NeoCD\" },\n  nes: { corename: \"nes\", savestate: true },\n  nestopia: { cheats: true, corename: \"Nestopia\", savestate: true },\n  np2kai: { corename: \"Neko Project II Kai\", savestate: true },\n  numero: { corename: \"Numero\", savestate: true, supportsNoGame: true },\n  nxengine: { corename: \"NXEngine\", supportsNoGame: true },\n  o2em: { corename: \"O2EM\", savestate: true },\n  oberon: { corename: \"Oberon\" },\n  openlara: { corename: \"OpenLara\" },\n  opentyrian: { corename: \"OpenTyrian\", supportsNoGame: true },\n  opera: { corename: \"Opera\", savestate: true, supportsNoGame: true },\n  parallel_n64: { corename: \"ParaLLEl N64\", savestate: true },\n  parallel_n64_debug: { corename: \"ParaLLEl (Debug)\", savestate: true },\n  pascal_pong: { corename: \"PascalPong\", supportsNoGame: true },\n  pcem: { corename: \"PCem\", supportsNoGame: true },\n  pcsx_rearmed: { cheats: true, corename: \"PCSX-ReARMed\", savestate: true },\n  pcsx_rearmed_interpreter: { cheats: true, corename: \"PCSX ReARMed [Interpreter]\", savestate: true },\n  pcsx_rearmed_neon: { cheats: true, corename: \"PCSX ReARMed [NEON]\", savestate: true },\n  pcsx1: { corename: \"PCSX1\" },\n  pcsx2: { corename: \"LRPS2\", savestate: true },\n  picodrive: { cheats: true, corename: \"PicoDrive\", savestate: true },\n  play: { corename: \"Play!\", savestate: true },\n  pocketcdg: { corename: \"PocketCDG\" },\n  pokemini: { corename: \"PokeMini\", savestate: true },\n  potator: { corename: \"Potator\", savestate: true },\n  ppsspp: { corename: \"PPSSPP\", savestate: true },\n  prboom: { cheats: true, corename: \"PrBoom\", savestate: true },\n  prosystem: { corename: \"ProSystem\", savestate: true },\n  puae: { cheats: true, corename: \"PUAE\", savestate: true, supportsNoGame: true },\n  puae2021: { cheats: true, corename: \"PUAE 2021\", savestate: true, supportsNoGame: true },\n  puzzlescript: { corename: \"puzzlescript\", savestate: true },\n  px68k: { corename: \"PX68k\", supportsNoGame: true },\n  quasi88: { cheats: true, corename: \"QUASI88\", savestate: true, supportsNoGame: true },\n  quicknes: { corename: \"QuickNES\", savestate: true },\n  race: { corename: \"RACE\", savestate: true },\n  redbook: { corename: \"Redbook\" },\n  reminiscence: { corename: \"REminiscence\", savestate: true },\n  remotejoy: { corename: \"RemoteJoy\", supportsNoGame: true },\n  retro8: { corename: \"Retro8\" },\n  retrodream: { corename: \"RetroDream\" },\n  rustation: { corename: \"Rustation\" },\n  same_cdi: { corename: \"SAME CDi (Git)\" },\n  sameboy: { corename: \"SameBoy\" },\n  sameduck: { corename: \"SameDuck\", savestate: true },\n  scummvm: { corename: \"ScummVM\", supportsNoGame: true },\n  simcp: { corename: \"SimCoupe\" },\n  smsplus: { corename: \"SMS Plus GX\" },\n  snes9x: { cheats: true, corename: \"Snes9x\", savestate: true },\n  snes9x2002: { cheats: true, corename: \"Snes9x 2002\", savestate: true },\n  snes9x2005: { cheats: true, corename: \"Snes9x 2005\", savestate: true },\n  snes9x2005_plus: { cheats: true, corename: \"Snes9x 2005 Plus\", savestate: true },\n  snes9x2010: { cheats: true, corename: \"Snes9x 2010\", savestate: true },\n  squirreljme: { corename: \"SquirrelJME\", supportsNoGame: true },\n  stella: { corename: \"Stella\", savestate: true },\n  stella2014: { corename: \"Stella 2014\", savestate: true },\n  stonesoup: { corename: \"Dungeon Crawl Stone Soup\" },\n  superbroswar: { corename: \"superbroswar\" },\n  swanstation: { corename: \"SwanStation\", savestate: true },\n  tempgba: { corename: \"TempGBA\" },\n  test: { corename: \"Test\", supportsNoGame: true },\n  test_netplay: { corename: \"netplay-test\", supportsNoGame: true },\n  testaudio_callback: { corename: \"TestAudio Callback\", supportsNoGame: true },\n  testaudio_no_callback: { corename: \"TestAudio NoCallback\", supportsNoGame: true },\n  testaudio_playback_wav: { corename: \"TestAudio Playback Wav\", supportsNoGame: true },\n  testgl: { corename: \"TestGL\", supportsNoGame: true },\n  testgl_compute_shaders: { corename: \"TestGL ComputeShaders\", supportsNoGame: true },\n  testgl_ff: { corename: \"TestGL (FF)\", supportsNoGame: true },\n  testinput_buttontest: { corename: \"Button Test\", supportsNoGame: true },\n  testretroluxury: { corename: \"Test RetroLuxury\", supportsNoGame: true },\n  testsw: { corename: \"TestSW\", supportsNoGame: true },\n  testsw_vram: { corename: \"TestSW VRAM\", supportsNoGame: true },\n  testvulkan: { corename: \"TestVulkan\", supportsNoGame: true },\n  testvulkan_async_compute: { corename: \"TestVulkan AsyncCompute\", supportsNoGame: true },\n  tgbdual: { corename: \"TGB Dual\", savestate: true },\n  theodore: { corename: \"theodore\", savestate: true, supportsNoGame: true },\n  thepowdertoy: { corename: \"ThePowderToy\", savestate: true, supportsNoGame: true },\n  tic80: { cheats: true, corename: \"TIC-80\", savestate: true },\n  tyrquake: { cheats: true, corename: \"TyrQuake\" },\n  uae4arm: { corename: \"UAE4ARM\", savestate: true },\n  ume2015: { corename: \"UME 2015 (0.160)\" },\n  uw8: { corename: \"MicroW8\", savestate: true },\n  uzem: { corename: \"uzem\", savestate: true },\n  vaporspec: { corename: \"VaporSpec\", savestate: true },\n  vba_next: { corename: \"VBA Next\", savestate: true },\n  vbam: { cheats: true, corename: \"VBA-M\", savestate: true },\n  vecx: { corename: \"vecx\", savestate: true },\n  vemulator: { corename: \"VeMUlator\" },\n  vice_x128: { cheats: true, corename: \"VICE x128\", savestate: true, supportsNoGame: true },\n  vice_x64: { cheats: true, corename: \"VICE x64\", savestate: true, supportsNoGame: true },\n  vice_x64dtv: { cheats: true, corename: \"VICE x64dtv\", savestate: true, supportsNoGame: true },\n  vice_x64sc: { cheats: true, corename: \"VICE x64sc\", savestate: true, supportsNoGame: true },\n  vice_xcbm2: { cheats: true, corename: \"VICE xcbm2\", savestate: true, supportsNoGame: true },\n  vice_xcbm5x0: { cheats: true, corename: \"VICE xcbm5x0\", savestate: true, supportsNoGame: true },\n  vice_xpet: { cheats: true, corename: \"VICE xpet\", savestate: true, supportsNoGame: true },\n  vice_xplus4: { cheats: true, corename: \"VICE xplus4\", savestate: true, supportsNoGame: true },\n  vice_xscpu64: { cheats: true, corename: \"VICE xscpu64\", savestate: true, supportsNoGame: true },\n  vice_xvic: { cheats: true, corename: \"VICE xvic\", savestate: true, supportsNoGame: true },\n  vircon32: { corename: \"Vircon32\", supportsNoGame: true },\n  virtualjaguar: { corename: \"Virtual Jaguar\" },\n  virtualxt: { corename: \"virtualxt\" },\n  vitaquake2: { corename: \"vitaQuake 2\" },\n  \"vitaquake2-rogue\": { corename: \"vitaQuake 2 [Rogue]\" },\n  \"vitaquake2-xatrix\": { corename: \"vitaQuake 2 [Xatrix]\" },\n  \"vitaquake2-zaero\": { corename: \"vitaQuake 2 [Zaero]\" },\n  vitaquake3: { corename: \"vitaQuake 3\" },\n  vitavoyager: { corename: \"vitaVoyager\" },\n  wasm4: { corename: \"WASM-4\", savestate: true },\n  x1: { corename: \"x1\" },\n  x64sdl: { corename: \"VICE SDL\" },\n  xrick: { corename: \"XRick\", supportsNoGame: true },\n  yabasanshiro: { cheats: true, corename: \"YabaSanshiro\", savestate: true },\n  yabause: { cheats: true, corename: \"Yabause\", savestate: true }\n};\nconst keyboardCodeMap = {\n  add: \"NumpadAdd\",\n  // is this right?\n  alt: \"AltLeft\",\n  backquote: \"Backquote\",\n  backslash: \"\",\n  // what's this?\n  backspace: \"Backspace\",\n  capslock: \"CapsLock\",\n  comma: \"Comma\",\n  ctrl: \"ControlLeft\",\n  del: \"Delete\",\n  divide: \"NumpadDivide\",\n  down: \"ArrowDown\",\n  end: \"End\",\n  enter: \"Enter\",\n  equals: \"Equal\",\n  escape: \"Escape\",\n  home: \"Home\",\n  insert: \"Insert\",\n  kp_enter: \"NumpadEnter\",\n  kp_equals: \"NumpadEquals\",\n  // is this right?\n  kp_minus: \"NumpadSubtract\",\n  kp_period: \"NumpadDecimal\",\n  kp_plus: \"NumpadAdd\",\n  left: \"ArrowLeft\",\n  leftbracket: \"BracketLeft\",\n  // is this right?\n  minus: \"Minus\",\n  multiply: \"NumpadMultiply\",\n  numlock: \"NumLock\",\n  pagedown: \"PageDown\",\n  pageup: \"PageUp\",\n  pause: \"Pause\",\n  period: \"Period\",\n  print_screen: \"PrintScreen\",\n  quote: \"Quote\",\n  ralt: \"AltRight\",\n  rctrl: \"ControlRight\",\n  right: \"ArrowRight\",\n  rightbracket: \"BracketRight\",\n  // is this right?\n  rshift: \"ShiftRight\",\n  scroll_lock: \"ScrollLock\",\n  semicolon: \"Semicolon\",\n  shift: \"ShiftLeft\",\n  slash: \"Slash\",\n  space: \"Space\",\n  subtract: \"NumpadSubtract\",\n  // is this right?\n  tab: \"Tab\",\n  tilde: \"\",\n  // what's this?\n  up: \"ArrowUp\"\n};\nfunction getEmscriptenModuleOverrides(overrides) {\n  let resolveRunDependenciesPromise;\n  const runDependenciesPromise = new Promise((resolve2) => {\n    resolveRunDependenciesPromise = resolve2;\n  });\n  const emscriptenModuleOverrides = {\n    noExitRuntime: false,\n    noInitialRun: true,\n    locateFile(file) {\n      return file;\n    },\n    // the return value of `monitorRunDependencies` seems to be misused here, but it works for now\n    async monitorRunDependencies(left) {\n      if (left === 0) {\n        resolveRunDependenciesPromise();\n      }\n      return await runDependenciesPromise;\n    },\n    print(...args) {\n      console.info(...args);\n    },\n    printErr(...args) {\n      console.error(...args);\n    },\n    // @ts-expect-error do not throw error when exit\n    quit(status, toThrow) {\n      if (status) {\n        console.info(status, toThrow);\n      }\n    },\n    ...overrides\n  };\n  return emscriptenModuleOverrides;\n}\nfunction getDefaultExportFromCjs(x) {\n  return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, \"default\") ? x[\"default\"] : x;\n}\nconst { hasOwnProperty } = Object.prototype;\nconst encode = (obj, opt = {}) => {\n  if (typeof opt === \"string\") {\n    opt = { section: opt };\n  }\n  opt.align = opt.align === true;\n  opt.newline = opt.newline === true;\n  opt.sort = opt.sort === true;\n  opt.whitespace = opt.whitespace === true || opt.align === true;\n  opt.platform = opt.platform || typeof process !== \"undefined\" && process.platform;\n  opt.bracketedArray = opt.bracketedArray !== false;\n  const eol = opt.platform === \"win32\" ? \"\\r\\n\" : \"\\n\";\n  const separator = opt.whitespace ? \" = \" : \"=\";\n  const children = [];\n  const keys = opt.sort ? Object.keys(obj).sort() : Object.keys(obj);\n  let padToChars = 0;\n  if (opt.align) {\n    padToChars = safe(\n      keys.filter((k) => obj[k] === null || Array.isArray(obj[k]) || typeof obj[k] !== \"object\").map((k) => Array.isArray(obj[k]) ? `${k}[]` : k).concat([\"\"]).reduce((a, b) => safe(a).length >= safe(b).length ? a : b)\n    ).length;\n  }\n  let out = \"\";\n  const arraySuffix = opt.bracketedArray ? \"[]\" : \"\";\n  for (const k of keys) {\n    const val = obj[k];\n    if (val && Array.isArray(val)) {\n      for (const item of val) {\n        out += safe(`${k}${arraySuffix}`).padEnd(padToChars, \" \") + separator + safe(item) + eol;\n      }\n    } else if (val && typeof val === \"object\") {\n      children.push(k);\n    } else {\n      out += safe(k).padEnd(padToChars, \" \") + separator + safe(val) + eol;\n    }\n  }\n  if (opt.section && out.length) {\n    out = \"[\" + safe(opt.section) + \"]\" + (opt.newline ? eol + eol : eol) + out;\n  }\n  for (const k of children) {\n    const nk = splitSections(k, \".\").join(\"\\\\.\");\n    const section = (opt.section ? opt.section + \".\" : \"\") + nk;\n    const child = encode(obj[k], {\n      ...opt,\n      section\n    });\n    if (out.length && child.length) {\n      out += eol;\n    }\n    out += child;\n  }\n  return out;\n};\nfunction splitSections(str, separator) {\n  var lastMatchIndex = 0;\n  var lastSeparatorIndex = 0;\n  var nextIndex = 0;\n  var sections = [];\n  do {\n    nextIndex = str.indexOf(separator, lastMatchIndex);\n    if (nextIndex !== -1) {\n      lastMatchIndex = nextIndex + separator.length;\n      if (nextIndex > 0 && str[nextIndex - 1] === \"\\\\\") {\n        continue;\n      }\n      sections.push(str.slice(lastSeparatorIndex, nextIndex));\n      lastSeparatorIndex = nextIndex + separator.length;\n    }\n  } while (nextIndex !== -1);\n  sections.push(str.slice(lastSeparatorIndex));\n  return sections;\n}\nconst decode = (str, opt = {}) => {\n  opt.bracketedArray = opt.bracketedArray !== false;\n  const out = /* @__PURE__ */ Object.create(null);\n  let p = out;\n  let section = null;\n  const re = /^\\[([^\\]]*)\\]\\s*$|^([^=]+)(=(.*))?$/i;\n  const lines = str.split(/[\\r\\n]+/g);\n  const duplicates = {};\n  for (const line of lines) {\n    if (!line || line.match(/^\\s*[;#]/) || line.match(/^\\s*$/)) {\n      continue;\n    }\n    const match = line.match(re);\n    if (!match) {\n      continue;\n    }\n    if (match[1] !== void 0) {\n      section = unsafe(match[1]);\n      if (section === \"__proto__\") {\n        p = /* @__PURE__ */ Object.create(null);\n        continue;\n      }\n      p = out[section] = out[section] || /* @__PURE__ */ Object.create(null);\n      continue;\n    }\n    const keyRaw = unsafe(match[2]);\n    let isArray;\n    if (opt.bracketedArray) {\n      isArray = keyRaw.length > 2 && keyRaw.slice(-2) === \"[]\";\n    } else {\n      duplicates[keyRaw] = ((duplicates == null ? void 0 : duplicates[keyRaw]) || 0) + 1;\n      isArray = duplicates[keyRaw] > 1;\n    }\n    const key = isArray && keyRaw.endsWith(\"[]\") ? keyRaw.slice(0, -2) : keyRaw;\n    if (key === \"__proto__\") {\n      continue;\n    }\n    const valueRaw = match[3] ? unsafe(match[4]) : true;\n    const value = valueRaw === \"true\" || valueRaw === \"false\" || valueRaw === \"null\" ? JSON.parse(valueRaw) : valueRaw;\n    if (isArray) {\n      if (!hasOwnProperty.call(p, key)) {\n        p[key] = [];\n      } else if (!Array.isArray(p[key])) {\n        p[key] = [p[key]];\n      }\n    }\n    if (Array.isArray(p[key])) {\n      p[key].push(value);\n    } else {\n      p[key] = value;\n    }\n  }\n  const remove = [];\n  for (const k of Object.keys(out)) {\n    if (!hasOwnProperty.call(out, k) || typeof out[k] !== \"object\" || Array.isArray(out[k])) {\n      continue;\n    }\n    const parts = splitSections(k, \".\");\n    p = out;\n    const l = parts.pop();\n    const nl = l.replace(/\\\\\\./g, \".\");\n    for (const part of parts) {\n      if (part === \"__proto__\") {\n        continue;\n      }\n      if (!hasOwnProperty.call(p, part) || typeof p[part] !== \"object\") {\n        p[part] = /* @__PURE__ */ Object.create(null);\n      }\n      p = p[part];\n    }\n    if (p === out && nl === l) {\n      continue;\n    }\n    p[nl] = out[k];\n    remove.push(k);\n  }\n  for (const del of remove) {\n    delete out[del];\n  }\n  return out;\n};\nconst isQuoted = (val) => {\n  return val.startsWith('\"') && val.endsWith('\"') || val.startsWith(\"'\") && val.endsWith(\"'\");\n};\nconst safe = (val) => {\n  if (typeof val !== \"string\" || val.match(/[=\\r\\n]/) || val.match(/^\\[/) || val.length > 1 && isQuoted(val) || val !== val.trim()) {\n    return JSON.stringify(val);\n  }\n  return val.split(\";\").join(\"\\\\;\").split(\"#\").join(\"\\\\#\");\n};\nconst unsafe = (val) => {\n  val = (val || \"\").trim();\n  if (isQuoted(val)) {\n    if (val.charAt(0) === \"'\") {\n      val = val.slice(1, -1);\n    }\n    try {\n      val = JSON.parse(val);\n    } catch {\n    }\n  } else {\n    let esc = false;\n    let unesc = \"\";\n    for (let i = 0, l = val.length; i < l; i++) {\n      const c = val.charAt(i);\n      if (esc) {\n        if (\"\\\\;#\".indexOf(c) !== -1) {\n          unesc += c;\n        } else {\n          unesc += \"\\\\\" + c;\n        }\n        esc = false;\n      } else if (\";#\".indexOf(c) !== -1) {\n        break;\n      } else if (c === \"\\\\\") {\n        esc = true;\n      } else {\n        unesc += c;\n      }\n    }\n    if (esc) {\n      unesc += \"\\\\\";\n    }\n    return unesc.trim();\n  }\n  return val;\n};\nvar ini$1 = {\n  parse: decode,\n  decode,\n  stringify: encode,\n  encode,\n  safe,\n  unsafe\n};\nconst ini$2 = /* @__PURE__ */ getDefaultExportFromCjs(ini$1);\nfunction assertPath(path2) {\n  if (typeof path2 !== \"string\") {\n    throw new TypeError(\"Path must be a string. Received \" + JSON.stringify(path2));\n  }\n}\nfunction normalizeStringPosix(path2, allowAboveRoot) {\n  var res = \"\";\n  var lastSegmentLength = 0;\n  var lastSlash = -1;\n  var dots = 0;\n  var code;\n  for (var i = 0; i <= path2.length; ++i) {\n    if (i < path2.length)\n      code = path2.charCodeAt(i);\n    else if (code === 47)\n      break;\n    else\n      code = 47;\n    if (code === 47) {\n      if (lastSlash === i - 1 || dots === 1) ;\n      else if (lastSlash !== i - 1 && dots === 2) {\n        if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 || res.charCodeAt(res.length - 2) !== 46) {\n          if (res.length > 2) {\n            var lastSlashIndex = res.lastIndexOf(\"/\");\n            if (lastSlashIndex !== res.length - 1) {\n              if (lastSlashIndex === -1) {\n                res = \"\";\n                lastSegmentLength = 0;\n              } else {\n                res = res.slice(0, lastSlashIndex);\n                lastSegmentLength = res.length - 1 - res.lastIndexOf(\"/\");\n              }\n              lastSlash = i;\n              dots = 0;\n              continue;\n            }\n          } else if (res.length === 2 || res.length === 1) {\n            res = \"\";\n            lastSegmentLength = 0;\n            lastSlash = i;\n            dots = 0;\n            continue;\n          }\n        }\n        if (allowAboveRoot) {\n          if (res.length > 0)\n            res += \"/..\";\n          else\n            res = \"..\";\n          lastSegmentLength = 2;\n        }\n      } else {\n        if (res.length > 0)\n          res += \"/\" + path2.slice(lastSlash + 1, i);\n        else\n          res = path2.slice(lastSlash + 1, i);\n        lastSegmentLength = i - lastSlash - 1;\n      }\n      lastSlash = i;\n      dots = 0;\n    } else if (code === 46 && dots !== -1) {\n      ++dots;\n    } else {\n      dots = -1;\n    }\n  }\n  return res;\n}\nfunction _format(sep, pathObject) {\n  var dir = pathObject.dir || pathObject.root;\n  var base = pathObject.base || (pathObject.name || \"\") + (pathObject.ext || \"\");\n  if (!dir) {\n    return base;\n  }\n  if (dir === pathObject.root) {\n    return dir + base;\n  }\n  return dir + sep + base;\n}\nvar posix = {\n  // path.resolve([from ...], to)\n  resolve: function resolve() {\n    var resolvedPath = \"\";\n    var resolvedAbsolute = false;\n    var cwd;\n    for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n      var path2;\n      if (i >= 0)\n        path2 = arguments[i];\n      else {\n        if (cwd === void 0)\n          cwd = process.cwd();\n        path2 = cwd;\n      }\n      assertPath(path2);\n      if (path2.length === 0) {\n        continue;\n      }\n      resolvedPath = path2 + \"/\" + resolvedPath;\n      resolvedAbsolute = path2.charCodeAt(0) === 47;\n    }\n    resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);\n    if (resolvedAbsolute) {\n      if (resolvedPath.length > 0)\n        return \"/\" + resolvedPath;\n      else\n        return \"/\";\n    } else if (resolvedPath.length > 0) {\n      return resolvedPath;\n    } else {\n      return \".\";\n    }\n  },\n  normalize: function normalize(path2) {\n    assertPath(path2);\n    if (path2.length === 0) return \".\";\n    var isAbsolute2 = path2.charCodeAt(0) === 47;\n    var trailingSeparator = path2.charCodeAt(path2.length - 1) === 47;\n    path2 = normalizeStringPosix(path2, !isAbsolute2);\n    if (path2.length === 0 && !isAbsolute2) path2 = \".\";\n    if (path2.length > 0 && trailingSeparator) path2 += \"/\";\n    if (isAbsolute2) return \"/\" + path2;\n    return path2;\n  },\n  isAbsolute: function isAbsolute(path2) {\n    assertPath(path2);\n    return path2.length > 0 && path2.charCodeAt(0) === 47;\n  },\n  join: function join() {\n    if (arguments.length === 0)\n      return \".\";\n    var joined;\n    for (var i = 0; i < arguments.length; ++i) {\n      var arg = arguments[i];\n      assertPath(arg);\n      if (arg.length > 0) {\n        if (joined === void 0)\n          joined = arg;\n        else\n          joined += \"/\" + arg;\n      }\n    }\n    if (joined === void 0)\n      return \".\";\n    return posix.normalize(joined);\n  },\n  relative: function relative(from, to) {\n    assertPath(from);\n    assertPath(to);\n    if (from === to) return \"\";\n    from = posix.resolve(from);\n    to = posix.resolve(to);\n    if (from === to) return \"\";\n    var fromStart = 1;\n    for (; fromStart < from.length; ++fromStart) {\n      if (from.charCodeAt(fromStart) !== 47)\n        break;\n    }\n    var fromEnd = from.length;\n    var fromLen = fromEnd - fromStart;\n    var toStart = 1;\n    for (; toStart < to.length; ++toStart) {\n      if (to.charCodeAt(toStart) !== 47)\n        break;\n    }\n    var toEnd = to.length;\n    var toLen = toEnd - toStart;\n    var length = fromLen < toLen ? fromLen : toLen;\n    var lastCommonSep = -1;\n    var i = 0;\n    for (; i <= length; ++i) {\n      if (i === length) {\n        if (toLen > length) {\n          if (to.charCodeAt(toStart + i) === 47) {\n            return to.slice(toStart + i + 1);\n          } else if (i === 0) {\n            return to.slice(toStart + i);\n          }\n        } else if (fromLen > length) {\n          if (from.charCodeAt(fromStart + i) === 47) {\n            lastCommonSep = i;\n          } else if (i === 0) {\n            lastCommonSep = 0;\n          }\n        }\n        break;\n      }\n      var fromCode = from.charCodeAt(fromStart + i);\n      var toCode = to.charCodeAt(toStart + i);\n      if (fromCode !== toCode)\n        break;\n      else if (fromCode === 47)\n        lastCommonSep = i;\n    }\n    var out = \"\";\n    for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {\n      if (i === fromEnd || from.charCodeAt(i) === 47) {\n        if (out.length === 0)\n          out += \"..\";\n        else\n          out += \"/..\";\n      }\n    }\n    if (out.length > 0)\n      return out + to.slice(toStart + lastCommonSep);\n    else {\n      toStart += lastCommonSep;\n      if (to.charCodeAt(toStart) === 47)\n        ++toStart;\n      return to.slice(toStart);\n    }\n  },\n  _makeLong: function _makeLong(path2) {\n    return path2;\n  },\n  dirname: function dirname(path2) {\n    assertPath(path2);\n    if (path2.length === 0) return \".\";\n    var code = path2.charCodeAt(0);\n    var hasRoot = code === 47;\n    var end = -1;\n    var matchedSlash = true;\n    for (var i = path2.length - 1; i >= 1; --i) {\n      code = path2.charCodeAt(i);\n      if (code === 47) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n        matchedSlash = false;\n      }\n    }\n    if (end === -1) return hasRoot ? \"/\" : \".\";\n    if (hasRoot && end === 1) return \"//\";\n    return path2.slice(0, end);\n  },\n  basename: function basename(path2, ext) {\n    if (ext !== void 0 && typeof ext !== \"string\") throw new TypeError('\"ext\" argument must be a string');\n    assertPath(path2);\n    var start = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i;\n    if (ext !== void 0 && ext.length > 0 && ext.length <= path2.length) {\n      if (ext.length === path2.length && ext === path2) return \"\";\n      var extIdx = ext.length - 1;\n      var firstNonSlashEnd = -1;\n      for (i = path2.length - 1; i >= 0; --i) {\n        var code = path2.charCodeAt(i);\n        if (code === 47) {\n          if (!matchedSlash) {\n            start = i + 1;\n            break;\n          }\n        } else {\n          if (firstNonSlashEnd === -1) {\n            matchedSlash = false;\n            firstNonSlashEnd = i + 1;\n          }\n          if (extIdx >= 0) {\n            if (code === ext.charCodeAt(extIdx)) {\n              if (--extIdx === -1) {\n                end = i;\n              }\n            } else {\n              extIdx = -1;\n              end = firstNonSlashEnd;\n            }\n          }\n        }\n      }\n      if (start === end) end = firstNonSlashEnd;\n      else if (end === -1) end = path2.length;\n      return path2.slice(start, end);\n    } else {\n      for (i = path2.length - 1; i >= 0; --i) {\n        if (path2.charCodeAt(i) === 47) {\n          if (!matchedSlash) {\n            start = i + 1;\n            break;\n          }\n        } else if (end === -1) {\n          matchedSlash = false;\n          end = i + 1;\n        }\n      }\n      if (end === -1) return \"\";\n      return path2.slice(start, end);\n    }\n  },\n  extname: function extname(path2) {\n    assertPath(path2);\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var preDotState = 0;\n    for (var i = path2.length - 1; i >= 0; --i) {\n      var code = path2.charCodeAt(i);\n      if (code === 47) {\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n      if (end === -1) {\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46) {\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n      } else if (startDot !== -1) {\n        preDotState = -1;\n      }\n    }\n    if (startDot === -1 || end === -1 || // We saw a non-dot character immediately before the dot\n    preDotState === 0 || // The (right-most) trimmed path component is exactly '..'\n    preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      return \"\";\n    }\n    return path2.slice(startDot, end);\n  },\n  format: function format(pathObject) {\n    if (pathObject === null || typeof pathObject !== \"object\") {\n      throw new TypeError('The \"pathObject\" argument must be of type Object. Received type ' + typeof pathObject);\n    }\n    return _format(\"/\", pathObject);\n  },\n  parse: function parse(path2) {\n    assertPath(path2);\n    var ret = { root: \"\", dir: \"\", base: \"\", ext: \"\", name: \"\" };\n    if (path2.length === 0) return ret;\n    var code = path2.charCodeAt(0);\n    var isAbsolute2 = code === 47;\n    var start;\n    if (isAbsolute2) {\n      ret.root = \"/\";\n      start = 1;\n    } else {\n      start = 0;\n    }\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i = path2.length - 1;\n    var preDotState = 0;\n    for (; i >= start; --i) {\n      code = path2.charCodeAt(i);\n      if (code === 47) {\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n      if (end === -1) {\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46) {\n        if (startDot === -1) startDot = i;\n        else if (preDotState !== 1) preDotState = 1;\n      } else if (startDot !== -1) {\n        preDotState = -1;\n      }\n    }\n    if (startDot === -1 || end === -1 || // We saw a non-dot character immediately before the dot\n    preDotState === 0 || // The (right-most) trimmed path component is exactly '..'\n    preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      if (end !== -1) {\n        if (startPart === 0 && isAbsolute2) ret.base = ret.name = path2.slice(1, end);\n        else ret.base = ret.name = path2.slice(startPart, end);\n      }\n    } else {\n      if (startPart === 0 && isAbsolute2) {\n        ret.name = path2.slice(1, startDot);\n        ret.base = path2.slice(1, end);\n      } else {\n        ret.name = path2.slice(startPart, startDot);\n        ret.base = path2.slice(startPart, end);\n      }\n      ret.ext = path2.slice(startDot, end);\n    }\n    if (startPart > 0) ret.dir = path2.slice(0, startPart - 1);\n    else if (isAbsolute2) ret.dir = \"/\";\n    return ret;\n  },\n  sep: \"/\",\n  delimiter: \":\",\n  win32: null,\n  posix: null\n};\nposix.posix = posix;\nvar pathBrowserify = posix;\nconst path$2 = /* @__PURE__ */ getDefaultExportFromCjs(pathBrowserify);\nconst vendors = {\n  ini: ini$2,\n  path: path$2\n};\nconst { path: path$1 } = vendors;\nconst textEncoder = new TextEncoder();\nfunction urlBaseName(url) {\n  let pathname = url;\n  try {\n    pathname = new URL(url).pathname;\n  } catch {\n  }\n  const name = path$1.basename(pathname);\n  try {\n    return decodeURIComponent(name);\n  } catch {\n    return name;\n  }\n}\nfunction isAbsoluteUrl(string) {\n  if (!string) {\n    return false;\n  }\n  if (typeof string !== \"string\") {\n    return false;\n  }\n  const absolutePrefixes = [\"http://\", \"https://\", \"//\", \"data:\", \"blob:\"];\n  return absolutePrefixes.some((absolutePrefix) => string.startsWith(absolutePrefix));\n}\nasync function blobToBuffer(blob) {\n  const arrayBuffer = await blob.arrayBuffer();\n  return new Uint8Array(arrayBuffer);\n}\nfunction updateStyle(element, style) {\n  if (!element) {\n    return;\n  }\n  for (const rule in style) {\n    const value = style[rule];\n    element.style[rule] = value || null;\n  }\n}\nfunction delay(time) {\n  return new Promise((resolve2) => {\n    setTimeout(resolve2, time);\n  });\n}\nfunction isGlobalScript(js) {\n  return js.startsWith(\"var Module\");\n}\nfunction isEsmScript(js) {\n  return js.includes(\"import.meta.url\");\n}\nfunction patchCoreJs({ js, name }) {\n  let jsContent = js;\n  if (isGlobalScript(js)) {\n    jsContent = `export function getEmscripten({ Module }) {\n        ${js};\n        Module.FS = FS;\n        Module.PATH = PATH;\n        Module.ERRNO_CODES = ERRNO_CODES;\n        return {\n          AL: typeof AL === 'undefined' ? null: AL,\n          Browser: typeof Browser === 'undefined' ? null: Browser,\n          JSEvents,\n          Module,\n          exit: _emscripten_force_exit\n         }\n      }`;\n  } else if (isEsmScript(js)) {\n    jsContent = `${js.replace(\n      \"readyPromiseResolve(Module)\",\n      `readyPromiseResolve({\n        AL: typeof AL === 'undefined' ? null: AL,\n        Browser: typeof Browser === 'undefined' ? null: Browser,\n        JSEvents,\n        Module,\n        exit: _emscripten_force_exit\n      })`\n    )};\n      export function getEmscripten({ Module }) {\n        return (libretro_${name} || ${name})(Module)\n      }\n    `;\n  }\n  return jsContent;\n}\nasync function importCoreJsAsESM({ js, name }) {\n  const jsContent = patchCoreJs({ js, name });\n  const jsBlob = new Blob([jsContent], { type: \"application/javascript\" });\n  const jsBlobUrl = URL.createObjectURL(jsBlob);\n  if (!jsBlobUrl) {\n    throw new Error(\"invalid jsBlob\");\n  }\n  try {\n    return await import(\n      /* @vite-ignore */\n      /* webpackIgnore: true */\n      jsBlobUrl\n    );\n  } catch {\n    return await new Function(\"return import(jsBlobUrl)\")();\n  } finally {\n    URL.revokeObjectURL(jsBlobUrl);\n  }\n}\nfunction isNil(obj) {\n  return obj === void 0 || obj === null;\n}\nfunction isPlainObject(obj) {\n  if (isNil(obj)) {\n    return false;\n  }\n  const { constructor } = obj;\n  return constructor === Object || !constructor;\n}\nfunction mergeSourceToTarget(target, source) {\n  for (const key in source) {\n    if (Object.prototype.hasOwnProperty.call(source, key)) {\n      const targetValue = target[key];\n      const sourceValue = source[key];\n      if (isNil(targetValue)) {\n        target[key] = sourceValue;\n      } else if (Array.isArray(targetValue) && Array.isArray(sourceValue)) {\n        target[key] = [...targetValue, ...sourceValue];\n      } else if (isPlainObject(targetValue) && isPlainObject(sourceValue)) {\n        target[key] = isPlainObject(targetValue) ? target[key] : {};\n        mergeSourceToTarget(target[key], sourceValue);\n      } else {\n        target[key] = sourceValue;\n      }\n    }\n  }\n}\nfunction merge(target, ...sources) {\n  for (const source of sources) {\n    mergeSourceToTarget(target, source);\n  }\n}\nfunction checkIsAborted(signal) {\n  if (signal == null ? void 0 : signal.aborted) {\n    throw new Error(\"Launch aborted\");\n  }\n}\nfunction padZero(number) {\n  return (number < 10 ? \"0\" : \"\") + number;\n}\nconst { ini, path } = vendors;\nconst raUserdataDir = \"/home/web_user/retroarch/userdata\";\nconst raBundleDir = \"/home/web_user/retroarch/bundle\";\nconst raContentDir = path.join(raUserdataDir, \"content\");\nconst raSystemDir = path.join(raUserdataDir, \"system\");\nconst raConfigDir = path.join(raUserdataDir, \"config\");\nconst raShaderDir = path.join(raBundleDir, \"shaders\", \"shaders_glsl\");\nconst raConfigPath = path.join(raUserdataDir, \"retroarch.cfg\");\nconst raCoreConfigPath = path.join(raUserdataDir, \"retroarch-core-options.cfg\");\nclass Emulator {\n  constructor(options) {\n    __publicField(this, \"canvasInitialSize\", { height: 0, width: 0 });\n    __publicField(this, \"gameStatus\", \"initial\");\n    __publicField(this, \"messageQueue\", []);\n    __publicField(this, \"options\");\n    __publicField(this, \"emscripten\");\n    this.options = options;\n  }\n  clearStateFile() {\n    const { Module } = this.getEmscripten();\n    const { FS } = Module;\n    try {\n      FS.unlink(this.stateFileName);\n      FS.unlink(this.stateThumbnailFileName);\n    } catch {\n    }\n  }\n  fireKeyboardEvent(type, code) {\n    const { JSEvents } = this.getEmscripten();\n    for (const { eventListenerFunc, eventTypeString } of JSEvents.eventHandlers) {\n      if (eventTypeString === type) {\n        try {\n          eventListenerFunc({ code, target: this.options.element });\n        } catch {\n        }\n      }\n    }\n  }\n  getCurrentRetroarchConfig() {\n    const { Module } = this.getEmscripten();\n    const { FS } = Module;\n    const configContent = FS.readFile(raConfigPath, { encoding: \"utf8\" });\n    return ini.parse(configContent);\n  }\n  getElementSize() {\n    const { element, size } = this.options;\n    return !size || size === \"auto\" ? { height: element.offsetHeight, width: element.offsetWidth } : size;\n  }\n  getKeyboardCode(button, player = 1) {\n    const config = this.getCurrentRetroarchConfig();\n    const configName = `input_player${player}_${button}`;\n    const key = config[configName];\n    if (!key || key === \"nul\") {\n      return;\n    }\n    const { length } = key;\n    if (length === 1) {\n      return `Key${key.toUpperCase()}`;\n    }\n    if (key[0] === \"f\" && (length === 2 || length === 3)) {\n      return key.toUpperCase();\n    }\n    if (length === 4 && key.startsWith(\"num\")) {\n      return `Numpad${key.at(-1)}`;\n    }\n    if (length === 7 && key.startsWith(\"keypad\")) {\n      return `Digit${key.at(-1)}`;\n    }\n    return keyboardCodeMap[key] || \"\";\n  }\n  guessScreenshotFileName() {\n    const date = /* @__PURE__ */ new Date();\n    const year = date.getFullYear() % 1e3;\n    const month = padZero(date.getMonth() + 1);\n    const day = padZero(date.getDate());\n    const hour = padZero(date.getHours());\n    const minute = padZero(date.getMinutes());\n    const second = padZero(date.getSeconds());\n    const dateString = `${year}${month}${day}-${hour}${minute}${second}`;\n    const baseName = this.romBaseName;\n    return `${baseName}-${dateString}.png`;\n  }\n  keyboardDown(code) {\n    this.fireKeyboardEvent(\"keydown\", code);\n  }\n  async keyboardPress(code, time = 100) {\n    this.keyboardDown(code);\n    await delay(time);\n    this.keyboardUp(code);\n  }\n  keyboardUp(code) {\n    this.fireKeyboardEvent(\"keyup\", code);\n  }\n  postRun() {\n    var _a;\n    this.resize(this.canvasInitialSize);\n    for (const gamepad of ((_a = navigator.getGamepads) == null ? void 0 : _a.call(navigator)) ?? []) {\n      if (gamepad) {\n        window.dispatchEvent(new GamepadEvent(\"gamepadconnected\", { gamepad }));\n      }\n    }\n    this.updateKeyboardEventHandlers();\n  }\n  runMain() {\n    checkIsAborted(this.options.signal);\n    const { Module } = this.getEmscripten();\n    const { arguments: raArgs = [] } = Module;\n    const { rom, signal } = this.options;\n    if (!Module.arguments && rom.length > 0) {\n      const [{ fileName }] = rom;\n      raArgs.push(path.join(raContentDir, fileName));\n    }\n    Module.callMain(raArgs);\n    signal == null ? void 0 : signal.addEventListener(\"abort\", () => {\n      this.exit();\n    });\n    this.gameStatus = \"running\";\n    this.postRun();\n  }\n  async setupEmscripten() {\n    var _a;\n    if (typeof window === \"object\") {\n      window.setImmediate ?? (window.setImmediate = window.setTimeout);\n    }\n    const { core, element, emscriptenModule, signal } = this.options;\n    const { wasm } = core;\n    const moduleOptions = { canvas: element, preRun: [], wasmBinary: wasm, ...emscriptenModule };\n    const initialModule = getEmscriptenModuleOverrides(moduleOptions);\n    (_a = initialModule.preRun) == null ? void 0 : _a.push(() => initialModule.FS.init(() => this.stdin()));\n    const { getEmscripten } = await importCoreJsAsESM(core);\n    const emscripten = await getEmscripten({ Module: initialModule });\n    this.emscripten = emscripten;\n    const { Module } = emscripten;\n    await Module.monitorRunDependencies();\n    checkIsAborted(signal);\n    await this.setupFileSystem();\n  }\n  async setupFileSystem() {\n    const { Module } = this.getEmscripten();\n    const { FS } = Module;\n    const { bios, rom, signal, state } = this.options;\n    if (rom.length > 0) {\n      FS.mkdirTree(raContentDir);\n    }\n    if (bios.length > 0) {\n      FS.mkdirTree(raSystemDir);\n    }\n    if (state) {\n      FS.mkdirTree(this.stateFileDirectory);\n    }\n    const maxWaitTime = 100;\n    let waitTime = 0;\n    while (!Module.asm && waitTime < maxWaitTime) {\n      await delay(10);\n      checkIsAborted(signal);\n      waitTime += 5;\n    }\n    const filePromises = [];\n    filePromises.push(\n      ...rom.map((file) => this.writeBlobToDirectory({ ...file, directory: raContentDir })),\n      ...bios.map((file) => this.writeBlobToDirectory({ ...file, directory: raSystemDir }))\n    );\n    if (state) {\n      const statePromise = this.writeBlobToDirectory({\n        directory: this.stateFileDirectory,\n        fileContent: state,\n        fileName: `${this.romBaseName}.state.auto`\n      });\n      filePromises.push(statePromise);\n    }\n    await Promise.all(filePromises);\n    checkIsAborted(signal);\n  }\n  async setupRaConfigFile() {\n    this.writeConfigFile({ config: this.options.retroarchConfig, path: raConfigPath });\n    this.writeConfigFile({ config: this.options.retroarchCoreConfig, path: raCoreConfigPath });\n    await this.setupRaShaderFile();\n  }\n  async setupRaShaderFile() {\n    const { shader } = this.options;\n    if (shader.length === 0) {\n      return;\n    }\n    const glslFiles = shader.filter((file) => file.fileName.endsWith(\".glslp\"));\n    if (glslFiles.length === 0) {\n      return;\n    }\n    const glslpContent = glslFiles.map((file) => `#reference \"${path.join(raShaderDir, file.fileName)}\"`).join(\"\\n\");\n    this.writeTextToDirectory({ directory: raConfigDir, fileContent: glslpContent, fileName: \"global.glslp\" });\n    await Promise.all(\n      shader.map(async ({ fileContent, fileName }) => {\n        const directory = fileName.endsWith(\".glslp\") ? raShaderDir : path.join(raShaderDir, \"shaders\");\n        await this.writeBlobToDirectory({ directory, fileContent, fileName });\n      })\n    );\n  }\n  // copied from https://github.com/libretro/RetroArch/pull/15017\n  stdin() {\n    const { messageQueue } = this;\n    while (messageQueue.length > 0) {\n      const msg = messageQueue[0][0];\n      const index = messageQueue[0][1];\n      if (index >= msg.length) {\n        messageQueue.shift();\n      } else {\n        messageQueue[0][1] = index + 1;\n        return msg[index];\n      }\n    }\n    return null;\n  }\n  updateKeyboardEventHandlers() {\n    const { JSEvents } = this.getEmscripten();\n    const { element, respondToGlobalEvents } = this.options;\n    if (!respondToGlobalEvents) {\n      if (!element.getAttribute(\"tabindex\")) {\n        element.tabIndex = -1;\n      }\n      element.focus();\n      element.addEventListener(\"click\", () => {\n        element.focus();\n      });\n    }\n    const keyboardEvents = /* @__PURE__ */ new Set([\"keyup\", \"keydown\", \"keypress\"]);\n    const globalKeyboardEventHandlers = JSEvents.eventHandlers.filter(\n      ({ eventTypeString, target }) => keyboardEvents.has(eventTypeString) && (target === document || target === element)\n    );\n    for (const globalKeyboardEventHandler of globalKeyboardEventHandlers) {\n      const { eventTypeString, handlerFunc, target } = globalKeyboardEventHandler;\n      JSEvents.registerOrRemoveHandler({ eventTypeString, target });\n      JSEvents.registerOrRemoveHandler({\n        ...globalKeyboardEventHandler,\n        handlerFunc: (...args) => {\n          const [event] = args;\n          if (respondToGlobalEvents || (event == null ? void 0 : event.target) === element) {\n            handlerFunc(...args);\n          }\n        },\n        target: respondToGlobalEvents ? document : element\n      });\n    }\n  }\n  async waitForEmscriptenFile(fileName) {\n    const { Module } = this.getEmscripten();\n    const { FS } = Module;\n    const maxRetries = 30;\n    let buffer;\n    let isFinished = false;\n    let retryTimes = 0;\n    while (retryTimes <= maxRetries && !isFinished) {\n      const delayTime = Math.min(100 * 2 ** retryTimes, 1e3);\n      await delay(delayTime);\n      try {\n        const newBuffer = FS.readFile(fileName).buffer;\n        isFinished = (buffer == null ? void 0 : buffer.byteLength) > 0 && (buffer == null ? void 0 : buffer.byteLength) === newBuffer.byteLength;\n        buffer = newBuffer;\n      } catch (error) {\n        console.warn(error);\n      }\n      retryTimes += 1;\n    }\n    if (!isFinished) {\n      throw new Error(\"fs timeout\");\n    }\n    return buffer;\n  }\n  async writeBlobToDirectory({\n    directory,\n    fileContent,\n    fileName\n  }) {\n    const { Module } = this.getEmscripten();\n    const { FS } = Module;\n    const buffer = await blobToBuffer(fileContent);\n    FS.createDataFile(\"/\", fileName, buffer, true, false);\n    const encoding = \"binary\";\n    const data = FS.readFile(fileName, { encoding });\n    FS.mkdirTree(directory);\n    FS.writeFile(path.join(directory, fileName), data, { encoding });\n    FS.unlink(fileName);\n  }\n  writeConfigFile({ config, path: path2 }) {\n    const { Module } = this.getEmscripten();\n    const { FS } = Module;\n    const dir = path2.slice(0, path2.lastIndexOf(\"/\"));\n    FS.mkdirTree(dir);\n    for (const key in config) {\n      config[key] = `__${config[key]}__`;\n    }\n    let fileContent = ini.stringify(config, { platform: \"linux\", whitespace: true });\n    fileContent = fileContent.replaceAll(\"__\", '\"');\n    const fileName = vendors.path.basename(path2);\n    const directory = vendors.path.dirname(path2);\n    this.writeTextToDirectory({ directory, fileContent, fileName });\n  }\n  writeTextToDirectory({\n    directory,\n    fileContent,\n    fileName\n  }) {\n    const { Module } = this.getEmscripten();\n    const { FS } = Module;\n    const buffer = textEncoder.encode(fileContent);\n    FS.createDataFile(\"/\", fileName, buffer, true, false);\n    const encoding = \"binary\";\n    const data = FS.readFile(fileName, { encoding });\n    FS.mkdirTree(directory);\n    FS.writeFile(path.join(directory, fileName), data, { encoding });\n    FS.unlink(fileName);\n  }\n  exit(statusCode = 0) {\n    const { emscripten } = this;\n    if (emscripten) {\n      const { exit, JSEvents, Module } = this.getEmscripten();\n      const { FS } = Module;\n      exit(statusCode);\n      FS.unmount(\"/home\");\n      JSEvents.removeAllEventListeners();\n    }\n  }\n  getEmscripten() {\n    if (!this.emscripten) {\n      throw new Error(\"emulator is not ready\");\n    }\n    return this.emscripten;\n  }\n  getOptions() {\n    return this.options;\n  }\n  async launch() {\n    await this.setupEmscripten();\n    checkIsAborted(this.options.signal);\n    await this.setupRaConfigFile();\n    checkIsAborted(this.options.signal);\n    const { element, respondToGlobalEvents, signal, style, waitForInteraction } = this.options;\n    updateStyle(element, style);\n    if (!element.isConnected) {\n      document.body.append(element);\n      signal == null ? void 0 : signal.addEventListener(\"abort\", () => {\n        element == null ? void 0 : element.remove();\n      });\n    }\n    this.canvasInitialSize = this.getElementSize();\n    if (respondToGlobalEvents === false) {\n      if (!element.tabIndex || element.tabIndex === -1) {\n        element.tabIndex = 0;\n      }\n      const { activeElement } = document;\n      element.focus();\n      signal == null ? void 0 : signal.addEventListener(\"abort\", () => {\n        if (activeElement instanceof HTMLElement) {\n          activeElement.focus();\n        }\n      });\n    }\n    const { beforeLaunch, nostalgist, onLaunch } = this.options;\n    if (beforeLaunch) {\n      await beforeLaunch(nostalgist);\n    }\n    const run = async () => {\n      this.runMain();\n      if (onLaunch) {\n        await onLaunch(nostalgist);\n      }\n    };\n    if (waitForInteraction) {\n      waitForInteraction({ done: run });\n    } else {\n      run();\n    }\n  }\n  async loadState(blob) {\n    this.clearStateFile();\n    const { Module } = this.getEmscripten();\n    const { FS } = Module;\n    const buffer = await blobToBuffer(blob);\n    FS.writeFile(this.stateFileName, buffer);\n    await this.waitForEmscriptenFile(this.stateFileName);\n    this.sendCommand(\"LOAD_STATE\");\n  }\n  pause() {\n    if (this.gameStatus === \"running\") {\n      this.sendCommand(\"PAUSE_TOGGLE\");\n    }\n    this.gameStatus = \"paused\";\n  }\n  async press(button, player = 1, time = 100) {\n    const code = this.getKeyboardCode(button, player);\n    if (code) {\n      await this.keyboardPress(code, time);\n    }\n  }\n  pressDown(button, player = 1) {\n    const code = this.getKeyboardCode(button, player);\n    if (code) {\n      this.keyboardDown(code);\n    }\n  }\n  pressUp(button, player = 1) {\n    const code = this.getKeyboardCode(button, player);\n    if (code) {\n      this.keyboardUp(code);\n    }\n  }\n  resize({ height, width }) {\n    const { Module } = this.getEmscripten();\n    if (typeof width === \"number\" && typeof height === \"number\") {\n      Module.setCanvasSize(width, height);\n    }\n  }\n  restart() {\n    this.sendCommand(\"RESET\");\n    this.resume();\n  }\n  resume() {\n    if (this.gameStatus === \"paused\") {\n      this.sendCommand(\"PAUSE_TOGGLE\");\n    }\n    this.gameStatus = \"running\";\n  }\n  async saveState() {\n    this.clearStateFile();\n    this.sendCommand(\"SAVE_STATE\");\n    const savestateThumbnailEnable = this.options.retroarchConfig.savestate_thumbnail_enable;\n    let stateBuffer;\n    let stateThumbnailBuffer;\n    if (savestateThumbnailEnable) {\n      [stateBuffer, stateThumbnailBuffer] = await Promise.all([\n        this.waitForEmscriptenFile(this.stateFileName),\n        this.waitForEmscriptenFile(this.stateThumbnailFileName)\n      ]);\n    } else {\n      stateBuffer = await this.waitForEmscriptenFile(this.stateFileName);\n    }\n    this.clearStateFile();\n    const state = new Blob([stateBuffer], { type: \"application/octet-stream\" });\n    const thumbnail = stateThumbnailBuffer ? new Blob([stateThumbnailBuffer], { type: \"image/png\" }) : void 0;\n    return { state, thumbnail };\n  }\n  async screenshot() {\n    this.sendCommand(\"SCREENSHOT\");\n    const screenshotDirectory = path.join(raUserdataDir, \"screenshots\");\n    const screenshotFileName = this.guessScreenshotFileName();\n    const screenshotPath = path.join(screenshotDirectory, screenshotFileName);\n    const buffer = await this.waitForEmscriptenFile(screenshotPath);\n    const { Module } = this.getEmscripten();\n    const { FS } = Module;\n    FS.unlink(screenshotPath);\n    const blobProperty = { type: \"image/png\" };\n    return new Blob([buffer], blobProperty);\n  }\n  sendCommand(msg) {\n    const bytes = textEncoder.encode(`${msg}\n`);\n    this.messageQueue.push([bytes, 0]);\n  }\n  get romBaseName() {\n    const {\n      rom: [{ fileName }]\n    } = this.options;\n    return fileName.slice(0, fileName.lastIndexOf(\".\"));\n  }\n  get stateFileDirectory() {\n    const { core } = this.options;\n    const coreFullName = coreInfoMap[core.name].corename;\n    if (!coreFullName) {\n      throw new Error(`invalid core name: ${core.name}`);\n    }\n    return path.join(raUserdataDir, \"states\", coreFullName);\n  }\n  get stateFileName() {\n    return path.join(this.stateFileDirectory, `${this.romBaseName}.state`);\n  }\n  get stateThumbnailFileName() {\n    return `${this.stateFileName}.png`;\n  }\n}\nconst defaultRetroarchConfig = {\n  menu_driver: \"rgui\",\n  notification_show_when_menu_is_alive: true,\n  savestate_auto_load: true,\n  savestate_thumbnail_enable: true,\n  stdin_cmd_enable: true,\n  video_shader_enable: true,\n  input_audio_mute: \"nul\",\n  // override default 'f9'\n  input_cheat_index_minus: \"nul\",\n  // override default 't',\n  input_cheat_index_plus: \"nul\",\n  // override default 'y',\n  input_cheat_toggle: \"nul\",\n  // override default 'u',\n  input_desktop_menu_toggle: \"nul\",\n  // override default 'f5'\n  input_exit_emulator: \"nul\",\n  // override default 'esc',\n  input_fps_toggle: \"nul\",\n  // override default 'f3'\n  input_frame_advance: \"nul\",\n  // override default 'k',\n  input_game_focus_toggle: \"nul\",\n  // override default 'scroll_lock'\n  input_grab_mouse_toggle: \"nul\",\n  // override default 'f11'\n  input_hold_fast_forward: \"nul\",\n  // override default 'l',\n  input_hold_slowmotion: \"nul\",\n  // override default 'e',\n  input_load_state: \"nul\",\n  // override default 'f4'\n  input_netplay_game_watch: \"nul\",\n  // override default 'i',\n  input_netplay_player_chat: \"nul\",\n  // override default 'tilde'\n  input_pause_toggle: \"nul\",\n  // override default 'p',\n  input_reset: \"nul\",\n  // override default 'h',\n  input_rewind: \"nul\",\n  // override default 'r',\n  input_save_state: \"nul\",\n  // override default 'f2'\n  input_screenshot: \"nul\",\n  // override default 'f8'\n  input_shader_next: \"nul\",\n  // override default 'm',\n  input_shader_prev: \"nul\",\n  // override default 'n',\n  input_shader_toggle: \"nul\",\n  // override default 'comma'\n  input_state_slot_decrease: \"nul\",\n  // override default 'f6'\n  input_state_slot_increase: \"nul\",\n  // override default 'f7'\n  input_toggle_fast_forward: \"nul\",\n  // override default 'space'\n  input_toggle_fullscreen: \"nul\",\n  // override default 'f',\n  input_volume_down: \"nul\",\n  // override default 'subtract'\n  input_volume_up: \"nul\",\n  // override default 'add'\n  input_player1_analog_dpad_mode: 1,\n  input_player2_analog_dpad_mode: 1,\n  input_player3_analog_dpad_mode: 1,\n  input_player4_analog_dpad_mode: 1\n};\nconst cdnBaseUrl = \"https://cdn.jsdelivr.net/gh\";\nconst coreRepo = \"arianrhodsandlot/retroarch-emscripten-build\";\nconst coreVersion = \"v1.19.1\";\nconst coreDirectory = \"retroarch\";\nconst shaderRepo = \"libretro/glsl-shaders\";\nconst shaderVersion = \"bc8df9\";\nfunction getDefaultOptions() {\n  const defaultOptions = {\n    element: \"\",\n    retroarchConfig: defaultRetroarchConfig,\n    retroarchCoreConfig: {},\n    runEmulatorManually: false,\n    resolveCoreJs(core) {\n      return `${cdnBaseUrl}/${coreRepo}@${coreVersion}/${coreDirectory}/${core}_libretro.js`;\n    },\n    resolveCoreWasm(core) {\n      return `${cdnBaseUrl}/${coreRepo}@${coreVersion}/${coreDirectory}/${core}_libretro.wasm`;\n    },\n    resolveRom(file) {\n      if (typeof file !== \"string\") {\n        return file || [];\n      }\n      if (isAbsoluteUrl(file)) {\n        return file;\n      }\n      let romRepo = \"\";\n      if (file.endsWith(\".nes\")) {\n        romRepo = \"retrobrews/nes-games\";\n      } else if (file.endsWith(\".sfc\")) {\n        romRepo = \"retrobrews/snes-games\";\n      } else if (file.endsWith(\".gb\") || file.endsWith(\".gbc\")) {\n        romRepo = \"retrobrews/gbc-games\";\n      } else if (file.endsWith(\".gba\")) {\n        romRepo = \"retrobrews/gba-games\";\n      } else if (file.endsWith(\".sms\")) {\n        romRepo = \"retrobrews/sms-games\";\n      } else if (file.endsWith(\".md\") || file.endsWith(\".bin\")) {\n        romRepo = \"retrobrews/md-games\";\n      }\n      if (romRepo) {\n        const encodedFile = encodeURIComponent(file);\n        return `${cdnBaseUrl}/${romRepo}@master/${encodedFile}`;\n      }\n      return file || [];\n    },\n    resolveBios(file) {\n      return file || [];\n    },\n    resolveShader(name) {\n      if (!name) {\n        return [];\n      }\n      const { path: path2 } = vendors;\n      const preset = `${cdnBaseUrl}/${shaderRepo}@${shaderVersion}/${name}.glslp`;\n      const segments = name.split(path2.sep);\n      segments.splice(-1, 0, \"shaders\");\n      const shader = `${cdnBaseUrl}/${shaderRepo}@${shaderVersion}/${segments.join(path2.sep)}.glsl`;\n      return [preset, shader];\n    }\n  };\n  return defaultOptions;\n}\nconst _Nostalgist = class _Nostalgist {\n  constructor(options) {\n    __publicField(this, \"emulator\");\n    __publicField(this, \"emulatorOptions\");\n    __publicField(this, \"options\");\n    const globalOptions = { ..._Nostalgist.globalOptions };\n    const localOptions = { ...options };\n    const mergedOptions = {};\n    merge(mergedOptions, globalOptions, localOptions);\n    this.options = mergedOptions;\n  }\n  /**\n   * Update the global options for `Nostalgist`, so everytime the `Nostalgist.launch` method or shortcuts like `Nostalgist.nes` is called, the default options specified here will be used.\n   *\n   * You may want to specify how to resolve ROMs and RetroArch cores here.\n   *\n   * @see {@link https://nostalgist.js.org/apis/configure/}\n   *\n   * @example\n   * ```js\n   * Nostalgist.configure({\n   *   resolveRom({ file }) {\n   *     return `https://example.com/roms/${file}`\n   *   },\n   *   // other configuation can also be specified here\n   * })\n   * ```\n   */\n  static configure(options) {\n    merge(_Nostalgist.globalOptions, options);\n  }\n  /**\n   * A shortcut method for Nostalgist.launch method, with some additional default options for GB emulation.\n   *\n   * It will use mgba as the default core for emulation.\n   *\n   * @see {@link https://nostalgist.js.org/apis/gb/}\n   */\n  static async gb(options) {\n    return await _Nostalgist.launchSystem(\"gb\", options);\n  }\n  /**\n   * A shortcut method for Nostalgist.launch method, with some additional default options for GBA emulation.\n   *\n   * It will use mgba as the default core for emulation.\n   *\n   * @see {@link https://nostalgist.js.org/apis/gba/}\n   */\n  static async gba(options) {\n    return await _Nostalgist.launchSystem(\"gba\", options);\n  }\n  /**\n   * A shortcut method for Nostalgist.launch method, with some additional default options for GBC emulation.\n   *\n   * It will use mgba as the default core for emulation.\n   *\n   * @see {@link https://nostalgist.js.org/apis/gbc/}\n   */\n  static async gbc(options) {\n    return await _Nostalgist.launchSystem(\"gbc\", options);\n  }\n  static getCoreForSystem(system) {\n    return systemCoreMap[system];\n  }\n  /**\n   * Launch an emulator and return a `Promise` of the instance of the emulator.\n   *\n   * @see {@link https://nostalgist.js.org/apis/launch/}\n   *\n   * @example\n   * A simple example:\n   * ```js\n   * const nostalgist = await Nostalgist.launch({\n   *   core: 'fceumm',\n   *   rom: 'flappybird.nes',\n   * })\n   * ```\n   *\n   * @example\n   * A more complex one:\n   * ```js\n   * const nostalgist = await Nostalgist.launch({\n   *   element: document.querySelector('.emulator-canvas'),\n   *   core: 'fbneo',\n   *   rom: ['mslug.zip'],\n   *   bios: ['neogeo.zip'],\n   *   retroarchConfig: {\n   *     rewind_enable: true,\n   *     savestate_thumbnail_enable: true,\n   *   }\n   *   runEmulatorManually: false,\n   *   resolveCoreJs(core) {\n   *     return `https://example.com/core/${core}_libretro.js`\n   *   },\n   *   resolveCoreWasm(core) {\n   *     return `https://example.com/core/${core}_libretro.wasm`\n   *   },\n   *   resolveRom(file) {\n   *     return `https://example.com/roms/${file}`\n   *   },\n   *   resolveBios(bios) {\n   *     return `https://example.com/system/${bios}`\n   *   },\n   * })\n   * ```\n   */\n  static async launch(options) {\n    const nostalgist = new _Nostalgist(options);\n    await nostalgist.launch();\n    return nostalgist;\n  }\n  static async launchSystem(system, options) {\n    const launchOptions = typeof options === \"string\" || options instanceof Blob || \"fileName\" in options && \"fileContent\" in options ? { rom: options } : options;\n    const core = _Nostalgist.getCoreForSystem(system);\n    return await _Nostalgist.launch({ ...launchOptions, core });\n  }\n  /**\n   * A shortcut method for Nostalgist.launch method, with some additional default options for Sega Genesis / Megadrive emulation.\n   *\n   * It will use genesis_plus_gx as the default core for emulation.\n   *\n   * @see {@link https://nostalgist.js.org/apis/megadrive/}\n   */\n  static async megadrive(options) {\n    return await _Nostalgist.launchSystem(\"megadrive\", options);\n  }\n  /**\n   * A shortcut method for Nostalgist.launch method, with some additional default options for NES emulation.\n   *\n   * It will use fceumm as the default core for emulation.\n   *\n   * @see {@link https://nostalgist.js.org/apis/nes/}\n   */\n  static async nes(options) {\n    return await _Nostalgist.launchSystem(\"nes\", options);\n  }\n  /**\n   * Reset the global configuation set by `Nostalgist.configure` to default.\n   *\n   * @see {@link https://nostalgist.js.org/apis/reset-to-default/}\n   */\n  static resetToDefault() {\n    _Nostalgist.configure(getDefaultOptions());\n  }\n  /**\n   * A shortcut method for Nostalgist.launch method, with some additional default options for SNES emulation.\n   *\n   * It will use snes9x as the default core for emulation.\n   *\n   * @see {@link https://nostalgist.js.org/apis/snes/}\n   */\n  static async snes(options) {\n    return await _Nostalgist.launchSystem(\"snes\", options);\n  }\n  async fetch(input) {\n    const { signal = null } = this.options;\n    return await fetch(input, { signal });\n  }\n  async getBiosOption() {\n    const { bios, resolveBios } = this.options;\n    if (!bios) {\n      return [];\n    }\n    const biosFiles = Array.isArray(bios) ? bios : [bios];\n    return await Promise.all(biosFiles.map((biosFile) => this.resolveFile(biosFile, resolveBios)));\n  }\n  async getCoreOption() {\n    const { core, resolveCoreJs, resolveCoreWasm } = this.options;\n    let coreDict;\n    if (typeof core === \"string\") {\n      const [js2, wasm2] = await Promise.all([resolveCoreJs(core, this.options), resolveCoreWasm(core, this.options)]);\n      coreDict = { js: js2, name: core, wasm: wasm2 };\n    } else {\n      coreDict = core;\n    }\n    let { js, name, wasm } = coreDict;\n    const promises = [];\n    if (typeof js === \"string\") {\n      promises.push(\n        (async () => {\n          const response = await this.fetch(js);\n          js = await response.text();\n        })()\n      );\n    }\n    if (typeof wasm === \"string\") {\n      promises.push(\n        (async () => {\n          const response = await this.fetch(wasm);\n          wasm = await response.arrayBuffer();\n        })()\n      );\n    }\n    if (promises.length > 0) {\n      await Promise.all(promises);\n    }\n    return { js, name, wasm };\n  }\n  getElementOption() {\n    if (typeof document !== \"object\") {\n      throw new TypeError(\"document must be an object\");\n    }\n    let { element } = this.options;\n    if (typeof element === \"string\" && element) {\n      const canvas = document.body.querySelector(element);\n      if (!canvas) {\n        throw new Error(`can not find element \"${element}\"`);\n      }\n      if (!(canvas instanceof HTMLCanvasElement)) {\n        throw new TypeError(`element \"${element}\" is not a canvas element`);\n      }\n      element = canvas;\n    }\n    if (!element) {\n      element = document.createElement(\"canvas\");\n    }\n    if (element instanceof HTMLCanvasElement) {\n      element.id = \"canvas\";\n      return element;\n    }\n    throw new TypeError(\"invalid element\");\n  }\n  getRetroarchCoreOption() {\n    const options = {};\n    merge(options, _Nostalgist.globalOptions.retroarchCoreConfig, this.options.retroarchCoreConfig);\n    return options;\n  }\n  getRetroarchOption() {\n    const options = {};\n    merge(options, _Nostalgist.globalOptions.retroarchConfig, this.options.retroarchConfig);\n    return options;\n  }\n  async getRomOption() {\n    const { resolveRom, rom } = this.options;\n    if (!rom) {\n      return [];\n    }\n    const romFiles = Array.isArray(rom) ? rom : [rom];\n    return await Promise.all(romFiles.map((romFile) => this.resolveFile(romFile, resolveRom)));\n  }\n  async getShaderOption() {\n    const { resolveShader, shader } = this.options;\n    if (!shader) {\n      return [];\n    }\n    const shaderFile = await resolveShader(shader, this.options);\n    if (Array.isArray(shaderFile)) {\n      if (shaderFile.length > 0) {\n        return await Promise.all(shaderFile.map((file) => this.resolveFile(file)));\n      }\n      return [];\n    }\n    if (shaderFile) {\n      return [await this.resolveFile(shaderFile)];\n    }\n    return [];\n  }\n  getStyleOption() {\n    const { element, style } = this.options;\n    const defaultAppearanceStyle = {\n      backgroundColor: \"black\",\n      imageRendering: \"pixelated\"\n    };\n    if (element) {\n      merge(defaultAppearanceStyle, style);\n      return defaultAppearanceStyle;\n    }\n    const defaultLayoutStyle = {\n      height: \"100%\",\n      left: \"0\",\n      position: \"fixed\",\n      top: \"0\",\n      width: \"100%\",\n      zIndex: \"1\"\n    };\n    merge(defaultLayoutStyle, defaultAppearanceStyle, style);\n    return defaultLayoutStyle;\n  }\n  /**\n   * Load options and then launch corresponding emulator if should\n   */\n  async launch() {\n    await this.loadEmulatorOptions();\n    checkIsAborted(this.options.signal);\n    this.loadEmulator();\n    if (!this.options.runEmulatorManually) {\n      await this.launchEmulator();\n    }\n  }\n  loadEmulator() {\n    const emulatorOptions = this.getEmulatorOptions();\n    const emulator = new Emulator(emulatorOptions);\n    this.emulator = emulator;\n  }\n  async loadEmulatorOptions() {\n    const {\n      beforeLaunch,\n      emscriptenModule = {},\n      onLaunch,\n      respondToGlobalEvents = true,\n      signal,\n      size = \"auto\",\n      state,\n      waitForInteraction\n    } = this.options;\n    const element = this.getElementOption();\n    const style = this.getStyleOption();\n    const retroarchConfig = this.getRetroarchOption();\n    const retroarchCoreConfig = this.getRetroarchCoreOption();\n    const [core, rom, bios, shader] = await Promise.all([\n      this.getCoreOption(),\n      this.getRomOption(),\n      this.getBiosOption(),\n      this.getShaderOption()\n    ]);\n    checkIsAborted(signal);\n    const emulatorOptions = {\n      beforeLaunch,\n      bios,\n      core,\n      element,\n      emscriptenModule,\n      nostalgist: this,\n      onLaunch,\n      respondToGlobalEvents,\n      retroarchConfig,\n      retroarchCoreConfig,\n      rom,\n      shader,\n      signal,\n      size,\n      state,\n      style,\n      waitForInteraction\n    };\n    this.emulatorOptions = emulatorOptions;\n  }\n  async resolveFile(file, resolveFunction) {\n    let fileName = \"\";\n    let fileContent;\n    if (file instanceof File) {\n      fileContent = file;\n      fileName = file.name;\n    } else if (file instanceof Blob) {\n      fileContent = file;\n      fileName = \"rom.bin\";\n    } else if (typeof file === \"string\") {\n      const resolvedFile = await this.resolveStringFile(file, resolveFunction);\n      fileName = resolvedFile.fileName;\n      fileContent = resolvedFile.fileContent;\n    } else {\n      if (typeof file.fileName === \"string\") {\n        fileName = file.fileName;\n      }\n      if (file.fileContent instanceof Blob) {\n        fileContent = file.fileContent;\n      }\n    }\n    if (!fileContent) {\n      throw new TypeError(\"file content is invalid\");\n    }\n    fileName = fileName ? fileName.replaceAll(/[\"%*/:<>?\\\\|]/g, \"-\") : \"rom.bin\";\n    return { fileContent, fileName };\n  }\n  async resolveStringFile(file, resolveFunction) {\n    let fileName = urlBaseName(file);\n    let fileContent;\n    const resolvedRom = resolveFunction ? await resolveFunction(file, this.options) : file;\n    if (!resolvedRom) {\n      throw new Error(\"file is invalid\");\n    }\n    if (resolvedRom instanceof Blob) {\n      fileContent = resolvedRom;\n    } else if (typeof resolvedRom === \"string\") {\n      fileName = urlBaseName(resolvedRom);\n      const response = await this.fetch(resolvedRom);\n      fileContent = await response.blob();\n    }\n    return { fileContent, fileName };\n  }\n  /**\n   * Exit the current running game and the emulator. Remove the canvas element used by the emulator if needed.\n   *\n   * @see {@link https://nostalgist.js.org/apis/exit/}\n   *\n   * @example\n   * ```js\n   * const nostalgist = await Nostalgist.nes('flappybird.nes')\n   *\n   * nostalgist.exit()\n   * ```\n   * ```js\n   * const nostalgist = await Nostalgist.nes('flappybird.nes')\n   *\n   * // the canvas element will not be removed\n   * nostalgist.exit({ removeCanvas: false })\n   * ```\n   */\n  exit({ removeCanvas = true } = {}) {\n    this.getEmulator().exit();\n    if (removeCanvas) {\n      this.getCanvas().remove();\n    }\n  }\n  /**\n   * Get the canvas DOM element that the current emulator is using.\n   *\n   * @see {@link https://nostalgist.js.org/apis/get-canvas/}\n   */\n  getCanvas() {\n    return this.getEmulatorOptions().element;\n  }\n  /**\n   * Get the Emscripten object exposed by RetroArch.\n   *\n   * @see {@link https://nostalgist.js.org/apis/get-emscripten-module/}\n   */\n  getEmscripten() {\n    const emulator = this.getEmulator();\n    return emulator.getEmscripten();\n  }\n  /**\n   * Get the Emscripten AL object exposed by RetroArch.\n   *\n   * @see {@link https://nostalgist.js.org/apis/get-emscripten-module/}\n   */\n  getEmscriptenAL() {\n    const emulator = this.getEmulator();\n    return emulator.getEmscripten().AL;\n  }\n  /**\n   * Get the Emscripten FS object of the current running emulator.\n   *\n   * @see {@link https://nostalgist.js.org/apis/get-emscripten-fs/}\n   */\n  getEmscriptenFS() {\n    const emulator = this.getEmulator();\n    const emscripten = emulator.getEmscripten();\n    return emscripten.Module.FS;\n  }\n  /**\n   * Get the Emscripten Module object of the current running emulator.\n   *\n   * @see {@link https://nostalgist.js.org/apis/get-emscripten-module/}\n   */\n  getEmscriptenModule() {\n    const emulator = this.getEmulator();\n    const emscripten = emulator.getEmscripten();\n    return emscripten.Module;\n  }\n  getEmulator() {\n    const { emulator } = this;\n    if (!emulator) {\n      throw new Error(\"emulator is not ready\");\n    }\n    return emulator;\n  }\n  getEmulatorOptions() {\n    if (!this.emulatorOptions) {\n      throw new Error(\"emulator options are not ready\");\n    }\n    return this.emulatorOptions;\n  }\n  getOptions() {\n    return this.options;\n  }\n  /**\n   * Launch the emulator, if it's not launched, because of the launch option `runEmulatorManually` being set to `true`.\n   *\n   * @see {@link https://nostalgist.js.org/apis/launch-emulator/}\n   */\n  async launchEmulator() {\n    return await this.getEmulator().launch();\n  }\n  /**\n   * Load a state for the current running emulator and game.\n   *\n   * @see {@link https://nostalgist.js.org/apis/load-state/}\n   *\n   * @example\n   * ```js\n   * const nostalgist = await Nostalgist.nes('flappybird.nes')\n   *\n   * // save the state\n   * const { state } = await nostalgist.saveState(state)\n   *\n   * // load the state\n   * await nostalgist.loadState(state)\n   * ```\n   */\n  async loadState(state) {\n    await this.getEmulator().loadState(state);\n  }\n  /**\n   * Pause the current running game.\n   *\n   * @see {@link https://nostalgist.js.org/apis/pause/}\n   *\n   * @example\n   * ```js\n   * const nostalgist = await Nostalgist.nes('flappybird.nes')\n   *\n   * nostalgist.pause()\n   * ```\n   */\n  pause() {\n    this.getEmulator().pause();\n  }\n  /**\n   * Press a button and then release it programmatically. Analog Joysticks are not supported by now.\n   *\n   * @see {@link https://nostalgist.js.org/apis/press/}\n   *\n   * @example\n   * ```js\n   * const nostalgist = await Nostalgist.nes('flappybird.nes')\n   *\n   * await nostalgist.press('start')\n   * ```\n   */\n  async press(options) {\n    const emulator = this.getEmulator();\n    await (typeof options === \"string\" ? emulator.press(options) : emulator.press(options.button, options.player, options.time));\n  }\n  /**\n   * Press a button programmatically. Analog Joysticks are not supported by now.\n   *\n   * @see {@link https://nostalgist.js.org/apis/press-down/}\n   *\n   * @example\n   * ```js\n   * const nostalgist = await Nostalgist.nes('flappybird.nes')\n   *\n   * nostalgist.pressDown('start')\n   * ```\n   */\n  pressDown(options) {\n    const emulator = this.getEmulator();\n    if (typeof options === \"string\") {\n      return emulator.pressDown(options);\n    }\n    return emulator.pressDown(options.button, options.player);\n  }\n  /**\n   * Release it programmatically. Analog Joysticks are not supported by now.\n   *\n   * @see {@link https://nostalgist.js.org/apis/press-up/}\n   *\n   * @example\n   * ```js\n   * const nostalgist = await Nostalgist.nes('flappybird.nes')\n   *\n   * nostalgist.pressUp('start')\n   * ```\n   */\n  pressUp(options) {\n    const emulator = this.getEmulator();\n    if (typeof options === \"string\") {\n      return emulator.pressUp(options);\n    }\n    return emulator.pressUp(options.button, options.player);\n  }\n  /**\n   * Resize the canvas element of the emulator.\n   *\n   * @see {@link https://nostalgist.js.org/apis/resize/}\n   *\n   * @example\n   * ```js\n   * const nostalgist = await Nostalgist.nes('flappybird.nes')\n   *\n   * nostalgist.resize({ width: 1000, height: 800 })\n   * ```\n   */\n  resize(size) {\n    return this.getEmulator().resize(size);\n  }\n  /**\n   * Restart the current running game.\n   *\n   * @see {@link https://nostalgist.js.org/apis/restart/}\n   *\n   * @example\n   * ```js\n   * const nostalgist = await Nostalgist.nes('flappybird.nes')\n   *\n   * nostalgist.restart()\n   * ```\n   */\n  restart() {\n    this.getEmulator().restart();\n  }\n  /**\n   * Resume the current running game, if it has been paused by `pause`.\n   *\n   * @see {@link https://nostalgist.js.org/apis/resume/}\n   *\n   * @example\n   * ```js\n   * const nostalgist = await Nostalgist.nes('flappybird.nes')\n   *\n   * nostalgist.pause()\n   * await new Promise(resolve => setTimeout(resolve, 1000))\n   * nostalgist.resume()\n   * ```\n   */\n  resume() {\n    this.getEmulator().resume();\n  }\n  /**\n   * Save the state of the current running game.\n   *\n   * @see {@link https://nostalgist.js.org/apis/save-state/}\n   *\n   * @example\n   * ```js\n   * const nostalgist = await Nostalgist.nes('flappybird.nes')\n   *\n   * // save the state\n   * const { state } = await nostalgist.saveState()\n   *\n   * // load the state\n   * await nostalgist.loadState(state)\n   * ```\n   * @returns\n   * A Promise of the state of the current running game.\n   *\n   * Its type is like `Promise<{ state: Blob, thumbnail: Blob | undefined }>`.\n   *\n   * If RetroArch is launched with the option `savestate_thumbnail_enable` set to `true`, which is the default value inside Nostalgist.js, then the `thumbnail` will be a `Blob`. Otherwise the `thumbnail` will be `undefined`.\n   */\n  async saveState() {\n    return await this.getEmulator().saveState();\n  }\n  /**\n   * Take a screenshot for the current running game.\n   *\n   * @see {@link https://nostalgist.js.org/apis/screenshot/}\n   *\n   * @example\n   * ```js\n   * const nostalgist = await Nostalgist.nes('flappybird.nes')\n   *\n   * const blob = await nostalgist.screenshot()\n   * ```\n   */\n  async screenshot() {\n    const emulator = this.getEmulator();\n    return await emulator.screenshot();\n  }\n  /**\n   * Send a command to RetroArch.\n   * The commands are listed here: https://docs.libretro.com/development/retroarch/network-control-interface/#commands .\n   * But not all of them are supported inside a browser.\n   *\n   * @see {@link https://nostalgist.js.org/apis/send-command/}\n   *\n   * @example\n   * ```js\n   * const nostalgist = await Nostalgist.nes('flappybird.nes')\n   *\n   * nostalgist.sendCommand('FAST_FORWARD')\n   * ```\n   */\n  sendCommand(command) {\n    const emulator = this.getEmulator();\n    return emulator.sendCommand(command);\n  }\n};\n__publicField(_Nostalgist, \"globalOptions\", getDefaultOptions());\n__publicField(_Nostalgist, \"Nostalgist\", _Nostalgist);\n__publicField(_Nostalgist, \"vendors\", vendors);\nlet Nostalgist = _Nostalgist;\nexport {\n  Nostalgist\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// startup\n// Load entry module and return exports\n// This entry module used 'module' so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(96);\n"],"names":["webpackQueues","webpackExports","webpackError","resolveQueue","image_path","Nostalgist","configure","element","document","querySelector","resolveCoreJs","core","replace","resolveCoreWasm","retroarchConfig","rewind_enable","launch","rom","cachedSetTimeout","cachedClearTimeout","process","module","exports","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","setTimeout","e","call","this","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","length","concat","drainQueue","timeout","len","run","marker","runClearTimeout","Item","array","noop","nextTick","args","Array","arguments","i","push","prototype","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","__defProp","Object","defineProperty","__publicField","obj","key","value","enumerable","configurable","writable","__defNormalProp","systemCoreMap","gb","gba","gbc","megadrive","nes","snes","coreInfoMap","corename","savestate","supportsNoGame","a5200","advanced_tests","ardens","arduous","atari800","bk","blastem","bluemsx","bnes","boom3","boom3_xp","bsnes","bsnes_cplusplus98","cheats","bsnes_hd_beta","bsnes_mercury_accuracy","bsnes_mercury_balanced","bsnes_mercury_performance","bsnes2014_accuracy","bsnes2014_balanced","bsnes2014_performance","cannonball","cap32","cdi2015","chailove","chimerasnes","citra","citra_canary","citra2018","craft","crocods","cruzes","daphne","desmume","desmume2015","dinothawr","directxbox","dirksimple","dolphin","dolphin_launcher","dosbox","dosbox_core","dosbox_pure","dosbox_svn","dosbox_svn_ce","duckstation","easyrpg","ecwolf","emuscv","emux_chip8","emux_gb","emux_nes","emux_sms","ep128emu_core","fake08","fbalpha2012","fbalpha2012_cps1","fbalpha2012_cps2","fbalpha2012_cps3","fbalpha2012_neogeo","fbneo","fceumm","ffmpeg","fixgb","fixnes","flycast","flycast_gles2","fmsx","freechaf","freeintv","freej2me","frodo","fsuae","fuse","galaksija","gambatte","gearboy","gearcoleco","gearsystem","genesis_plus_gx","genesis_plus_gx_wide","gme","gong","gpsp","gw","handy","hatari","hbmame","higan_sfc","higan_sfc_balanced","imageviewer","ishiiruka","jaxe","jumpnbump","kronos","lowresnx","lutro","mame","mame2000","mame2003","mame2003_midway","mame2003_plus","mame2009","mame2010","mame2015","mame2016","mamearcade","mamemess","mednafen_gba","mednafen_lynx","mednafen_ngp","mednafen_pce","mednafen_pce_fast","mednafen_pcfx","mednafen_psx","mednafen_psx_hw","mednafen_saturn","mednafen_snes","mednafen_supafaust","mednafen_supergrafx","mednafen_vb","mednafen_wswan","melonds","mesen","mess2015","meteor","mgba","minivmac","mojozork","moonlight","mpv","mrboom","mu","mupen64plus_next","mupen64plus_next_develop","mupen64plus_next_gles2","mupen64plus_next_gles3","nekop2","neocd","nestopia","np2kai","numero","nxengine","o2em","oberon","openlara","opentyrian","opera","parallel_n64","parallel_n64_debug","pascal_pong","pcem","pcsx_rearmed","pcsx_rearmed_interpreter","pcsx_rearmed_neon","pcsx1","pcsx2","picodrive","play","pocketcdg","pokemini","potator","ppsspp","prboom","prosystem","puae","puae2021","puzzlescript","px68k","quasi88","quicknes","race","redbook","reminiscence","remotejoy","retro8","retrodream","rustation","same_cdi","sameboy","sameduck","scummvm","simcp","smsplus","snes9x","snes9x2002","snes9x2005","snes9x2005_plus","snes9x2010","squirreljme","stella","stella2014","stonesoup","superbroswar","swanstation","tempgba","test","test_netplay","testaudio_callback","testaudio_no_callback","testaudio_playback_wav","testgl","testgl_compute_shaders","testgl_ff","testinput_buttontest","testretroluxury","testsw","testsw_vram","testvulkan","testvulkan_async_compute","tgbdual","theodore","thepowdertoy","tic80","tyrquake","uae4arm","ume2015","uw8","uzem","vaporspec","vba_next","vbam","vecx","vemulator","vice_x128","vice_x64","vice_x64dtv","vice_x64sc","vice_xcbm2","vice_xcbm5x0","vice_xpet","vice_xplus4","vice_xscpu64","vice_xvic","vircon32","virtualjaguar","virtualxt","vitaquake2","vitaquake3","vitavoyager","wasm4","x1","x64sdl","xrick","yabasanshiro","yabause","keyboardCodeMap","add","alt","backquote","backslash","backspace","capslock","comma","ctrl","del","divide","down","end","enter","equals","escape","home","insert","kp_enter","kp_equals","kp_minus","kp_period","kp_plus","left","leftbracket","minus","multiply","numlock","pagedown","pageup","pause","period","print_screen","quote","ralt","rctrl","right","rightbracket","rshift","scroll_lock","semicolon","shift","slash","space","subtract","tab","tilde","up","getDefaultExportFromCjs","x","__esModule","hasOwnProperty","encode","opt","section","align","newline","sort","whitespace","platform","bracketedArray","eol","separator","children","keys","padToChars","safe","filter","k","isArray","map","reduce","a","b","out","arraySuffix","val","item","padEnd","nk","splitSections","join","child","str","lastMatchIndex","lastSeparatorIndex","nextIndex","sections","indexOf","slice","decode","create","p","re","lines","split","duplicates","line","match","unsafe","keyRaw","endsWith","valueRaw","JSON","parse","remove","parts","l","pop","nl","part","isQuoted","startsWith","trim","stringify","esc","unesc","c","charAt","ini$2","assertPath","path2","TypeError","normalizeStringPosix","allowAboveRoot","code","res","lastSegmentLength","lastSlash","dots","charCodeAt","lastSlashIndex","lastIndexOf","posix","resolve","resolvedPath","resolvedAbsolute","normalize","isAbsolute2","trailingSeparator","isAbsolute","joined","arg","relative","from","to","fromStart","fromEnd","fromLen","toStart","toLen","lastCommonSep","fromCode","_makeLong","dirname","hasRoot","matchedSlash","basename","ext","start","extIdx","firstNonSlashEnd","extname","startDot","startPart","preDotState","format","pathObject","sep","root","base","_format","ret","delimiter","win32","vendors","ini","path","path$1","textEncoder","TextEncoder","urlBaseName","url","pathname","URL","decodeURIComponent","async","blobToBuffer","blob","arrayBuffer","Uint8Array","delay","time","Promise","resolve2","isNil","isPlainObject","constructor","mergeSourceToTarget","target","source","targetValue","sourceValue","merge","sources","checkIsAborted","signal","aborted","padZero","number","raUserdataDir","raContentDir","raSystemDir","raConfigDir","raShaderDir","raConfigPath","raCoreConfigPath","Emulator","options","height","width","clearStateFile","Module","getEmscripten","FS","unlink","stateFileName","stateThumbnailFileName","fireKeyboardEvent","type","JSEvents","eventListenerFunc","eventTypeString","eventHandlers","getCurrentRetroarchConfig","configContent","readFile","encoding","getElementSize","size","offsetHeight","offsetWidth","getKeyboardCode","button","player","toUpperCase","at","guessScreenshotFileName","date","Date","dateString","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","romBaseName","keyboardDown","keyboardPress","keyboardUp","postRun","_a","resize","canvasInitialSize","gamepad","navigator","getGamepads","window","dispatchEvent","GamepadEvent","updateKeyboardEventHandlers","runMain","raArgs","fileName","callMain","addEventListener","exit","gameStatus","setupEmscripten","setImmediate","emscriptenModule","wasm","initialModule","overrides","resolveRunDependenciesPromise","runDependenciesPromise","noExitRuntime","noInitialRun","locateFile","file","print","console","info","printErr","error","quit","status","toThrow","getEmscriptenModuleOverrides","canvas","preRun","wasmBinary","init","stdin","js","jsContent","isGlobalScript","includes","isEsmScript","patchCoreJs","jsBlob","Blob","jsBlobUrl","createObjectURL","import","Function","revokeObjectURL","importCoreJsAsESM","emscripten","monitorRunDependencies","setupFileSystem","bios","state","mkdirTree","stateFileDirectory","waitTime","asm","filePromises","writeBlobToDirectory","directory","statePromise","fileContent","all","setupRaConfigFile","writeConfigFile","config","retroarchCoreConfig","setupRaShaderFile","shader","glslFiles","glslpContent","writeTextToDirectory","messageQueue","msg","index","respondToGlobalEvents","getAttribute","tabIndex","focus","keyboardEvents","Set","globalKeyboardEventHandlers","has","globalKeyboardEventHandler","handlerFunc","registerOrRemoveHandler","event","waitForEmscriptenFile","buffer","isFinished","retryTimes","delayTime","Math","min","newBuffer","byteLength","warn","createDataFile","data","writeFile","replaceAll","statusCode","unmount","removeAllEventListeners","getOptions","style","waitForInteraction","rule","updateStyle","isConnected","body","append","activeElement","HTMLElement","beforeLaunch","nostalgist","onLaunch","done","loadState","sendCommand","press","pressDown","pressUp","setCanvasSize","restart","resume","saveState","stateBuffer","stateThumbnailBuffer","savestate_thumbnail_enable","thumbnail","screenshot","screenshotDirectory","screenshotFileName","screenshotPath","bytes","coreFullName","defaultRetroarchConfig","menu_driver","notification_show_when_menu_is_alive","savestate_auto_load","stdin_cmd_enable","video_shader_enable","input_audio_mute","input_cheat_index_minus","input_cheat_index_plus","input_cheat_toggle","input_desktop_menu_toggle","input_exit_emulator","input_fps_toggle","input_frame_advance","input_game_focus_toggle","input_grab_mouse_toggle","input_hold_fast_forward","input_hold_slowmotion","input_load_state","input_netplay_game_watch","input_netplay_player_chat","input_pause_toggle","input_reset","input_rewind","input_save_state","input_screenshot","input_shader_next","input_shader_prev","input_shader_toggle","input_state_slot_decrease","input_state_slot_increase","input_toggle_fast_forward","input_toggle_fullscreen","input_volume_down","input_volume_up","input_player1_analog_dpad_mode","input_player2_analog_dpad_mode","input_player3_analog_dpad_mode","input_player4_analog_dpad_mode","cdnBaseUrl","coreRepo","coreVersion","coreDirectory","shaderRepo","shaderVersion","getDefaultOptions","runEmulatorManually","resolveRom","string","some","absolutePrefix","romRepo","encodedFile","encodeURIComponent","resolveBios","resolveShader","preset","segments","splice","_Nostalgist","mergedOptions","globalOptions","launchSystem","getCoreForSystem","system","launchOptions","resetToDefault","fetch","input","getBiosOption","biosFiles","biosFile","resolveFile","getCoreOption","coreDict","js2","wasm2","promises","response","text","getElementOption","HTMLCanvasElement","createElement","id","getRetroarchCoreOption","getRetroarchOption","getRomOption","romFiles","romFile","getShaderOption","shaderFile","getStyleOption","defaultAppearanceStyle","backgroundColor","imageRendering","defaultLayoutStyle","position","top","zIndex","loadEmulatorOptions","loadEmulator","launchEmulator","emulatorOptions","getEmulatorOptions","emulator","resolveFunction","File","resolvedFile","resolveStringFile","resolvedRom","removeCanvas","getEmulator","getCanvas","getEmscriptenAL","AL","getEmscriptenFS","getEmscriptenModule","command","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","Symbol","d","forEach","fn","r","hasAwait","currentDeps","outerResolve","reject","depQueues","promise","rej","deps","dep","then","wrapDeps","getResult","fnQueue","q","err","definition","o","get","prop"],"sourceRoot":""}