{"version":3,"file":"main.js","mappings":"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","sources":["webpack:///@robloach/nextcloud-nostalgist/webpack/runtime/async module","webpack:///@robloach/nextcloud-nostalgist/node_modules/nostalgist/dist/nostalgist.js","webpack:///@robloach/nextcloud-nostalgist/src/main.js","webpack:///@robloach/nextcloud-nostalgist/node_modules/process/browser.js","webpack:///@robloach/nextcloud-nostalgist/webpack/bootstrap","webpack:///@robloach/nextcloud-nostalgist/webpack/runtime/define property getters","webpack:///@robloach/nextcloud-nostalgist/webpack/runtime/hasOwnProperty shorthand","webpack:///@robloach/nextcloud-nostalgist/webpack/startup"],"sourcesContent":["var webpackQueues = typeof Symbol === \"function\" ? Symbol(\"webpack queues\") : \"__webpack_queues__\";\nvar webpackExports = typeof Symbol === \"function\" ? Symbol(\"webpack exports\") : \"__webpack_exports__\";\nvar webpackError = typeof Symbol === \"function\" ? Symbol(\"webpack error\") : \"__webpack_error__\";\nvar resolveQueue = (queue) => {\n\tif(queue && queue.d < 1) {\n\t\tqueue.d = 1;\n\t\tqueue.forEach((fn) => (fn.r--));\n\t\tqueue.forEach((fn) => (fn.r-- ? fn.r++ : fn()));\n\t}\n}\nvar wrapDeps = (deps) => (deps.map((dep) => {\n\tif(dep !== null && typeof dep === \"object\") {\n\t\tif(dep[webpackQueues]) return dep;\n\t\tif(dep.then) {\n\t\t\tvar queue = [];\n\t\t\tqueue.d = 0;\n\t\t\tdep.then((r) => {\n\t\t\t\tobj[webpackExports] = r;\n\t\t\t\tresolveQueue(queue);\n\t\t\t}, (e) => {\n\t\t\t\tobj[webpackError] = e;\n\t\t\t\tresolveQueue(queue);\n\t\t\t});\n\t\t\tvar obj = {};\n\t\t\tobj[webpackQueues] = (fn) => (fn(queue));\n\t\t\treturn obj;\n\t\t}\n\t}\n\tvar ret = {};\n\tret[webpackQueues] = x => {};\n\tret[webpackExports] = dep;\n\treturn ret;\n}));\n__webpack_require__.a = (module, body, hasAwait) => {\n\tvar queue;\n\thasAwait && ((queue = []).d = -1);\n\tvar depQueues = new Set();\n\tvar exports = module.exports;\n\tvar currentDeps;\n\tvar outerResolve;\n\tvar reject;\n\tvar promise = new Promise((resolve, rej) => {\n\t\treject = rej;\n\t\touterResolve = resolve;\n\t});\n\tpromise[webpackExports] = exports;\n\tpromise[webpackQueues] = (fn) => (queue && fn(queue), depQueues.forEach(fn), promise[\"catch\"](x => {}));\n\tmodule.exports = promise;\n\tbody((deps) => {\n\t\tcurrentDeps = wrapDeps(deps);\n\t\tvar fn;\n\t\tvar getResult = () => (currentDeps.map((d) => {\n\t\t\tif(d[webpackError]) throw d[webpackError];\n\t\t\treturn d[webpackExports];\n\t\t}))\n\t\tvar promise = new Promise((resolve) => {\n\t\t\tfn = () => (resolve(getResult));\n\t\t\tfn.r = 0;\n\t\t\tvar fnQueue = (q) => (q !== queue && !depQueues.has(q) && (depQueues.add(q), q && !q.d && (fn.r++, q.push(fn))));\n\t\t\tcurrentDeps.map((dep) => (dep[webpackQueues](fnQueue)));\n\t\t});\n\t\treturn fn.r ? promise : getResult();\n\t}, (err) => ((err ? reject(promise[webpackError] = err) : outerResolve(exports)), resolveQueue(queue)));\n\tqueue && queue.d < 0 && (queue.d = 0);\n};","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nconst systemCoreMap = {\n  gb: \"mgba\",\n  gba: \"mgba\",\n  gbc: \"mgba\",\n  megadrive: \"genesis_plus_gx\",\n  nes: \"fceumm\",\n  snes: \"snes9x\"\n};\nfunction getDefaultExportFromCjs(x) {\n  return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, \"default\") ? x[\"default\"] : x;\n}\nvar ini$3;\nvar hasRequiredIni;\nfunction requireIni() {\n  if (hasRequiredIni) return ini$3;\n  hasRequiredIni = 1;\n  const { hasOwnProperty } = Object.prototype;\n  const encode = (obj, opt = {}) => {\n    if (typeof opt === \"string\") {\n      opt = { section: opt };\n    }\n    opt.align = opt.align === true;\n    opt.newline = opt.newline === true;\n    opt.sort = opt.sort === true;\n    opt.whitespace = opt.whitespace === true || opt.align === true;\n    opt.platform = opt.platform || typeof process !== \"undefined\" && process.platform;\n    opt.bracketedArray = opt.bracketedArray !== false;\n    const eol = opt.platform === \"win32\" ? \"\\r\\n\" : \"\\n\";\n    const separator = opt.whitespace ? \" = \" : \"=\";\n    const children = [];\n    const keys = opt.sort ? Object.keys(obj).sort() : Object.keys(obj);\n    let padToChars = 0;\n    if (opt.align) {\n      padToChars = safe(\n        keys.filter((k) => obj[k] === null || Array.isArray(obj[k]) || typeof obj[k] !== \"object\").map((k) => Array.isArray(obj[k]) ? `${k}[]` : k).concat([\"\"]).reduce((a, b) => safe(a).length >= safe(b).length ? a : b)\n      ).length;\n    }\n    let out = \"\";\n    const arraySuffix = opt.bracketedArray ? \"[]\" : \"\";\n    for (const k of keys) {\n      const val = obj[k];\n      if (val && Array.isArray(val)) {\n        for (const item of val) {\n          out += safe(`${k}${arraySuffix}`).padEnd(padToChars, \" \") + separator + safe(item) + eol;\n        }\n      } else if (val && typeof val === \"object\") {\n        children.push(k);\n      } else {\n        out += safe(k).padEnd(padToChars, \" \") + separator + safe(val) + eol;\n      }\n    }\n    if (opt.section && out.length) {\n      out = \"[\" + safe(opt.section) + \"]\" + (opt.newline ? eol + eol : eol) + out;\n    }\n    for (const k of children) {\n      const nk = splitSections(k, \".\").join(\"\\\\.\");\n      const section = (opt.section ? opt.section + \".\" : \"\") + nk;\n      const child = encode(obj[k], {\n        ...opt,\n        section\n      });\n      if (out.length && child.length) {\n        out += eol;\n      }\n      out += child;\n    }\n    return out;\n  };\n  function splitSections(str, separator) {\n    var lastMatchIndex = 0;\n    var lastSeparatorIndex = 0;\n    var nextIndex = 0;\n    var sections = [];\n    do {\n      nextIndex = str.indexOf(separator, lastMatchIndex);\n      if (nextIndex !== -1) {\n        lastMatchIndex = nextIndex + separator.length;\n        if (nextIndex > 0 && str[nextIndex - 1] === \"\\\\\") {\n          continue;\n        }\n        sections.push(str.slice(lastSeparatorIndex, nextIndex));\n        lastSeparatorIndex = nextIndex + separator.length;\n      }\n    } while (nextIndex !== -1);\n    sections.push(str.slice(lastSeparatorIndex));\n    return sections;\n  }\n  const decode = (str, opt = {}) => {\n    opt.bracketedArray = opt.bracketedArray !== false;\n    const out = /* @__PURE__ */ Object.create(null);\n    let p = out;\n    let section = null;\n    const re = /^\\[([^\\]]*)\\]\\s*$|^([^=]+)(=(.*))?$/i;\n    const lines = str.split(/[\\r\\n]+/g);\n    const duplicates = {};\n    for (const line of lines) {\n      if (!line || line.match(/^\\s*[;#]/) || line.match(/^\\s*$/)) {\n        continue;\n      }\n      const match = line.match(re);\n      if (!match) {\n        continue;\n      }\n      if (match[1] !== void 0) {\n        section = unsafe(match[1]);\n        if (section === \"__proto__\") {\n          p = /* @__PURE__ */ Object.create(null);\n          continue;\n        }\n        p = out[section] = out[section] || /* @__PURE__ */ Object.create(null);\n        continue;\n      }\n      const keyRaw = unsafe(match[2]);\n      let isArray;\n      if (opt.bracketedArray) {\n        isArray = keyRaw.length > 2 && keyRaw.slice(-2) === \"[]\";\n      } else {\n        duplicates[keyRaw] = ((duplicates == null ? void 0 : duplicates[keyRaw]) || 0) + 1;\n        isArray = duplicates[keyRaw] > 1;\n      }\n      const key = isArray && keyRaw.endsWith(\"[]\") ? keyRaw.slice(0, -2) : keyRaw;\n      if (key === \"__proto__\") {\n        continue;\n      }\n      const valueRaw = match[3] ? unsafe(match[4]) : true;\n      const value = valueRaw === \"true\" || valueRaw === \"false\" || valueRaw === \"null\" ? JSON.parse(valueRaw) : valueRaw;\n      if (isArray) {\n        if (!hasOwnProperty.call(p, key)) {\n          p[key] = [];\n        } else if (!Array.isArray(p[key])) {\n          p[key] = [p[key]];\n        }\n      }\n      if (Array.isArray(p[key])) {\n        p[key].push(value);\n      } else {\n        p[key] = value;\n      }\n    }\n    const remove = [];\n    for (const k of Object.keys(out)) {\n      if (!hasOwnProperty.call(out, k) || typeof out[k] !== \"object\" || Array.isArray(out[k])) {\n        continue;\n      }\n      const parts = splitSections(k, \".\");\n      p = out;\n      const l = parts.pop();\n      const nl = l.replace(/\\\\\\./g, \".\");\n      for (const part of parts) {\n        if (part === \"__proto__\") {\n          continue;\n        }\n        if (!hasOwnProperty.call(p, part) || typeof p[part] !== \"object\") {\n          p[part] = /* @__PURE__ */ Object.create(null);\n        }\n        p = p[part];\n      }\n      if (p === out && nl === l) {\n        continue;\n      }\n      p[nl] = out[k];\n      remove.push(k);\n    }\n    for (const del of remove) {\n      delete out[del];\n    }\n    return out;\n  };\n  const isQuoted = (val) => {\n    return val.startsWith('\"') && val.endsWith('\"') || val.startsWith(\"'\") && val.endsWith(\"'\");\n  };\n  const safe = (val) => {\n    if (typeof val !== \"string\" || val.match(/[=\\r\\n]/) || val.match(/^\\[/) || val.length > 1 && isQuoted(val) || val !== val.trim()) {\n      return JSON.stringify(val);\n    }\n    return val.split(\";\").join(\"\\\\;\").split(\"#\").join(\"\\\\#\");\n  };\n  const unsafe = (val) => {\n    val = (val || \"\").trim();\n    if (isQuoted(val)) {\n      if (val.charAt(0) === \"'\") {\n        val = val.slice(1, -1);\n      }\n      try {\n        val = JSON.parse(val);\n      } catch {\n      }\n    } else {\n      let esc = false;\n      let unesc = \"\";\n      for (let i2 = 0, l = val.length; i2 < l; i2++) {\n        const c = val.charAt(i2);\n        if (esc) {\n          if (\"\\\\;#\".indexOf(c) !== -1) {\n            unesc += c;\n          } else {\n            unesc += \"\\\\\" + c;\n          }\n          esc = false;\n        } else if (\";#\".indexOf(c) !== -1) {\n          break;\n        } else if (c === \"\\\\\") {\n          esc = true;\n        } else {\n          unesc += c;\n        }\n      }\n      if (esc) {\n        unesc += \"\\\\\";\n      }\n      return unesc.trim();\n    }\n    return val;\n  };\n  ini$3 = {\n    parse: decode,\n    decode,\n    stringify: encode,\n    encode,\n    safe,\n    unsafe\n  };\n  return ini$3;\n}\nvar iniExports = requireIni();\nconst ini$2 = /* @__PURE__ */ getDefaultExportFromCjs(iniExports);\nvar pathBrowserify;\nvar hasRequiredPathBrowserify;\nfunction requirePathBrowserify() {\n  if (hasRequiredPathBrowserify) return pathBrowserify;\n  hasRequiredPathBrowserify = 1;\n  function assertPath(path2) {\n    if (typeof path2 !== \"string\") {\n      throw new TypeError(\"Path must be a string. Received \" + JSON.stringify(path2));\n    }\n  }\n  function normalizeStringPosix(path2, allowAboveRoot) {\n    var res = \"\";\n    var lastSegmentLength = 0;\n    var lastSlash = -1;\n    var dots = 0;\n    var code;\n    for (var i2 = 0; i2 <= path2.length; ++i2) {\n      if (i2 < path2.length)\n        code = path2.charCodeAt(i2);\n      else if (code === 47)\n        break;\n      else\n        code = 47;\n      if (code === 47) {\n        if (lastSlash === i2 - 1 || dots === 1) ;\n        else if (lastSlash !== i2 - 1 && dots === 2) {\n          if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 || res.charCodeAt(res.length - 2) !== 46) {\n            if (res.length > 2) {\n              var lastSlashIndex = res.lastIndexOf(\"/\");\n              if (lastSlashIndex !== res.length - 1) {\n                if (lastSlashIndex === -1) {\n                  res = \"\";\n                  lastSegmentLength = 0;\n                } else {\n                  res = res.slice(0, lastSlashIndex);\n                  lastSegmentLength = res.length - 1 - res.lastIndexOf(\"/\");\n                }\n                lastSlash = i2;\n                dots = 0;\n                continue;\n              }\n            } else if (res.length === 2 || res.length === 1) {\n              res = \"\";\n              lastSegmentLength = 0;\n              lastSlash = i2;\n              dots = 0;\n              continue;\n            }\n          }\n          if (allowAboveRoot) {\n            if (res.length > 0)\n              res += \"/..\";\n            else\n              res = \"..\";\n            lastSegmentLength = 2;\n          }\n        } else {\n          if (res.length > 0)\n            res += \"/\" + path2.slice(lastSlash + 1, i2);\n          else\n            res = path2.slice(lastSlash + 1, i2);\n          lastSegmentLength = i2 - lastSlash - 1;\n        }\n        lastSlash = i2;\n        dots = 0;\n      } else if (code === 46 && dots !== -1) {\n        ++dots;\n      } else {\n        dots = -1;\n      }\n    }\n    return res;\n  }\n  function _format(sep, pathObject) {\n    var dir = pathObject.dir || pathObject.root;\n    var base = pathObject.base || (pathObject.name || \"\") + (pathObject.ext || \"\");\n    if (!dir) {\n      return base;\n    }\n    if (dir === pathObject.root) {\n      return dir + base;\n    }\n    return dir + sep + base;\n  }\n  var posix = {\n    // path.resolve([from ...], to)\n    resolve: function resolve() {\n      var resolvedPath = \"\";\n      var resolvedAbsolute = false;\n      var cwd;\n      for (var i2 = arguments.length - 1; i2 >= -1 && !resolvedAbsolute; i2--) {\n        var path2;\n        if (i2 >= 0)\n          path2 = arguments[i2];\n        else {\n          if (cwd === void 0)\n            cwd = process.cwd();\n          path2 = cwd;\n        }\n        assertPath(path2);\n        if (path2.length === 0) {\n          continue;\n        }\n        resolvedPath = path2 + \"/\" + resolvedPath;\n        resolvedAbsolute = path2.charCodeAt(0) === 47;\n      }\n      resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);\n      if (resolvedAbsolute) {\n        if (resolvedPath.length > 0)\n          return \"/\" + resolvedPath;\n        else\n          return \"/\";\n      } else if (resolvedPath.length > 0) {\n        return resolvedPath;\n      } else {\n        return \".\";\n      }\n    },\n    normalize: function normalize(path2) {\n      assertPath(path2);\n      if (path2.length === 0) return \".\";\n      var isAbsolute = path2.charCodeAt(0) === 47;\n      var trailingSeparator = path2.charCodeAt(path2.length - 1) === 47;\n      path2 = normalizeStringPosix(path2, !isAbsolute);\n      if (path2.length === 0 && !isAbsolute) path2 = \".\";\n      if (path2.length > 0 && trailingSeparator) path2 += \"/\";\n      if (isAbsolute) return \"/\" + path2;\n      return path2;\n    },\n    isAbsolute: function isAbsolute(path2) {\n      assertPath(path2);\n      return path2.length > 0 && path2.charCodeAt(0) === 47;\n    },\n    join: function join() {\n      if (arguments.length === 0)\n        return \".\";\n      var joined;\n      for (var i2 = 0; i2 < arguments.length; ++i2) {\n        var arg = arguments[i2];\n        assertPath(arg);\n        if (arg.length > 0) {\n          if (joined === void 0)\n            joined = arg;\n          else\n            joined += \"/\" + arg;\n        }\n      }\n      if (joined === void 0)\n        return \".\";\n      return posix.normalize(joined);\n    },\n    relative: function relative(from, to) {\n      assertPath(from);\n      assertPath(to);\n      if (from === to) return \"\";\n      from = posix.resolve(from);\n      to = posix.resolve(to);\n      if (from === to) return \"\";\n      var fromStart = 1;\n      for (; fromStart < from.length; ++fromStart) {\n        if (from.charCodeAt(fromStart) !== 47)\n          break;\n      }\n      var fromEnd = from.length;\n      var fromLen = fromEnd - fromStart;\n      var toStart = 1;\n      for (; toStart < to.length; ++toStart) {\n        if (to.charCodeAt(toStart) !== 47)\n          break;\n      }\n      var toEnd = to.length;\n      var toLen = toEnd - toStart;\n      var length = fromLen < toLen ? fromLen : toLen;\n      var lastCommonSep = -1;\n      var i2 = 0;\n      for (; i2 <= length; ++i2) {\n        if (i2 === length) {\n          if (toLen > length) {\n            if (to.charCodeAt(toStart + i2) === 47) {\n              return to.slice(toStart + i2 + 1);\n            } else if (i2 === 0) {\n              return to.slice(toStart + i2);\n            }\n          } else if (fromLen > length) {\n            if (from.charCodeAt(fromStart + i2) === 47) {\n              lastCommonSep = i2;\n            } else if (i2 === 0) {\n              lastCommonSep = 0;\n            }\n          }\n          break;\n        }\n        var fromCode = from.charCodeAt(fromStart + i2);\n        var toCode = to.charCodeAt(toStart + i2);\n        if (fromCode !== toCode)\n          break;\n        else if (fromCode === 47)\n          lastCommonSep = i2;\n      }\n      var out = \"\";\n      for (i2 = fromStart + lastCommonSep + 1; i2 <= fromEnd; ++i2) {\n        if (i2 === fromEnd || from.charCodeAt(i2) === 47) {\n          if (out.length === 0)\n            out += \"..\";\n          else\n            out += \"/..\";\n        }\n      }\n      if (out.length > 0)\n        return out + to.slice(toStart + lastCommonSep);\n      else {\n        toStart += lastCommonSep;\n        if (to.charCodeAt(toStart) === 47)\n          ++toStart;\n        return to.slice(toStart);\n      }\n    },\n    _makeLong: function _makeLong(path2) {\n      return path2;\n    },\n    dirname: function dirname(path2) {\n      assertPath(path2);\n      if (path2.length === 0) return \".\";\n      var code = path2.charCodeAt(0);\n      var hasRoot = code === 47;\n      var end = -1;\n      var matchedSlash = true;\n      for (var i2 = path2.length - 1; i2 >= 1; --i2) {\n        code = path2.charCodeAt(i2);\n        if (code === 47) {\n          if (!matchedSlash) {\n            end = i2;\n            break;\n          }\n        } else {\n          matchedSlash = false;\n        }\n      }\n      if (end === -1) return hasRoot ? \"/\" : \".\";\n      if (hasRoot && end === 1) return \"//\";\n      return path2.slice(0, end);\n    },\n    basename: function basename(path2, ext) {\n      if (ext !== void 0 && typeof ext !== \"string\") throw new TypeError('\"ext\" argument must be a string');\n      assertPath(path2);\n      var start = 0;\n      var end = -1;\n      var matchedSlash = true;\n      var i2;\n      if (ext !== void 0 && ext.length > 0 && ext.length <= path2.length) {\n        if (ext.length === path2.length && ext === path2) return \"\";\n        var extIdx = ext.length - 1;\n        var firstNonSlashEnd = -1;\n        for (i2 = path2.length - 1; i2 >= 0; --i2) {\n          var code = path2.charCodeAt(i2);\n          if (code === 47) {\n            if (!matchedSlash) {\n              start = i2 + 1;\n              break;\n            }\n          } else {\n            if (firstNonSlashEnd === -1) {\n              matchedSlash = false;\n              firstNonSlashEnd = i2 + 1;\n            }\n            if (extIdx >= 0) {\n              if (code === ext.charCodeAt(extIdx)) {\n                if (--extIdx === -1) {\n                  end = i2;\n                }\n              } else {\n                extIdx = -1;\n                end = firstNonSlashEnd;\n              }\n            }\n          }\n        }\n        if (start === end) end = firstNonSlashEnd;\n        else if (end === -1) end = path2.length;\n        return path2.slice(start, end);\n      } else {\n        for (i2 = path2.length - 1; i2 >= 0; --i2) {\n          if (path2.charCodeAt(i2) === 47) {\n            if (!matchedSlash) {\n              start = i2 + 1;\n              break;\n            }\n          } else if (end === -1) {\n            matchedSlash = false;\n            end = i2 + 1;\n          }\n        }\n        if (end === -1) return \"\";\n        return path2.slice(start, end);\n      }\n    },\n    extname: function extname(path2) {\n      assertPath(path2);\n      var startDot = -1;\n      var startPart = 0;\n      var end = -1;\n      var matchedSlash = true;\n      var preDotState = 0;\n      for (var i2 = path2.length - 1; i2 >= 0; --i2) {\n        var code = path2.charCodeAt(i2);\n        if (code === 47) {\n          if (!matchedSlash) {\n            startPart = i2 + 1;\n            break;\n          }\n          continue;\n        }\n        if (end === -1) {\n          matchedSlash = false;\n          end = i2 + 1;\n        }\n        if (code === 46) {\n          if (startDot === -1)\n            startDot = i2;\n          else if (preDotState !== 1)\n            preDotState = 1;\n        } else if (startDot !== -1) {\n          preDotState = -1;\n        }\n      }\n      if (startDot === -1 || end === -1 || // We saw a non-dot character immediately before the dot\n      preDotState === 0 || // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n        return \"\";\n      }\n      return path2.slice(startDot, end);\n    },\n    format: function format(pathObject) {\n      if (pathObject === null || typeof pathObject !== \"object\") {\n        throw new TypeError('The \"pathObject\" argument must be of type Object. Received type ' + typeof pathObject);\n      }\n      return _format(\"/\", pathObject);\n    },\n    parse: function parse(path2) {\n      assertPath(path2);\n      var ret = { root: \"\", dir: \"\", base: \"\", ext: \"\", name: \"\" };\n      if (path2.length === 0) return ret;\n      var code = path2.charCodeAt(0);\n      var isAbsolute = code === 47;\n      var start;\n      if (isAbsolute) {\n        ret.root = \"/\";\n        start = 1;\n      } else {\n        start = 0;\n      }\n      var startDot = -1;\n      var startPart = 0;\n      var end = -1;\n      var matchedSlash = true;\n      var i2 = path2.length - 1;\n      var preDotState = 0;\n      for (; i2 >= start; --i2) {\n        code = path2.charCodeAt(i2);\n        if (code === 47) {\n          if (!matchedSlash) {\n            startPart = i2 + 1;\n            break;\n          }\n          continue;\n        }\n        if (end === -1) {\n          matchedSlash = false;\n          end = i2 + 1;\n        }\n        if (code === 46) {\n          if (startDot === -1) startDot = i2;\n          else if (preDotState !== 1) preDotState = 1;\n        } else if (startDot !== -1) {\n          preDotState = -1;\n        }\n      }\n      if (startDot === -1 || end === -1 || // We saw a non-dot character immediately before the dot\n      preDotState === 0 || // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n        if (end !== -1) {\n          if (startPart === 0 && isAbsolute) ret.base = ret.name = path2.slice(1, end);\n          else ret.base = ret.name = path2.slice(startPart, end);\n        }\n      } else {\n        if (startPart === 0 && isAbsolute) {\n          ret.name = path2.slice(1, startDot);\n          ret.base = path2.slice(1, end);\n        } else {\n          ret.name = path2.slice(startPart, startDot);\n          ret.base = path2.slice(startPart, end);\n        }\n        ret.ext = path2.slice(startDot, end);\n      }\n      if (startPart > 0) ret.dir = path2.slice(0, startPart - 1);\n      else if (isAbsolute) ret.dir = \"/\";\n      return ret;\n    },\n    sep: \"/\",\n    delimiter: \":\",\n    win32: null,\n    posix: null\n  };\n  posix.posix = posix;\n  pathBrowserify = posix;\n  return pathBrowserify;\n}\nvar pathBrowserifyExports = requirePathBrowserify();\nconst path$5 = /* @__PURE__ */ getDefaultExportFromCjs(pathBrowserifyExports);\nconst vendors = {\n  ini: ini$2,\n  path: path$5\n};\nconst { path: path$4 } = vendors;\nconst fileNameHeaderRegex = /filename[^;=\\n]*=((['\"]).*?\\2|[^;\\n]*)/;\nconst urlSegmentSeparator = /[?/#]/;\nfunction isURLStringLike(value) {\n  if (typeof value !== \"string\") {\n    return false;\n  }\n  const prefixes = [\"http://\", \"https://\", \"data:\", \"blob:\", \"./\", \"../\"];\n  if (prefixes.some((absolutePrefix) => value.startsWith(absolutePrefix))) {\n    return true;\n  }\n  if ([\"#\", \"{\"].some((char) => value.startsWith(char))) {\n    return false;\n  }\n  if (value.includes(\"\\n\")) {\n    return false;\n  }\n  const segments = value.split(urlSegmentSeparator);\n  if (segments.length < 2) {\n    return false;\n  }\n  return segments.every((segment) => segment.length < 100);\n}\nfunction isURL(value) {\n  return typeof globalThis.URL === \"function\" && value instanceof globalThis.URL;\n}\nfunction isRequest(value) {\n  return typeof globalThis.Request === \"function\" && value instanceof globalThis.Request;\n}\nfunction isResponse(value) {\n  return typeof globalThis.Response === \"function\" && value instanceof globalThis.Response;\n}\nfunction isArrayBuffer(value) {\n  return typeof globalThis.ArrayBuffer === \"function\" && value instanceof globalThis.ArrayBuffer;\n}\nfunction isUint8Array(value) {\n  return typeof globalThis.Uint8Array === \"function\" && value instanceof globalThis.Uint8Array;\n}\nfunction isBlob(value) {\n  return typeof globalThis.Blob === \"function\" && value instanceof globalThis.Blob;\n}\nfunction isFileSystemFileHandle(value) {\n  return typeof globalThis.FileSystemFileHandle === \"function\" && value instanceof globalThis.FileSystemFileHandle;\n}\nfunction isFetchable(value) {\n  return isURLStringLike(value) || isURL(value) || isRequest(value);\n}\nclass ResolvableFile {\n  constructor({ blobType, name, raw, signal, urlResolver }) {\n    __publicField(this, \"name\", \"\");\n    __publicField(this, \"arrayBuffer\");\n    __publicField(this, \"blob\");\n    __publicField(this, \"blobType\", \"application/octet-stream\");\n    __publicField(this, \"objectUrl\");\n    __publicField(this, \"raw\");\n    __publicField(this, \"signal\");\n    __publicField(this, \"text\");\n    __publicField(this, \"uint8Array\");\n    __publicField(this, \"urlResolver\");\n    this.raw = raw;\n    if (signal) {\n      this.signal = signal;\n    }\n    if (urlResolver) {\n      this.urlResolver = urlResolver;\n    }\n    if (blobType) {\n      this.blobType = blobType;\n    }\n    if (name) {\n      this.name = extractValidFileName(name);\n    }\n  }\n  /** The base name of the file, without its extension. */\n  get baseName() {\n    return path$4.parse(this.name).name;\n  }\n  /** The extension name of the file, with a leading \".\". */\n  get extension() {\n    return path$4.parse(this.name).ext;\n  }\n  static async create(rawOrOption) {\n    if (isNil(rawOrOption)) {\n      throw new Error(\"parameter is not valid\");\n    }\n    if (rawOrOption instanceof ResolvableFile) {\n      return rawOrOption;\n    }\n    const option = typeof rawOrOption === \"object\" && \"raw\" in rawOrOption ? rawOrOption : { raw: rawOrOption };\n    const resolvableFile = new ResolvableFile(option);\n    await resolvableFile.load();\n    return resolvableFile;\n  }\n  dispose() {\n    if (typeof this.objectUrl === \"string\") {\n      URL.revokeObjectURL(this.objectUrl);\n    }\n  }\n  async getArrayBuffer() {\n    if (this.arrayBuffer) {\n      return this.arrayBuffer;\n    }\n    this.arrayBuffer = await this.getBlob().arrayBuffer();\n    return this.arrayBuffer;\n  }\n  getBlob() {\n    if (!this.blob) {\n      throw new Error(\"blob is not available\");\n    }\n    return this.blob;\n  }\n  getObjectUrl() {\n    if (this.objectUrl) {\n      return this.objectUrl;\n    }\n    this.objectUrl = URL.createObjectURL(this.getBlob());\n    return this.objectUrl;\n  }\n  async getText() {\n    if (this.text !== void 0) {\n      return this.text;\n    }\n    this.text = await this.getBlob().text();\n    return this.text;\n  }\n  async getUint8Array() {\n    if (this.uint8Array) {\n      return this.uint8Array;\n    }\n    const arrayBuffer = await this.getArrayBuffer();\n    this.uint8Array = new Uint8Array(arrayBuffer);\n    return this.uint8Array;\n  }\n  async load() {\n    const result = await getResult(this.urlResolver ? this.urlResolver(this) : this.raw);\n    await this.loadContent(result);\n  }\n  loadArrayBuffer(arrayBuffer) {\n    this.arrayBuffer = arrayBuffer;\n    this.blob = new Blob([arrayBuffer], { type: this.blobType });\n  }\n  async loadContent(content) {\n    if (isBlob(content)) {\n      this.blob = content;\n    } else if (isFetchable(content)) {\n      await this.loadFetchable(content);\n    } else if (typeof content === \"string\") {\n      this.loadPlainText(content);\n    } else if (isResolvableFileContent(content == null ? void 0 : content.fileContent)) {\n      await this.loadObject(content);\n    } else if (isArrayBuffer(content)) {\n      this.loadArrayBuffer(content);\n    } else if (isUint8Array(content)) {\n      this.loadUint8Array(content);\n    } else if (isResponse(content)) {\n      await this.loadResponse(content);\n    } else if (isFileSystemFileHandle(content)) {\n      await this.loadFileSystemFileHandle(content);\n    } else {\n      throw new TypeError(\"failed to resolve the file, file content:\", content);\n    }\n    const uint8Array = await this.getUint8Array();\n    const extention = isZip(uint8Array) ? \"zip\" : \"bin\";\n    this.name || (this.name = generateValidFileName(extention));\n  }\n  async loadFetchable(fetchable) {\n    if (isRequest(fetchable)) {\n      this.name || (this.name = extractValidFileName(fetchable.url));\n    } else if (isURL(fetchable)) {\n      this.name || (this.name = extractValidFileName(fetchable.href));\n    } else {\n      this.name || (this.name = extractValidFileName(fetchable));\n    }\n    const response = await fetch(fetchable, { signal: this.signal || null });\n    await this.loadResponse(response);\n  }\n  async loadFileSystemFileHandle(fileSystemFileHandle) {\n    const file = await fileSystemFileHandle.getFile();\n    this.blob = file;\n    this.name = extractValidFileName(file.name);\n  }\n  async loadObject(object) {\n    let { fileContent, fileName } = object;\n    [fileName, fileContent] = await Promise.all([getResult(fileName), getResult(fileContent)]);\n    this.name || (this.name = extractValidFileName(fileName));\n    await this.loadContent(fileContent);\n  }\n  loadPlainText(text) {\n    this.blob = new Blob([text], { type: this.blobType });\n  }\n  async loadResponse(response) {\n    var _a, _b;\n    const header = response.headers.get(\"Content-Disposition\");\n    if (header) {\n      const extracted = (_b = (_a = fileNameHeaderRegex.exec(header)) == null ? void 0 : _a[1]) == null ? void 0 : _b.replace(/['\"]/g, \"\");\n      if (extracted) {\n        this.name || (this.name = extractValidFileName(extracted));\n      }\n    }\n    this.blob = await response.blob();\n    this.name || (this.name = extractValidFileName(response.url));\n  }\n  loadUint8Array(uint8Array) {\n    this.uint8Array = uint8Array;\n    this.blob = new Blob([uint8Array], { type: this.blobType });\n  }\n}\nconst { path: path$3 } = vendors;\nconst textEncoder = new TextEncoder();\nfunction urlBaseName(url) {\n  let pathname = url;\n  try {\n    pathname = new URL(url).pathname;\n  } catch {\n  }\n  const name = path$3.basename(pathname);\n  try {\n    return decodeURIComponent(name);\n  } catch {\n    return name;\n  }\n}\nlet i = 0;\nfunction id() {\n  i += 1;\n  return i;\n}\nfunction generateValidFileName(extension = \"bin\") {\n  return `data${id()}.${extension}`;\n}\nfunction extractValidFileName(url) {\n  let baseName = urlBaseName(url) || \"\";\n  baseName = baseName.replaceAll(/[\"%*/:<>?\\\\|]/g, \"-\");\n  const extractedExtension = path$3.parse(baseName).ext;\n  if (extractedExtension) {\n    return baseName;\n  }\n  return \"\";\n}\nfunction isAbsoluteUrl(string) {\n  if (!string) {\n    return false;\n  }\n  if (typeof string !== \"string\") {\n    return false;\n  }\n  const absolutePrefixes = [\"http://\", \"https://\", \"//\", \"data:\", \"blob:\"];\n  return absolutePrefixes.some((absolutePrefix) => string.startsWith(absolutePrefix));\n}\nfunction updateStyle(element, style) {\n  if (!element) {\n    return;\n  }\n  for (const rule in style) {\n    const value = style[rule];\n    element.style[rule] = value || null;\n  }\n}\nfunction delay(time) {\n  return new Promise((resolve) => {\n    setTimeout(resolve, time);\n  });\n}\nfunction isGlobalScript(js) {\n  return js.startsWith(\"var Module\");\n}\nfunction isEsmScript(js) {\n  return js.includes(\"import.meta.url\");\n}\nasync function patchCoreJs({ js, name }) {\n  let jsContent = await js.getText();\n  if (isGlobalScript(jsContent)) {\n    jsContent = `export function getEmscripten({ Module }) {\n        ${jsContent};\n        Module.FS = FS;\n        Module.PATH = PATH;\n        Module.ERRNO_CODES = ERRNO_CODES;\n        return {\n          AL: typeof AL === 'undefined' ? null: AL,\n          Browser: typeof Browser === 'undefined' ? null: Browser,\n          JSEvents,\n          Module,\n          exit: _emscripten_force_exit\n         }\n      }`;\n  } else if (isEsmScript(jsContent)) {\n    jsContent = `${jsContent.replace(\n      \"readyPromiseResolve(Module)\",\n      `readyPromiseResolve({\n        AL: typeof AL === 'undefined' ? null: AL,\n        Browser: typeof Browser === 'undefined' ? null: Browser,\n        JSEvents,\n        Module,\n        exit: _emscripten_force_exit\n      })`\n    )};\n      export function getEmscripten({ Module }) {\n        return (libretro_${name} || ${name})(Module)\n      }\n    `;\n  }\n  return jsContent;\n}\nasync function importCoreJsAsESM({ js, name }) {\n  const jsContent = await patchCoreJs({ js, name });\n  const jsResolvable = await ResolvableFile.create({ blobType: \"application/javascript\", raw: jsContent });\n  const jsObjectUrl = jsResolvable.getObjectUrl();\n  try {\n    return await import(\n      /* @vite-ignore */\n      /* webpackIgnore: true */\n      jsObjectUrl\n    );\n  } catch {\n    return await new Function(`return import('${jsObjectUrl}')`)();\n  } finally {\n    jsResolvable.dispose();\n  }\n}\nfunction isNil(obj) {\n  return obj === void 0 || obj === null;\n}\nfunction isPlainObject$1(obj) {\n  if (isNil(obj)) {\n    return false;\n  }\n  return obj.constructor === Object || !obj.constructor;\n}\nfunction mergeProperty(target, source, key) {\n  const targetValue = target[key];\n  const sourceValue = source[key];\n  if (isNil(targetValue)) {\n    target[key] = sourceValue;\n  } else if (Array.isArray(targetValue) && Array.isArray(sourceValue)) {\n    target[key] = [...targetValue, ...sourceValue];\n  } else if (isPlainObject$1(targetValue) && isPlainObject$1(sourceValue)) {\n    target[key] = isPlainObject$1(targetValue) ? target[key] : {};\n    merge(target[key], sourceValue);\n  } else {\n    target[key] = sourceValue;\n  }\n}\nfunction merge(target, ...sources) {\n  if (sources.length === 1) {\n    const [source] = sources;\n    for (const key in source) {\n      mergeProperty(target, source, key);\n    }\n  } else {\n    for (const source of sources) {\n      merge(target, source);\n    }\n  }\n}\nfunction checkIsAborted(signal) {\n  if (signal == null ? void 0 : signal.aborted) {\n    throw new Error(\"Launch aborted\");\n  }\n}\nfunction padZero(number) {\n  return (number < 10 ? \"0\" : \"\") + number;\n}\nasync function getResult(value) {\n  if (!value) {\n    return value;\n  }\n  if (typeof (value == null ? void 0 : value.then) === \"function\") {\n    return getResult(await value);\n  }\n  if (typeof value === \"function\") {\n    return getResult(value());\n  }\n  return value;\n}\nconst resolvableClasses = [\n  globalThis.Response,\n  globalThis.Uint8Array,\n  globalThis.URL,\n  globalThis.Request,\n  globalThis.Response,\n  globalThis.FileSystemFileHandle\n];\nfunction isResolvableFileContent(value) {\n  return resolvableClasses.some((clazz) => clazz && value instanceof clazz);\n}\nfunction isResolvableFileInput(value) {\n  if (typeof value === \"string\") {\n    return true;\n  }\n  if (\"fileContent\" in value) {\n    return true;\n  }\n  if (Array.isArray(value)) {\n    return value.every((item) => isResolvableFileInput(item));\n  }\n  return isResolvableFileContent(value);\n}\nfunction isZip(uint8Array) {\n  return uint8Array[0] === 80 && // eslint-disable-next-line unicorn/number-literal-case\n  uint8Array[1] === 75 && (uint8Array[2] === 3 || uint8Array[2] === 5 || uint8Array[2] === 7) && (uint8Array[3] === 4 || uint8Array[3] === 6 || uint8Array[3] === 8);\n}\nconst { path: path$2 } = vendors;\nfunction getDefaultRetroarchConfig() {\n  const defaultRetroarchConfig = {\n    menu_driver: \"rgui\",\n    menu_navigation_browser_filter_supported_extensions_enable: false,\n    notification_show_when_menu_is_alive: true,\n    savestate_auto_load: true,\n    savestate_thumbnail_enable: true,\n    stdin_cmd_enable: true,\n    video_shader_enable: true,\n    input_audio_mute: \"nul\",\n    // override default 'f9'\n    input_cheat_index_minus: \"nul\",\n    // override default 't',\n    input_cheat_index_plus: \"nul\",\n    // override default 'y',\n    input_cheat_toggle: \"nul\",\n    // override default 'u',\n    input_desktop_menu_toggle: \"nul\",\n    // override default 'f5'\n    input_exit_emulator: \"nul\",\n    // override default 'esc',\n    input_fps_toggle: \"nul\",\n    // override default 'f3'\n    input_frame_advance: \"nul\",\n    // override default 'k',\n    input_game_focus_toggle: \"nul\",\n    // override default 'scroll_lock'\n    input_grab_mouse_toggle: \"nul\",\n    // override default 'f11'\n    input_hold_fast_forward: \"nul\",\n    // override default 'l',\n    input_hold_slowmotion: \"nul\",\n    // override default 'e',\n    input_load_state: \"nul\",\n    // override default 'f4'\n    input_netplay_game_watch: \"nul\",\n    // override default 'i',\n    input_netplay_player_chat: \"nul\",\n    // override default 'tilde'\n    input_pause_toggle: \"nul\",\n    // override default 'p',\n    input_reset: \"nul\",\n    // override default 'h',\n    input_rewind: \"nul\",\n    // override default 'r',\n    input_save_state: \"nul\",\n    // override default 'f2'\n    input_screenshot: \"nul\",\n    // override default 'f8'\n    input_shader_next: \"nul\",\n    // override default 'm',\n    input_shader_prev: \"nul\",\n    // override default 'n',\n    input_shader_toggle: \"nul\",\n    // override default 'comma'\n    input_state_slot_decrease: \"nul\",\n    // override default 'f6'\n    input_state_slot_increase: \"nul\",\n    // override default 'f7'\n    input_toggle_fast_forward: \"nul\",\n    // override default 'space'\n    input_toggle_fullscreen: \"nul\",\n    // override default 'f',\n    input_volume_down: \"nul\",\n    // override default 'subtract'\n    input_volume_up: \"nul\",\n    // override default 'add'\n    input_player1_analog_dpad_mode: 1,\n    input_player2_analog_dpad_mode: 1,\n    input_player3_analog_dpad_mode: 1,\n    input_player4_analog_dpad_mode: 1\n  };\n  return defaultRetroarchConfig;\n}\nconst cdnBaseUrl = \"https://cdn.jsdelivr.net/gh\";\nconst coreRepo = \"arianrhodsandlot/retroarch-emscripten-build\";\nconst coreVersion = \"v1.20.0\";\nconst coreDirectory = \"retroarch\";\nconst shaderRepo = \"libretro/glsl-shaders\";\nconst shaderVersion = \"821487\";\nfunction getDefaultOptions() {\n  const defaultOptions = {\n    element: \"\",\n    retroarchConfig: getDefaultRetroarchConfig(),\n    retroarchCoreConfig: {},\n    runEmulatorManually: false,\n    setupEmulatorManually: false,\n    resolveCoreJs(core) {\n      return `${cdnBaseUrl}/${coreRepo}@${coreVersion}/${coreDirectory}/${core}_libretro.js`;\n    },\n    resolveCoreWasm(core) {\n      return `${cdnBaseUrl}/${coreRepo}@${coreVersion}/${coreDirectory}/${core}_libretro.wasm`;\n    },\n    resolveRom(file) {\n      if (typeof file !== \"string\") {\n        return file || [];\n      }\n      if (isAbsoluteUrl(file)) {\n        return file;\n      }\n      const extension = path$2.extname(file);\n      const romRepo = {\n        \".bin\": \"retrobrews/md-games\",\n        \".gb\": \"retrobrews/gbc-games\",\n        \".gba\": \"retrobrews/gba-games\",\n        \".gbc\": \"retrobrews/gbc-games\",\n        \".md\": \"retrobrews/md-games\",\n        \".nes\": \"retrobrews/nes-games\",\n        \".sfc\": \"retrobrews/snes-games\",\n        \".sms\": \"retrobrews/sms-games\"\n      }[extension];\n      if (romRepo) {\n        const encodedFile = encodeURIComponent(file);\n        return `${cdnBaseUrl}/${romRepo}@master/${encodedFile}`;\n      }\n      return file;\n    },\n    resolveBios(file) {\n      return file;\n    },\n    resolveShader(name) {\n      if (!name) {\n        return [];\n      }\n      const preset = `${cdnBaseUrl}/${shaderRepo}@${shaderVersion}/${name}.glslp`;\n      const segments = name.split(path$2.sep);\n      segments.splice(-1, 0, \"shaders\");\n      const shader = `${cdnBaseUrl}/${shaderRepo}@${shaderVersion}/${segments.join(path$2.sep)}.glsl`;\n      return [preset, shader];\n    }\n  };\n  return defaultOptions;\n}\nlet globalOptions = getDefaultOptions();\nfunction getGlobalOptions() {\n  return globalOptions;\n}\nfunction updateGlobalOptions(options) {\n  merge(globalOptions, options);\n}\nfunction resetGlobalOptions() {\n  globalOptions = getDefaultOptions();\n}\nfunction isPlainObject(value) {\n  if (typeof value !== \"object\" || value === null) {\n    return false;\n  }\n  const prototype = Object.getPrototypeOf(value);\n  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in value) && !(Symbol.iterator in value);\n}\nfunction isValidCacheKey(cacheKey) {\n  return typeof cacheKey === \"string\" || isPlainObject(cacheKey);\n}\nfunction getCacheStore() {\n  return {\n    bios: /* @__PURE__ */ new Map(),\n    core: /* @__PURE__ */ new Map(),\n    rom: /* @__PURE__ */ new Map(),\n    shader: /* @__PURE__ */ new Map()\n  };\n}\nconst _EmulatorOptions = class _EmulatorOptions {\n  constructor(options) {\n    __publicField(this, \"beforeLaunch\");\n    __publicField(this, \"bios\", []);\n    __publicField(this, \"cache\", { bios: false, core: false, rom: false, shader: false });\n    __publicField(this, \"core\", {});\n    __publicField(this, \"element\");\n    /**\n     * An option to override the `Module` object for Emscripten. See [Module object](https://emscripten.org/docs/api_reference/module.html).\n     *\n     * This is a low level option and not well tested, so use it at your own risk.\n     */\n    __publicField(this, \"emscriptenModule\");\n    __publicField(this, \"respondToGlobalEvents\");\n    __publicField(this, \"rom\", []);\n    __publicField(this, \"shader\", []);\n    __publicField(this, \"signal\");\n    /**\n     *\n     * The size of the canvas element.\n     * If it's `'auto'`, the canvas element will keep its original size, or it's width and height will be updated as specified.\n     */\n    __publicField(this, \"size\");\n    __publicField(this, \"sram\");\n    __publicField(this, \"state\");\n    __publicField(this, \"waitForInteraction\");\n    __publicField(this, \"loadPromises\", []);\n    __publicField(this, \"nostalgistOptions\");\n    this.nostalgistOptions = options;\n    this.emscriptenModule = options.emscriptenModule ?? {};\n    this.respondToGlobalEvents = options.respondToGlobalEvents ?? true;\n    this.signal = options.signal;\n    this.size = options.size ?? \"auto\";\n    this.waitForInteraction = options.waitForInteraction;\n    this.element = this.getElement();\n    if (typeof options.cache === \"boolean\") {\n      for (const key in this.cache) {\n        this.cache[key] = options.cache;\n      }\n    } else {\n      Object.assign(this.cache, options.cache);\n    }\n  }\n  /**\n   * RetroArch config.\n   * Not all options can make effects in browser.\n   */\n  get retroarchConfig() {\n    const options = {};\n    merge(options, getGlobalOptions().retroarchConfig, this.nostalgistOptions.retroarchConfig);\n    return options;\n  }\n  /**\n   * RetroArch core config.\n   * Not all options can make effects in browser.\n   */\n  get retroarchCoreConfig() {\n    const options = {};\n    merge(options, getGlobalOptions().retroarchCoreConfig, this.nostalgistOptions.retroarchCoreConfig);\n    return options;\n  }\n  get style() {\n    const { element, style } = this.nostalgistOptions;\n    const defaultAppearanceStyle = {\n      backgroundColor: \"black\",\n      imageRendering: \"pixelated\"\n    };\n    if (element) {\n      merge(defaultAppearanceStyle, style);\n      return defaultAppearanceStyle;\n    }\n    const defaultLayoutStyle = {\n      height: \"100%\",\n      left: \"0\",\n      position: \"fixed\",\n      top: \"0\",\n      width: \"100%\",\n      zIndex: \"1\"\n    };\n    merge(defaultLayoutStyle, defaultAppearanceStyle, style);\n    return defaultLayoutStyle;\n  }\n  static async create(options) {\n    const emulatorOptions = new _EmulatorOptions(options);\n    await emulatorOptions.load();\n    return emulatorOptions;\n  }\n  static resetCacheStore() {\n    Object.assign(_EmulatorOptions.cacheStorage, getCacheStore());\n  }\n  async load() {\n    this.loadFromCache();\n    await Promise.all([...this.loadPromises, this.updateState(), this.updateSRAM()]);\n    this.saveToCache();\n  }\n  loadFromCache() {\n    const loadPromises = [];\n    const loadMethodMap = {\n      bios: this.updateBios,\n      core: this.updateCore,\n      rom: this.updateRom,\n      shader: this.updateShader\n    };\n    for (const key in this.cache) {\n      const field = key;\n      if (this.cache[field]) {\n        const cache = _EmulatorOptions.cacheStorage[field];\n        const cacheKey = this.nostalgistOptions[field];\n        if (isValidCacheKey(cacheKey)) {\n          const cacheValue = cache.get(cacheKey);\n          if (cacheValue) {\n            this[field] = cacheValue;\n            continue;\n          }\n        }\n      }\n      const method = loadMethodMap[field];\n      const promise = method.call(this);\n      loadPromises.push(promise);\n    }\n    this.loadPromises = loadPromises;\n  }\n  saveToCache() {\n    for (const key in this.cache) {\n      const field = key;\n      if (this.cache[field]) {\n        const cache = _EmulatorOptions.cacheStorage[field];\n        const cacheKey = this.nostalgistOptions[field];\n        const cacheValue = this[field];\n        if (isValidCacheKey(cacheKey) && cacheValue) {\n          cache.set(cacheKey, cacheValue);\n        }\n      }\n    }\n  }\n  async updateSRAM() {\n    if (this.nostalgistOptions.sram) {\n      this.sram = await ResolvableFile.create(this.nostalgistOptions.sram);\n    }\n  }\n  async updateState() {\n    if (this.nostalgistOptions.state) {\n      this.state = await ResolvableFile.create(this.nostalgistOptions.state);\n    }\n  }\n  getElement() {\n    if (typeof document !== \"object\") {\n      throw new TypeError(\"document must be an object\");\n    }\n    let { element } = this.nostalgistOptions;\n    if (typeof element === \"string\" && element) {\n      const canvas = document.body.querySelector(element);\n      if (!canvas) {\n        throw new Error(`can not find element \"${element}\"`);\n      }\n      if (!(canvas instanceof HTMLCanvasElement)) {\n        throw new TypeError(`element \"${element}\" is not a canvas element`);\n      }\n      element = canvas;\n    }\n    if (!element) {\n      element = document.createElement(\"canvas\");\n    }\n    if (element instanceof HTMLCanvasElement) {\n      element.id = \"canvas\";\n      return element;\n    }\n    throw new TypeError(\"invalid element\");\n  }\n  async updateBios() {\n    let { bios, resolveBios } = this.nostalgistOptions;\n    if (!bios) {\n      return;\n    }\n    bios = await getResult(bios);\n    if (!bios) {\n      return;\n    }\n    const biosFiles = Array.isArray(bios) ? bios : [bios];\n    this.bios = await Promise.all(\n      biosFiles.map(\n        (raw) => ResolvableFile.create(\n          typeof raw === \"string\" ? { raw, signal: this.signal, urlResolver: () => resolveBios(raw, this.nostalgistOptions) } : { raw, signal: this.signal }\n        )\n      )\n    );\n  }\n  async updateCore() {\n    const { core, resolveCoreJs, resolveCoreWasm } = this.nostalgistOptions;\n    if (typeof core === \"object\" && \"js\" in core && \"name\" in core && \"wasm\" in core) {\n      const [js, wasm] = await Promise.all([ResolvableFile.create(core.js), ResolvableFile.create(core.wasm)]);\n      this.core = { js, name: core.name, wasm };\n      return;\n    }\n    const [coreResolvable, coreWasmResolvable] = await Promise.all(\n      [resolveCoreJs, resolveCoreWasm].map(\n        (resolver) => ResolvableFile.create({\n          raw: core,\n          signal: this.signal,\n          urlResolver: () => resolver(core, this.nostalgistOptions)\n        })\n      )\n    );\n    const name = typeof core === \"string\" ? core : coreResolvable.name;\n    this.core = { js: coreResolvable, name, wasm: coreWasmResolvable };\n  }\n  async updateRom() {\n    let { resolveRom, rom } = this.nostalgistOptions;\n    if (!rom) {\n      return;\n    }\n    rom = await getResult(rom);\n    if (!rom) {\n      return;\n    }\n    const romFiles = Array.isArray(rom) ? rom : [rom];\n    this.rom = await Promise.all(\n      romFiles.map(\n        (romFile) => ResolvableFile.create(\n          typeof romFile === \"string\" ? { raw: romFile, signal: this.signal, urlResolver: () => resolveRom(romFile, this.nostalgistOptions) } : { raw: romFile, signal: this.signal }\n        )\n      )\n    );\n    for (const resolvable of this.rom) {\n      resolvable.name || (resolvable.name = generateValidFileName());\n    }\n  }\n  async updateShader() {\n    let { resolveShader, shader } = this.nostalgistOptions;\n    if (!shader) {\n      return;\n    }\n    shader = await getResult(shader);\n    if (!shader) {\n      return;\n    }\n    let rawShaderFile = await resolveShader(shader, this.nostalgistOptions);\n    if (!rawShaderFile) {\n      return;\n    }\n    rawShaderFile = await getResult(rawShaderFile);\n    if (!rawShaderFile) {\n      return;\n    }\n    const rawShaderFiles = Array.isArray(rawShaderFile) ? rawShaderFile : [rawShaderFile];\n    this.shader = await Promise.all(\n      rawShaderFiles.map((rawShaderFile2) => ResolvableFile.create({ raw: rawShaderFile2, signal: this.signal }))\n    );\n  }\n};\n__publicField(_EmulatorOptions, \"cacheStorage\", getCacheStore());\nlet EmulatorOptions = _EmulatorOptions;\nconst coreInfoMap = {\n  \"2048\": { savestate: true, supportsNoGame: true },\n  \"3dengine\": { corename: \"3DEngine\" },\n  \"4do\": { corename: \"4DO\", savestate: true },\n  \"81\": { savestate: true },\n  a5200: { savestate: true },\n  advanced_tests: { corename: \"Advanced Test\", supportsNoGame: true },\n  ardens: { corename: \"Ardens\", savestate: true },\n  arduous: { corename: \"Arduous\" },\n  atari800: { corename: \"Atari800\", savestate: true },\n  bk: { savestate: true },\n  blastem: { corename: \"BlastEm\", savestate: true },\n  bluemsx: { corename: \"blueMSX\", savestate: true },\n  bnes: { corename: \"bnes/higan\", savestate: true },\n  boom3: {},\n  boom3_xp: {},\n  bsnes: { savestate: true },\n  bsnes_cplusplus98: { cheats: true, corename: \"bsnes C++98 (v085)\", savestate: true },\n  bsnes_hd_beta: { corename: \"bsnes-hd beta\", savestate: true },\n  bsnes_mercury_accuracy: { cheats: true, corename: \"bsnes-mercury Accuracy\", savestate: true },\n  bsnes_mercury_balanced: { cheats: true, corename: \"bsnes-mercury Balanced\", savestate: true },\n  bsnes_mercury_performance: { cheats: true, corename: \"bsnes-mercury Performance\", savestate: true },\n  bsnes2014_accuracy: { cheats: true, corename: \"bsnes 2014 Accuracy\", savestate: true },\n  bsnes2014_balanced: { cheats: true, corename: \"bsnes 2014 Balanced\", savestate: true },\n  bsnes2014_performance: { cheats: true, corename: \"bsnes 2014 Performance\", savestate: true },\n  cannonball: { corename: \"Cannonball\", supportsNoGame: true },\n  cap32: { corename: \"Caprice32\", savestate: true, supportsNoGame: true },\n  cdi2015: { corename: \"Philips CDi 2015\" },\n  chailove: { cheats: true, corename: \"ChaiLove\", savestate: true },\n  chimerasnes: { cheats: true, corename: \"ChimeraSNES\", savestate: true },\n  citra: { corename: \"Citra\", savestate: true },\n  citra_canary: { corename: \"Citra Canary/Experimental\" },\n  citra2018: { corename: \"Citra 2018\" },\n  craft: { corename: \"Craft\", supportsNoGame: true },\n  crocods: { corename: \"CrocoDS\", savestate: true },\n  cruzes: { corename: \"Cruzes\", supportsNoGame: true },\n  daphne: { corename: \"Daphne\" },\n  desmume: { cheats: true, corename: \"DeSmuME\", savestate: true },\n  desmume2015: { cheats: true, corename: \"DeSmuME 2015\", savestate: true },\n  dinothawr: { corename: \"Dinothawr\", supportsNoGame: true },\n  directxbox: { corename: \"DirectXBox\" },\n  dirksimple: { corename: \"DirkSimple\", savestate: true },\n  dolphin: { corename: \"Dolphin\", savestate: true },\n  dolphin_launcher: { corename: \"Dolphin Launcher\", supportsNoGame: true },\n  dosbox: { corename: \"DOSBox\", supportsNoGame: true },\n  dosbox_core: { corename: \"DOSBox-core\", supportsNoGame: true },\n  dosbox_pure: { cheats: true, corename: \"DOSBox-pure\", savestate: true, supportsNoGame: true },\n  dosbox_svn: { corename: \"DOSBox-SVN\", supportsNoGame: true },\n  dosbox_svn_ce: { corename: \"DOSBox-SVN CE\", supportsNoGame: true },\n  duckstation: { corename: \"DuckStation\", savestate: true },\n  easyrpg: { corename: \"EasyRPG Player\" },\n  ecwolf: { corename: \"ECWolf\", savestate: true },\n  emuscv: { corename: \"EmuSCV\", supportsNoGame: true },\n  emux_chip8: { corename: \"Emux CHIP-8\" },\n  emux_gb: { corename: \"Emux GB\" },\n  emux_nes: { corename: \"Emux NES\" },\n  emux_sms: { corename: \"Emux SMS\" },\n  ep128emu_core: { cheats: true, corename: \"ep128emu-core\", savestate: true, supportsNoGame: true },\n  fake08: { corename: \"FAKE-08\", savestate: true },\n  fbalpha2012: { corename: \"FB Alpha 2012\", savestate: true },\n  fbalpha2012_cps1: { corename: \"FB Alpha 2012 CPS-1\", savestate: true },\n  fbalpha2012_cps2: { corename: \"FB Alpha 2012 CPS-2\", savestate: true },\n  fbalpha2012_cps3: { corename: \"FB Alpha 2012 CPS-3\", savestate: true },\n  fbalpha2012_neogeo: { corename: \"FB Alpha 2012 Neo Geo\", savestate: true },\n  fbneo: { cheats: true, corename: \"FinalBurn Neo\", savestate: true },\n  fceumm: { cheats: true, corename: \"FCEUmm\", savestate: true },\n  ffmpeg: { corename: \"FFmpeg\" },\n  fixgb: { corename: \"fixGB\" },\n  fixnes: { corename: \"fixNES\" },\n  flycast: { corename: \"Flycast\", savestate: true },\n  flycast_gles2: { corename: \"Flycast GLES2\", savestate: true },\n  fmsx: { corename: \"fMSX\" },\n  freechaf: { corename: \"FreeChaF\" },\n  freeintv: { corename: \"FreeIntv\" },\n  freej2me: { corename: \"FreeJ2ME\" },\n  frodo: { corename: \"Frodo\" },\n  fsuae: { corename: \"FS-UAE\" },\n  fuse: { corename: \"Fuse\" },\n  galaksija: { supportsNoGame: true },\n  gambatte: { corename: \"Gambatte\", savestate: true },\n  gearboy: { corename: \"Gearboy\" },\n  gearcoleco: { corename: \"Gearcoleco\" },\n  gearsystem: { corename: \"Gearsystem\" },\n  genesis_plus_gx: { cheats: true, corename: \"Genesis Plus GX\", savestate: true },\n  genesis_plus_gx_wide: { cheats: true, corename: \"Genesis Plus GX Wide\", savestate: true },\n  gme: { corename: \"Game Music Emu\" },\n  gong: { corename: \"Gong\", savestate: true, supportsNoGame: true },\n  gpsp: { corename: \"gpSP\", savestate: true },\n  gw: { corename: \"GW\" },\n  handy: { corename: \"Handy\", savestate: true },\n  hatari: { corename: \"Hatari\", savestate: true },\n  hbmame: { corename: \"HBMAME (Git)\" },\n  higan_sfc: { corename: \"nSide (Super Famicom Accuracy)\", savestate: true },\n  higan_sfc_balanced: { corename: \"nSide (Super Famicom Balanced)\", savestate: true },\n  imageviewer: { corename: \"Imageviewer\" },\n  ishiiruka: { corename: \"Ishiiruka\", savestate: true },\n  jaxe: { corename: \"JAXE\" },\n  jumpnbump: { corename: \"jumpnbump\" },\n  kronos: { cheats: true, corename: \"Kronos\", savestate: true },\n  lowresnx: { corename: \"lowresnx\" },\n  lutro: { corename: \"Lutro\" },\n  mame: { corename: \"MAME\", savestate: true },\n  mame2000: { corename: \"MAME 2000 (0.37b5)\", savestate: true },\n  mame2003: { corename: \"MAME 2003 (0.78)\", savestate: true },\n  mame2003_midway: { corename: \"MAME 2003 Midway (0.78)\", savestate: true },\n  mame2003_plus: { corename: \"MAME 2003-Plus\", savestate: true },\n  mame2009: { corename: \"MAME 2009 (0.135u4)\" },\n  mame2010: { corename: \"MAME 2010 (0.139)\" },\n  mame2015: { corename: \"MAME 2015 (0.160)\" },\n  mame2016: { corename: \"MAME 2016 (0.174)\" },\n  mamearcade: { corename: \"MAME (Git)\" },\n  mamemess: { corename: \"MESS (Git)\", savestate: true },\n  mednafen_gba: { corename: \"Beetle GBA\" },\n  mednafen_lynx: { corename: \"Beetle Lynx\" },\n  mednafen_ngp: { corename: \"Beetle NeoPop\", savestate: true },\n  mednafen_pce: { corename: \"Beetle PCE\", savestate: true },\n  mednafen_pce_fast: { corename: \"Beetle PCE Fast\", savestate: true },\n  mednafen_pcfx: { corename: \"Beetle PC-FX\" },\n  mednafen_psx: { cheats: true, corename: \"Beetle PSX\", savestate: true },\n  mednafen_psx_hw: { cheats: true, corename: \"Beetle PSX HW\", savestate: true },\n  mednafen_saturn: { cheats: true, corename: \"Beetle Saturn\", savestate: true },\n  mednafen_snes: { corename: \"Beetle bsnes\", savestate: true },\n  mednafen_supafaust: { cheats: true, corename: \"Beetle Supafaust\", savestate: true },\n  mednafen_supergrafx: { cheats: true, corename: \"Beetle SuperGrafx\", savestate: true },\n  mednafen_vb: { corename: \"Beetle VB\" },\n  mednafen_wswan: { corename: \"Beetle WonderSwan\", savestate: true },\n  melonds: { corename: \"melonDS\" },\n  mesen: { cheats: true, corename: \"Mesen\", savestate: true },\n  \"mesen-s\": { corename: \"Mesen-S\" },\n  mess2015: { corename: \"MESS 2015 (0.160)\" },\n  meteor: { corename: \"Meteor\" },\n  mgba: { cheats: true, corename: \"mGBA\", savestate: true },\n  minivmac: { corename: \"MinivmacII\" },\n  mojozork: { corename: \"mojozork\", savestate: true },\n  moonlight: { corename: \"Moonlight\", supportsNoGame: true },\n  mpv: { corename: \"MPV\" },\n  mrboom: { corename: \"Mr.Boom\", savestate: true, supportsNoGame: true },\n  mu: { corename: \"Mu\", supportsNoGame: true },\n  mupen64plus_next: { cheats: true, corename: \"Mupen64Plus-Next\", savestate: true },\n  mupen64plus_next_develop: { cheats: true, corename: \"Mupen64Plus-Next\", savestate: true },\n  mupen64plus_next_gles2: { cheats: true, corename: \"Mupen64Plus-Next\", savestate: true },\n  mupen64plus_next_gles3: { cheats: true, corename: \"Mupen64Plus-Next\", savestate: true },\n  nekop2: { corename: \"Neko Project II\", savestate: true },\n  neocd: { corename: \"NeoCD\" },\n  nes: { savestate: true },\n  nestopia: { cheats: true, corename: \"Nestopia\", savestate: true },\n  np2kai: { corename: \"Neko Project II Kai\", savestate: true },\n  numero: { corename: \"Numero\", savestate: true, supportsNoGame: true },\n  nxengine: { corename: \"NXEngine\", supportsNoGame: true },\n  o2em: { corename: \"O2EM\", savestate: true },\n  oberon: { corename: \"Oberon\" },\n  openlara: { corename: \"OpenLara\" },\n  opentyrian: { corename: \"OpenTyrian\", supportsNoGame: true },\n  opera: { corename: \"Opera\", savestate: true, supportsNoGame: true },\n  parallel_n64: { corename: \"ParaLLEl N64\", savestate: true },\n  parallel_n64_debug: { corename: \"ParaLLEl (Debug)\", savestate: true },\n  pascal_pong: { corename: \"PascalPong\", supportsNoGame: true },\n  pcem: { corename: \"PCem\", supportsNoGame: true },\n  pcsx_rearmed: { cheats: true, corename: \"PCSX-ReARMed\", savestate: true },\n  pcsx_rearmed_interpreter: { cheats: true, corename: \"PCSX ReARMed [Interpreter]\", savestate: true },\n  pcsx_rearmed_neon: { cheats: true, corename: \"PCSX ReARMed [NEON]\", savestate: true },\n  pcsx1: { corename: \"PCSX1\" },\n  pcsx2: { corename: \"LRPS2\", savestate: true },\n  picodrive: { cheats: true, corename: \"PicoDrive\", savestate: true },\n  play: { corename: \"Play!\", savestate: true },\n  pocketcdg: { corename: \"PocketCDG\" },\n  pokemini: { corename: \"PokeMini\", savestate: true },\n  potator: { corename: \"Potator\", savestate: true },\n  ppsspp: { corename: \"PPSSPP\", savestate: true },\n  prboom: { cheats: true, corename: \"PrBoom\", savestate: true },\n  prosystem: { corename: \"ProSystem\", savestate: true },\n  puae: { cheats: true, corename: \"PUAE\", savestate: true, supportsNoGame: true },\n  puae2021: { cheats: true, corename: \"PUAE 2021\", savestate: true, supportsNoGame: true },\n  puzzlescript: { corename: \"puzzlescript\", savestate: true },\n  px68k: { corename: \"PX68k\", supportsNoGame: true },\n  quasi88: { cheats: true, corename: \"QUASI88\", savestate: true, supportsNoGame: true },\n  quicknes: { corename: \"QuickNES\", savestate: true },\n  race: { corename: \"RACE\", savestate: true },\n  redbook: { corename: \"Redbook\" },\n  reminiscence: { corename: \"REminiscence\", savestate: true },\n  remotejoy: { corename: \"RemoteJoy\", supportsNoGame: true },\n  retro8: { corename: \"Retro8\" },\n  retrodream: { corename: \"RetroDream\" },\n  rustation: { corename: \"Rustation\" },\n  same_cdi: { corename: \"SAME CDi (Git)\" },\n  sameboy: { corename: \"SameBoy\" },\n  sameduck: { corename: \"SameDuck\", savestate: true },\n  scummvm: { corename: \"ScummVM\", supportsNoGame: true },\n  simcp: { corename: \"SimCoupe\" },\n  smsplus: { corename: \"SMS Plus GX\" },\n  snes9x: { cheats: true, corename: \"Snes9x\", savestate: true },\n  snes9x2002: { cheats: true, corename: \"Snes9x 2002\", savestate: true },\n  snes9x2005: { cheats: true, corename: \"Snes9x 2005\", savestate: true },\n  snes9x2005_plus: { cheats: true, corename: \"Snes9x 2005 Plus\", savestate: true },\n  snes9x2010: { cheats: true, corename: \"Snes9x 2010\", savestate: true },\n  squirreljme: { corename: \"SquirrelJME\", supportsNoGame: true },\n  stella: { corename: \"Stella\", savestate: true },\n  stella2014: { corename: \"Stella 2014\", savestate: true },\n  stonesoup: { corename: \"Dungeon Crawl Stone Soup\" },\n  superbroswar: { corename: \"superbroswar\" },\n  swanstation: { corename: \"SwanStation\", savestate: true },\n  tempgba: { corename: \"TempGBA\" },\n  test: { corename: \"Test\", supportsNoGame: true },\n  test_netplay: { corename: \"netplay-test\", supportsNoGame: true },\n  testaudio_callback: { corename: \"TestAudio Callback\", supportsNoGame: true },\n  testaudio_no_callback: { corename: \"TestAudio NoCallback\", supportsNoGame: true },\n  testaudio_playback_wav: { corename: \"TestAudio Playback Wav\", supportsNoGame: true },\n  testgl: { corename: \"TestGL\", supportsNoGame: true },\n  testgl_compute_shaders: { corename: \"TestGL ComputeShaders\", supportsNoGame: true },\n  testgl_ff: { corename: \"TestGL (FF)\", supportsNoGame: true },\n  testinput_buttontest: { corename: \"Button Test\", supportsNoGame: true },\n  testretroluxury: { corename: \"Test RetroLuxury\", supportsNoGame: true },\n  testsw: { corename: \"TestSW\", supportsNoGame: true },\n  testsw_vram: { corename: \"TestSW VRAM\", supportsNoGame: true },\n  testvulkan: { corename: \"TestVulkan\", supportsNoGame: true },\n  testvulkan_async_compute: { corename: \"TestVulkan AsyncCompute\", supportsNoGame: true },\n  tgbdual: { corename: \"TGB Dual\", savestate: true },\n  theodore: { corename: \"theodore\", savestate: true, supportsNoGame: true },\n  thepowdertoy: { corename: \"ThePowderToy\", savestate: true, supportsNoGame: true },\n  tic80: { cheats: true, corename: \"TIC-80\", savestate: true },\n  tyrquake: { cheats: true, corename: \"TyrQuake\" },\n  uae4arm: { corename: \"UAE4ARM\", savestate: true },\n  ume2015: { corename: \"UME 2015 (0.160)\" },\n  uw8: { corename: \"MicroW8\", savestate: true },\n  uzem: { savestate: true },\n  vaporspec: { corename: \"VaporSpec\", savestate: true },\n  vba_next: { corename: \"VBA Next\", savestate: true },\n  vbam: { cheats: true, corename: \"VBA-M\", savestate: true },\n  vecx: { savestate: true },\n  vemulator: { corename: \"VeMUlator\" },\n  vice_x128: { cheats: true, corename: \"VICE x128\", savestate: true, supportsNoGame: true },\n  vice_x64: { cheats: true, corename: \"VICE x64\", savestate: true, supportsNoGame: true },\n  vice_x64dtv: { cheats: true, corename: \"VICE x64dtv\", savestate: true, supportsNoGame: true },\n  vice_x64sc: { cheats: true, corename: \"VICE x64sc\", savestate: true, supportsNoGame: true },\n  vice_xcbm2: { cheats: true, corename: \"VICE xcbm2\", savestate: true, supportsNoGame: true },\n  vice_xcbm5x0: { cheats: true, corename: \"VICE xcbm5x0\", savestate: true, supportsNoGame: true },\n  vice_xpet: { cheats: true, corename: \"VICE xpet\", savestate: true, supportsNoGame: true },\n  vice_xplus4: { cheats: true, corename: \"VICE xplus4\", savestate: true, supportsNoGame: true },\n  vice_xscpu64: { cheats: true, corename: \"VICE xscpu64\", savestate: true, supportsNoGame: true },\n  vice_xvic: { cheats: true, corename: \"VICE xvic\", savestate: true, supportsNoGame: true },\n  vircon32: { corename: \"Vircon32\", supportsNoGame: true },\n  virtualjaguar: { corename: \"Virtual Jaguar\" },\n  virtualxt: {},\n  vitaquake2: { corename: \"vitaQuake 2\" },\n  \"vitaquake2-rogue\": { corename: \"vitaQuake 2 [Rogue]\" },\n  \"vitaquake2-xatrix\": { corename: \"vitaQuake 2 [Xatrix]\" },\n  \"vitaquake2-zaero\": { corename: \"vitaQuake 2 [Zaero]\" },\n  vitaquake3: { corename: \"vitaQuake 3\" },\n  vitavoyager: { corename: \"vitaVoyager\" },\n  wasm4: { corename: \"WASM-4\", savestate: true },\n  x1: {},\n  x64sdl: { corename: \"VICE SDL\" },\n  xrick: { corename: \"XRick\", supportsNoGame: true },\n  yabasanshiro: { cheats: true, corename: \"YabaSanshiro\", savestate: true },\n  yabause: { cheats: true, corename: \"Yabause\", savestate: true }\n};\nconst keyboardCodeMap = {\n  add: \"NumpadAdd\",\n  // is this right?\n  alt: \"AltLeft\",\n  backquote: \"Backquote\",\n  backslash: \"\",\n  // what's this?\n  backspace: \"Backspace\",\n  capslock: \"CapsLock\",\n  comma: \"Comma\",\n  ctrl: \"ControlLeft\",\n  del: \"Delete\",\n  divide: \"NumpadDivide\",\n  down: \"ArrowDown\",\n  end: \"End\",\n  enter: \"Enter\",\n  equals: \"Equal\",\n  escape: \"Escape\",\n  home: \"Home\",\n  insert: \"Insert\",\n  kp_enter: \"NumpadEnter\",\n  kp_equals: \"NumpadEquals\",\n  // is this right?\n  kp_minus: \"NumpadSubtract\",\n  kp_period: \"NumpadDecimal\",\n  kp_plus: \"NumpadAdd\",\n  left: \"ArrowLeft\",\n  leftbracket: \"BracketLeft\",\n  // is this right?\n  minus: \"Minus\",\n  multiply: \"NumpadMultiply\",\n  numlock: \"NumLock\",\n  pagedown: \"PageDown\",\n  pageup: \"PageUp\",\n  pause: \"Pause\",\n  period: \"Period\",\n  print_screen: \"PrintScreen\",\n  quote: \"Quote\",\n  ralt: \"AltRight\",\n  rctrl: \"ControlRight\",\n  right: \"ArrowRight\",\n  rightbracket: \"BracketRight\",\n  // is this right?\n  rshift: \"ShiftRight\",\n  scroll_lock: \"ScrollLock\",\n  semicolon: \"Semicolon\",\n  shift: \"ShiftLeft\",\n  slash: \"Slash\",\n  space: \"Space\",\n  subtract: \"NumpadSubtract\",\n  // is this right?\n  tab: \"Tab\",\n  tilde: \"\",\n  // what's this?\n  up: \"ArrowUp\"\n};\nfunction getEmscriptenModuleOverrides(overrides) {\n  let resolveRunDependenciesPromise;\n  const runDependenciesPromise = new Promise((resolve) => {\n    resolveRunDependenciesPromise = resolve;\n  });\n  const emscriptenModuleOverrides = {\n    noExitRuntime: false,\n    noInitialRun: true,\n    locateFile(file) {\n      return file;\n    },\n    // the return value of `monitorRunDependencies` seems to be misused here, but it works for now\n    async monitorRunDependencies(left) {\n      if (left === 0) {\n        resolveRunDependenciesPromise();\n      }\n      return await runDependenciesPromise;\n    },\n    print(...args) {\n      console.info(...args);\n    },\n    printErr(...args) {\n      console.error(...args);\n    },\n    // @ts-expect-error do not throw error when exit\n    quit(status, toThrow) {\n      if (status) {\n        console.info(status, toThrow);\n      }\n    },\n    ...overrides\n  };\n  return emscriptenModuleOverrides;\n}\nconst { ini: ini$1, path: path$1 } = vendors;\nconst userdataDirectory = \"/home/web_user/retroarch/userdata\";\nconst bundleDirectory = \"/home/web_user/retroarch/bundle\";\nconst contentDirectory = path$1.join(userdataDirectory, \"content\");\nconst systemDirectory = path$1.join(userdataDirectory, \"system\");\nconst configDirectory = path$1.join(userdataDirectory, \"config\");\nconst screenshotsDirectory = path$1.join(userdataDirectory, \"screenshots\");\nconst shaderDirectory = path$1.join(bundleDirectory, \"shaders\", \"shaders_glsl\");\nconst shaderAssetsDirectory = path$1.join(shaderDirectory, \"shaders\");\nconst configPath = path$1.join(userdataDirectory, \"retroarch.cfg\");\nconst coreConfigPath = path$1.join(userdataDirectory, \"retroarch-core-options.cfg\");\nconst _EmulatorFileSystem = class _EmulatorFileSystem {\n  constructor({\n    emscriptenModule,\n    signal\n  }) {\n    __publicField(this, \"emscriptenModule\");\n    __publicField(this, \"signal\");\n    this.emscriptenModule = emscriptenModule;\n    this.signal = signal;\n  }\n  get FS() {\n    return this.emscriptenModule.FS;\n  }\n  static async create(...args) {\n    const emulatorFileSystem = new _EmulatorFileSystem(...args);\n    await emulatorFileSystem.prepare();\n    return emulatorFileSystem;\n  }\n  mkdirTree(directory) {\n    const { FS } = this;\n    FS.mkdirTree(directory);\n  }\n  readFile(path2, encoding = \"utf8\") {\n    const { FS } = this;\n    return FS.readFile(path2, { encoding });\n  }\n  unlink(path2) {\n    const { FS } = this;\n    try {\n      FS.unlink(path2);\n    } catch {\n    }\n  }\n  async waitForFile(fileName) {\n    const maxRetries = 30;\n    let buffer;\n    let isFinished = false;\n    let retryTimes = 0;\n    while (retryTimes <= maxRetries && !isFinished) {\n      const delayTime = Math.min(100 * 2 ** retryTimes, 1e3);\n      await delay(delayTime);\n      checkIsAborted(this.signal);\n      try {\n        const newBuffer = this.readFile(fileName, \"binary\").buffer;\n        if (buffer) {\n          isFinished = buffer.byteLength > 0 && buffer.byteLength === newBuffer.byteLength;\n        }\n        buffer = newBuffer;\n      } catch (error) {\n        console.warn(error);\n      }\n      retryTimes += 1;\n    }\n    if (!(isFinished && buffer)) {\n      throw new Error(\"fs timeout\");\n    }\n    return buffer;\n  }\n  async writeFile(filePath, fileContent) {\n    const { FS } = this;\n    const directory = path$1.dirname(filePath);\n    const fileName = path$1.basename(filePath);\n    const resolvable = await ResolvableFile.create(fileContent);\n    const buffer = await resolvable.getUint8Array();\n    FS.createDataFile(\"/\", fileName, buffer, true, false);\n    const encoding = \"binary\";\n    const data = this.readFile(fileName, encoding);\n    this.mkdirTree(directory);\n    FS.writeFile(filePath, data, { encoding });\n    this.unlink(fileName);\n  }\n  async writeIni(path2, config) {\n    if (!config) {\n      return;\n    }\n    const clonedConfig = {};\n    for (const key in config) {\n      clonedConfig[key] = `__${config[key]}__`;\n    }\n    const fileContent = ini$1.stringify(clonedConfig, { platform: \"linux\", whitespace: true }).replaceAll(\"__\", '\"');\n    await this.writeFile(path2, fileContent);\n  }\n  async prepare() {\n    const directories = [configDirectory, contentDirectory, shaderDirectory, shaderAssetsDirectory, systemDirectory];\n    for (const directory of directories) {\n      this.mkdirTree(directory);\n    }\n    const maxWaitTime = 100;\n    let waitTime = 0;\n    while (!this.emscriptenModule.asm && waitTime < maxWaitTime) {\n      await delay(10);\n      checkIsAborted(this.signal);\n      waitTime += 5;\n    }\n  }\n};\n__publicField(_EmulatorFileSystem, \"bundleDirectory\", bundleDirectory);\n__publicField(_EmulatorFileSystem, \"configDirectory\", configDirectory);\n__publicField(_EmulatorFileSystem, \"configPath\", configPath);\n__publicField(_EmulatorFileSystem, \"contentDirectory\", contentDirectory);\n__publicField(_EmulatorFileSystem, \"coreConfigPath\", coreConfigPath);\n__publicField(_EmulatorFileSystem, \"screenshotsDirectory\", screenshotsDirectory);\n__publicField(_EmulatorFileSystem, \"shaderDirectory\", shaderDirectory);\n__publicField(_EmulatorFileSystem, \"systemDirectory\", systemDirectory);\n__publicField(_EmulatorFileSystem, \"userdataDirectory\", userdataDirectory);\nlet EmulatorFileSystem = _EmulatorFileSystem;\nconst { ini, path } = vendors;\nclass Emulator {\n  constructor(options) {\n    __publicField(this, \"canvasInitialSize\", { height: 0, width: 0 });\n    __publicField(this, \"emscripten\");\n    __publicField(this, \"eventListeners\", {\n      beforeLaunch: [],\n      onLaunch: []\n    });\n    __publicField(this, \"fileSystem\");\n    __publicField(this, \"gameStatus\", \"initial\");\n    __publicField(this, \"messageQueue\", []);\n    __publicField(this, \"options\");\n    this.options = options;\n  }\n  get coreFullName() {\n    const { core } = this.options;\n    const coreFullName = coreInfoMap[core.name].corename || core.name;\n    if (!coreFullName) {\n      throw new Error(`invalid core name: ${core.name}`);\n    }\n    return coreFullName;\n  }\n  get fs() {\n    if (!this.fileSystem) {\n      throw new Error(\"fileSystem is not ready\");\n    }\n    return this.fileSystem;\n  }\n  get romBaseName() {\n    const {\n      rom: [{ baseName }]\n    } = this.options;\n    return baseName;\n  }\n  get sramFileDirectory() {\n    return path.join(EmulatorFileSystem.userdataDirectory, \"saves\", this.coreFullName);\n  }\n  get sramFilePath() {\n    return path.join(this.sramFileDirectory, `${this.romBaseName}.srm`);\n  }\n  get stateFileDirectory() {\n    return path.join(EmulatorFileSystem.userdataDirectory, \"states\", this.coreFullName);\n  }\n  get stateFilePath() {\n    return path.join(this.stateFileDirectory, `${this.romBaseName}.state`);\n  }\n  get stateThumbnailFilePath() {\n    return `${this.stateFilePath}.png`;\n  }\n  callCommand(command) {\n    var _a;\n    const { Module } = this.getEmscripten();\n    (_a = Module[command]) == null ? void 0 : _a.call(Module);\n  }\n  exit(statusCode = 0) {\n    try {\n      const { exit, JSEvents } = this.getEmscripten();\n      exit(statusCode);\n      JSEvents.removeAllEventListeners();\n    } catch {\n    }\n    this.gameStatus = \"terminated\";\n  }\n  getEmscripten() {\n    if (!this.emscripten) {\n      throw new Error(\"emulator is not ready\");\n    }\n    return this.emscripten;\n  }\n  getOptions() {\n    return this.options;\n  }\n  getStatus() {\n    return this.gameStatus;\n  }\n  async launch() {\n    const { element, respondToGlobalEvents, signal, style, waitForInteraction } = this.options;\n    updateStyle(element, style);\n    if (!element.isConnected) {\n      document.body.append(element);\n      signal == null ? void 0 : signal.addEventListener(\"abort\", () => {\n        element == null ? void 0 : element.remove();\n      });\n    }\n    this.canvasInitialSize = this.getElementSize();\n    if (respondToGlobalEvents === false) {\n      if (!element.tabIndex || element.tabIndex === -1) {\n        element.tabIndex = 0;\n      }\n      const { activeElement } = document;\n      element.focus();\n      signal == null ? void 0 : signal.addEventListener(\"abort\", () => {\n        if (activeElement instanceof HTMLElement) {\n          activeElement.focus();\n        }\n      });\n    }\n    await this.runEventListeners(\"beforeLaunch\");\n    if (waitForInteraction) {\n      waitForInteraction({\n        done: async () => {\n          this.runMain();\n          await this.runEventListeners(\"onLaunch\");\n        }\n      });\n    } else {\n      this.runMain();\n      await this.runEventListeners(\"onLaunch\");\n    }\n  }\n  async loadState(state) {\n    this.clearStateFile();\n    await this.fs.writeFile(this.stateFilePath, state);\n    await this.fs.waitForFile(this.stateFilePath);\n    this.sendCommand(\"LOAD_STATE\");\n  }\n  on(event, callback) {\n    this.eventListeners[event].push(callback);\n    return this;\n  }\n  pause() {\n    if (this.gameStatus === \"running\") {\n      this.sendCommand(\"PAUSE_TOGGLE\");\n    }\n    this.gameStatus = \"paused\";\n  }\n  async press(button, player = 1, time = 100) {\n    const code = this.getKeyboardCode(button, player);\n    if (code) {\n      await this.keyboardPress(code, time);\n    }\n  }\n  pressDown(button, player = 1) {\n    const code = this.getKeyboardCode(button, player);\n    if (code) {\n      this.keyboardDown(code);\n    }\n  }\n  pressUp(button, player = 1) {\n    const code = this.getKeyboardCode(button, player);\n    if (code) {\n      this.keyboardUp(code);\n    }\n  }\n  resize({ height, width }) {\n    const { Module } = this.getEmscripten();\n    if (typeof width === \"number\" && typeof height === \"number\") {\n      Module.setCanvasSize(width, height);\n    }\n  }\n  restart() {\n    this.sendCommand(\"RESET\");\n    this.resume();\n  }\n  resume() {\n    if (this.gameStatus === \"paused\") {\n      this.sendCommand(\"PAUSE_TOGGLE\");\n    }\n    this.gameStatus = \"running\";\n  }\n  async saveSRAM() {\n    this.fs.unlink(this.sramFilePath);\n    this.callCommand(\"_cmd_savefiles\");\n    const buffer = await this.fs.waitForFile(this.sramFilePath);\n    const blob = new Blob([buffer], { type: \"application/octet-stream\" });\n    return blob;\n  }\n  async saveState() {\n    this.clearStateFile();\n    this.sendCommand(\"SAVE_STATE\");\n    const savestateThumbnailEnable = this.options.retroarchConfig.savestate_thumbnail_enable;\n    let stateBuffer;\n    let stateThumbnailBuffer;\n    if (savestateThumbnailEnable) {\n      [stateBuffer, stateThumbnailBuffer] = await Promise.all([\n        this.fs.waitForFile(this.stateFilePath),\n        this.fs.waitForFile(this.stateThumbnailFilePath)\n      ]);\n    } else {\n      stateBuffer = await this.fs.waitForFile(this.stateFilePath);\n    }\n    this.clearStateFile();\n    const state = new Blob([stateBuffer], { type: \"application/octet-stream\" });\n    const thumbnail = stateThumbnailBuffer ? new Blob([stateThumbnailBuffer], { type: \"image/png\" }) : void 0;\n    return { state, thumbnail };\n  }\n  async screenshot() {\n    this.sendCommand(\"SCREENSHOT\");\n    const screenshotFileName = this.guessScreenshotFileName();\n    const screenshotPath = path.join(EmulatorFileSystem.screenshotsDirectory, screenshotFileName);\n    const buffer = await this.fs.waitForFile(screenshotPath);\n    this.fs.unlink(screenshotPath);\n    return new Blob([buffer], { type: \"image/png\" });\n  }\n  sendCommand(msg) {\n    const bytes = textEncoder.encode(`${msg}\n`);\n    this.messageQueue.push([bytes, 0]);\n  }\n  async setup() {\n    await this.setupEmscripten();\n    await this.setupFileSystem();\n  }\n  clearStateFile() {\n    try {\n      this.fs.unlink(this.stateFilePath);\n      this.fs.unlink(this.stateThumbnailFilePath);\n    } catch {\n    }\n  }\n  fireKeyboardEvent(type, code) {\n    const { JSEvents } = this.getEmscripten();\n    for (const { eventListenerFunc, eventTypeString } of JSEvents.eventHandlers) {\n      if (eventTypeString === type) {\n        try {\n          eventListenerFunc({ code, target: this.options.element });\n        } catch {\n        }\n      }\n    }\n  }\n  getCurrentRetroarchConfig() {\n    const configContent = this.fs.readFile(EmulatorFileSystem.configPath);\n    return ini.parse(configContent);\n  }\n  getElementSize() {\n    const { element, size } = this.options;\n    return !size || size === \"auto\" ? { height: element.offsetHeight, width: element.offsetWidth } : size;\n  }\n  getKeyboardCode(button, player = 1) {\n    const config = this.getCurrentRetroarchConfig();\n    const configName = `input_player${player}_${button}`;\n    const key = config[configName];\n    if (!key || key === \"nul\") {\n      return;\n    }\n    const { length } = key;\n    if (length === 1) {\n      return `Key${key.toUpperCase()}`;\n    }\n    if (key[0] === \"f\" && (length === 2 || length === 3)) {\n      return key.toUpperCase();\n    }\n    if (length === 4 && key.startsWith(\"num\")) {\n      return `Numpad${key.at(-1)}`;\n    }\n    if (length === 7 && key.startsWith(\"keypad\")) {\n      return `Digit${key.at(-1)}`;\n    }\n    return keyboardCodeMap[key] || \"\";\n  }\n  guessScreenshotFileName() {\n    const date = /* @__PURE__ */ new Date();\n    const year = date.getFullYear() % 1e3;\n    const month = padZero(date.getMonth() + 1);\n    const day = padZero(date.getDate());\n    const hour = padZero(date.getHours());\n    const minute = padZero(date.getMinutes());\n    const second = padZero(date.getSeconds());\n    const dateString = `${year}${month}${day}-${hour}${minute}${second}`;\n    const baseName = this.romBaseName;\n    return `${baseName}-${dateString}.png`;\n  }\n  keyboardDown(code) {\n    this.fireKeyboardEvent(\"keydown\", code);\n  }\n  async keyboardPress(code, time = 100) {\n    this.keyboardDown(code);\n    await delay(time);\n    this.keyboardUp(code);\n  }\n  keyboardUp(code) {\n    this.fireKeyboardEvent(\"keyup\", code);\n  }\n  postRun() {\n    var _a;\n    this.resize(this.canvasInitialSize);\n    for (const gamepad of ((_a = navigator.getGamepads) == null ? void 0 : _a.call(navigator)) ?? []) {\n      if (gamepad) {\n        globalThis.dispatchEvent(new GamepadEvent(\"gamepadconnected\", { gamepad }));\n      }\n    }\n    this.updateKeyboardEventHandlers();\n  }\n  async runEventListeners(event) {\n    const { [event]: eventListeners } = this.eventListeners;\n    for (const eventListener of eventListeners) {\n      await eventListener();\n    }\n  }\n  runMain() {\n    checkIsAborted(this.options.signal);\n    const { Module } = this.getEmscripten();\n    const { arguments: raArgs = [] } = Module;\n    const { rom, signal } = this.options;\n    if (!Module.arguments && rom.length > 0) {\n      const [{ name }] = rom;\n      raArgs.push(path.join(EmulatorFileSystem.contentDirectory, name));\n    }\n    Module.callMain(raArgs);\n    signal == null ? void 0 : signal.addEventListener(\"abort\", () => {\n      this.exit();\n    });\n    this.gameStatus = \"running\";\n    this.postRun();\n  }\n  async setupEmscripten() {\n    var _a;\n    if (typeof globalThis === \"object\") {\n      globalThis.setImmediate ?? (globalThis.setImmediate = globalThis.setTimeout);\n    }\n    const { core, element, emscriptenModule } = this.options;\n    const { wasm } = core;\n    const moduleOptions = { canvas: element, preRun: [], wasmBinary: await wasm.getArrayBuffer(), ...emscriptenModule };\n    const initialModule = getEmscriptenModuleOverrides(moduleOptions);\n    (_a = initialModule.preRun) == null ? void 0 : _a.push(() => initialModule.FS.init(() => this.stdin()));\n    const { getEmscripten } = await importCoreJsAsESM(core);\n    checkIsAborted(this.options.signal);\n    const emscripten = await getEmscripten({ Module: initialModule });\n    checkIsAborted(this.options.signal);\n    this.emscripten = emscripten;\n    const { Module } = emscripten;\n    await Module.monitorRunDependencies();\n    checkIsAborted(this.options.signal);\n  }\n  async setupFileSystem() {\n    const { Module } = this.getEmscripten();\n    const { bios, rom, signal, sram, state } = this.options;\n    for (const { name } of bios) {\n      if (!name) {\n        throw new Error(\"file name is required for bios\");\n      }\n    }\n    const fileSystem = await EmulatorFileSystem.create({ emscriptenModule: Module, signal });\n    this.fileSystem = fileSystem;\n    if (state) {\n      this.fs.mkdirTree(this.stateFileDirectory);\n    }\n    if (sram) {\n      this.fs.mkdirTree(this.sramFileDirectory);\n    }\n    const filePromises = [];\n    filePromises.push(\n      ...rom.map((file) => this.fs.writeFile(path.join(EmulatorFileSystem.contentDirectory, file.name), file)),\n      ...bios.map((file) => this.fs.writeFile(path.join(EmulatorFileSystem.systemDirectory, file.name), file))\n    );\n    if (state) {\n      filePromises.push(this.fs.writeFile(`${this.stateFilePath}.auto`, state));\n    }\n    if (sram) {\n      filePromises.push(this.fs.writeFile(this.sramFilePath, sram));\n    }\n    await Promise.all(filePromises);\n    checkIsAborted(signal);\n    await this.setupRaConfigFiles();\n    checkIsAborted(this.options.signal);\n  }\n  async setupRaConfigFiles() {\n    await this.fs.writeIni(EmulatorFileSystem.configPath, this.options.retroarchConfig);\n    await this.fs.writeIni(EmulatorFileSystem.coreConfigPath, this.options.retroarchCoreConfig);\n    await this.setupRaShaderFiles();\n  }\n  async setupRaShaderFiles() {\n    const { shader } = this.options;\n    if (shader.length === 0) {\n      return;\n    }\n    const glslpFiles = shader.filter((file) => file.name.endsWith(\".glslp\"));\n    if (glslpFiles.length === 0) {\n      return;\n    }\n    for (const { name } of shader) {\n      if (!name) {\n        throw new Error(\"file name is required for shader\");\n      }\n    }\n    const globalGlslpContent = glslpFiles.map((file) => `#reference \"${path.join(EmulatorFileSystem.shaderDirectory, file.name)}\"`).join(\"\\n\");\n    await this.fs.writeFile(path.join(EmulatorFileSystem.configDirectory, \"global.glslp\"), globalGlslpContent);\n    await Promise.all(\n      shader.map(async (resolvable) => {\n        const directory = resolvable.extension === \".glslp\" ? EmulatorFileSystem.shaderDirectory : path.join(EmulatorFileSystem.shaderDirectory, \"shaders\");\n        await this.fs.writeFile(path.join(directory, resolvable.name), resolvable);\n      })\n    );\n  }\n  // copied from https://github.com/libretro/RetroArch/pull/15017\n  stdin() {\n    const { messageQueue } = this;\n    while (messageQueue.length > 0) {\n      const msg = messageQueue[0][0];\n      const index = messageQueue[0][1];\n      if (index >= msg.length) {\n        messageQueue.shift();\n      } else {\n        messageQueue[0][1] = index + 1;\n        return msg[index];\n      }\n    }\n    return null;\n  }\n  updateKeyboardEventHandlers() {\n    const { JSEvents } = this.getEmscripten();\n    const { element, respondToGlobalEvents } = this.options;\n    if (!respondToGlobalEvents) {\n      if (!element.getAttribute(\"tabindex\")) {\n        element.tabIndex = -1;\n      }\n      element.focus();\n      element.addEventListener(\"click\", () => {\n        element.focus();\n      });\n    }\n    const keyboardEvents = /* @__PURE__ */ new Set([\"keydown\", \"keypress\", \"keyup\"]);\n    const globalKeyboardEventHandlers = JSEvents.eventHandlers.filter(\n      ({ eventTypeString, target }) => keyboardEvents.has(eventTypeString) && (target === document || target === element)\n    );\n    for (const globalKeyboardEventHandler of globalKeyboardEventHandlers) {\n      const { eventTypeString, handlerFunc, target } = globalKeyboardEventHandler;\n      JSEvents.registerOrRemoveHandler({ eventTypeString, target });\n      JSEvents.registerOrRemoveHandler({\n        ...globalKeyboardEventHandler,\n        handlerFunc: (...args) => {\n          const [event] = args;\n          if (respondToGlobalEvents || (event == null ? void 0 : event.target) === element) {\n            handlerFunc(...args);\n          }\n        },\n        target: respondToGlobalEvents ? document : element\n      });\n    }\n  }\n}\nconst _Nostalgist = class _Nostalgist {\n  constructor(options) {\n    __publicField(this, \"emulator\");\n    __publicField(this, \"emulatorOptions\");\n    __publicField(this, \"options\");\n    const mergedOptions = {};\n    merge(mergedOptions, getGlobalOptions(), options);\n    this.options = mergedOptions;\n  }\n  static clearCache() {\n    EmulatorOptions.resetCacheStore();\n  }\n  /**\n   * Update the global options for `Nostalgist`, so everytime the `Nostalgist.launch` method or shortcuts like `Nostalgist.nes` is called, the default options specified here will be used.\n   *\n   * You may want to specify how to resolve ROMs and RetroArch cores here.\n   *\n   * @see {@link https://nostalgist.js.org/apis/configure/}\n   *\n   * @example\n   * ```js\n   * Nostalgist.configure({\n   *   resolveRom({ file }) {\n   *     return `https://example.com/roms/${file}`\n   *   },\n   *   // other configuation can also be specified here\n   * })\n   * ```\n   */\n  static configure(options) {\n    updateGlobalOptions(options);\n  }\n  /**\n   * A shortcut method for Nostalgist.launch method, with some additional default options for GB emulation.\n   *\n   * It will use mgba as the default core for emulation.\n   *\n   * @see {@link https://nostalgist.js.org/apis/gb/}\n   */\n  static async gb(options) {\n    return await _Nostalgist.launchSystem(\"gb\", options);\n  }\n  /**\n   * A shortcut method for Nostalgist.launch method, with some additional default options for GBA emulation.\n   *\n   * It will use mgba as the default core for emulation.\n   *\n   * @see {@link https://nostalgist.js.org/apis/gba/}\n   */\n  static async gba(options) {\n    return await _Nostalgist.launchSystem(\"gba\", options);\n  }\n  /**\n   * A shortcut method for Nostalgist.launch method, with some additional default options for GBC emulation.\n   *\n   * It will use mgba as the default core for emulation.\n   *\n   * @see {@link https://nostalgist.js.org/apis/gbc/}\n   */\n  static async gbc(options) {\n    return await _Nostalgist.launchSystem(\"gbc\", options);\n  }\n  /**\n   * Launch an emulator and return a `Promise` of the instance of the emulator.\n   *\n   * @see {@link https://nostalgist.js.org/apis/launch/}\n   *\n   * @example\n   * A simple example:\n   * ```js\n   * const nostalgist = await Nostalgist.launch({\n   *   core: 'fceumm',\n   *   rom: 'flappybird.nes',\n   * })\n   * ```\n   *\n   * @example\n   * A more complex one:\n   * ```js\n   * const nostalgist = await Nostalgist.launch({\n   *   element: document.querySelector('.emulator-canvas'),\n   *   core: 'fbneo',\n   *   rom: ['mslug.zip'],\n   *   bios: ['neogeo.zip'],\n   *   retroarchConfig: {\n   *     rewind_enable: true,\n   *     savestate_thumbnail_enable: true,\n   *   }\n   *   runEmulatorManually: false,\n   *   resolveCoreJs(core) {\n   *     return `https://example.com/core/${core}_libretro.js`\n   *   },\n   *   resolveCoreWasm(core) {\n   *     return `https://example.com/core/${core}_libretro.wasm`\n   *   },\n   *   resolveRom(file) {\n   *     return `https://example.com/roms/${file}`\n   *   },\n   *   resolveBios(bios) {\n   *     return `https://example.com/system/${bios}`\n   *   },\n   * })\n   * ```\n   */\n  static async launch(options) {\n    const nostalgist = new _Nostalgist(options);\n    await nostalgist.load();\n    return nostalgist;\n  }\n  /**\n   * A shortcut method for Nostalgist.launch method, with some additional default options for Sega Genesis / Megadrive emulation.\n   *\n   * It will use genesis_plus_gx as the default core for emulation.\n   *\n   * @see {@link https://nostalgist.js.org/apis/megadrive/}\n   */\n  static async megadrive(options) {\n    return await _Nostalgist.launchSystem(\"megadrive\", options);\n  }\n  /**\n   * A shortcut method for Nostalgist.launch method, with some additional default options for NES emulation.\n   *\n   * It will use fceumm as the default core for emulation.\n   *\n   * @see {@link https://nostalgist.js.org/apis/nes/}\n   */\n  static async nes(options) {\n    return await _Nostalgist.launchSystem(\"nes\", options);\n  }\n  static async prepare(options) {\n    const nostalgist = new _Nostalgist({ ...options, runEmulatorManually: true });\n    await nostalgist.load();\n    return nostalgist;\n  }\n  /**\n   * Reset the global configuation set by `Nostalgist.configure` to default.\n   *\n   * @see {@link https://nostalgist.js.org/apis/reset-to-default/}\n   */\n  static resetToDefault() {\n    resetGlobalOptions();\n  }\n  /**\n   * A shortcut method for Nostalgist.launch method, with some additional default options for SNES emulation.\n   *\n   * It will use snes9x as the default core for emulation.\n   *\n   * @see {@link https://nostalgist.js.org/apis/snes/}\n   */\n  static async snes(options) {\n    return await _Nostalgist.launchSystem(\"snes\", options);\n  }\n  static async launchSystem(system, options) {\n    const optionsResult = await getResult(options);\n    const launchOptions = isResolvableFileInput(optionsResult) ? { rom: optionsResult } : optionsResult;\n    return await _Nostalgist.launch({ ...launchOptions, core: systemCoreMap[system] });\n  }\n  /**\n   * Exit the current running game and the emulator. Remove the canvas element used by the emulator if needed.\n   *\n   * @see {@link https://nostalgist.js.org/apis/exit/}\n   *\n   * @example\n   * ```js\n   * const nostalgist = await Nostalgist.nes('flappybird.nes')\n   *\n   * nostalgist.exit()\n   * ```\n   * ```js\n   * const nostalgist = await Nostalgist.nes('flappybird.nes')\n   *\n   * // the canvas element will not be removed\n   * nostalgist.exit({ removeCanvas: false })\n   * ```\n   */\n  exit({ removeCanvas = true } = {}) {\n    this.getEmulator().exit();\n    if (removeCanvas) {\n      this.getCanvas().remove();\n    }\n  }\n  /**\n   * Get the canvas DOM element that the current emulator is using.\n   *\n   * @see {@link https://nostalgist.js.org/apis/get-canvas/}\n   */\n  getCanvas() {\n    return this.getEmulatorOptions().element;\n  }\n  /**\n   * Get the Emscripten object exposed by RetroArch.\n   *\n   * @see {@link https://nostalgist.js.org/apis/get-emscripten-module/}\n   */\n  getEmscripten() {\n    const emulator = this.getEmulator();\n    return emulator.getEmscripten();\n  }\n  /**\n   * Get the Emscripten AL object exposed by RetroArch.\n   *\n   * @see {@link https://nostalgist.js.org/apis/get-emscripten-module/}\n   */\n  getEmscriptenAL() {\n    const emulator = this.getEmulator();\n    return emulator.getEmscripten().AL;\n  }\n  /**\n   * Get the Emscripten FS object of the current running emulator.\n   *\n   * @see {@link https://nostalgist.js.org/apis/get-emscripten-fs/}\n   */\n  getEmscriptenFS() {\n    const emulator = this.getEmulator();\n    const emscripten = emulator.getEmscripten();\n    return emscripten.Module.FS;\n  }\n  /**\n   * Get the Emscripten Module object of the current running emulator.\n   *\n   * @see {@link https://nostalgist.js.org/apis/get-emscripten-module/}\n   */\n  getEmscriptenModule() {\n    const emulator = this.getEmulator();\n    const emscripten = emulator.getEmscripten();\n    return emscripten.Module;\n  }\n  getEmulator() {\n    const { emulator } = this;\n    if (!emulator) {\n      throw new Error(\"emulator is not ready\");\n    }\n    return emulator;\n  }\n  getEmulatorOptions() {\n    if (!this.emulatorOptions) {\n      throw new Error(\"emulator options are not ready\");\n    }\n    return this.emulatorOptions;\n  }\n  getOptions() {\n    return this.options;\n  }\n  /**\n     * Get the status of current emulation.\n     *\n     * @see {@link https://nostalgist.js.org/apis/get-status/}\n     *\n     * @returns One of 'initial' | 'paused' | 'running' | 'terminated'\n     * @example\n     * ```js\n     * const nostalgist = await Nostalgist.prepare('flappybird.nes')\n     * console.log(nostalgist.getStatus()) // 'initial'\n  \n     * await nostalgist.launch()\n     * console.log(nostalgist.getStatus()) // 'running'\n  \n     * await nostalgist.pause()\n     * console.log(nostalgist.getStatus()) // 'paused'\n  \n     * nostalgist.exit()\n     * console.log(nostalgist.getStatus()) // 'terminated'\n     * ```\n     */\n  getStatus() {\n    return this.getEmulator().getStatus();\n  }\n  /**\n   * Launch the emulator, if it's not launched, because of the launch option `runEmulatorManually` being set to `true`.\n   * @deprecated Use the `start` method instead.\n   * @see {@link https://nostalgist.js.org/apis/launch-emulator/}\n   */\n  async launchEmulator() {\n    return await this.start();\n  }\n  /**\n   * Load a state for the current running emulator and game.\n   *\n   * @see {@link https://nostalgist.js.org/apis/load-state/}\n   *\n   * @example\n   * ```js\n   * const nostalgist = await Nostalgist.nes('flappybird.nes')\n   *\n   * // save the state\n   * const { state } = await nostalgist.saveState()\n   *\n   * // load the state\n   * await nostalgist.loadState(state)\n   * ```\n   */\n  async loadState(state) {\n    const resolvable = await ResolvableFile.create(state);\n    await this.getEmulator().loadState(resolvable);\n  }\n  /**\n   * Pause the current running game.\n   *\n   * @see {@link https://nostalgist.js.org/apis/pause/}\n   *\n   * @example\n   * ```js\n   * const nostalgist = await Nostalgist.nes('flappybird.nes')\n   *\n   * nostalgist.pause()\n   * ```\n   */\n  pause() {\n    this.getEmulator().pause();\n  }\n  /**\n   * Press a button and then release it programmatically. Analog Joysticks are not supported by now.\n   *\n   * @see {@link https://nostalgist.js.org/apis/press/}\n   *\n   * @example\n   * ```js\n   * const nostalgist = await Nostalgist.nes('flappybird.nes')\n   *\n   * await nostalgist.press('start')\n   * ```\n   */\n  async press(options) {\n    const emulator = this.getEmulator();\n    await (typeof options === \"string\" ? emulator.press(options) : emulator.press(options.button, options.player, options.time));\n  }\n  /**\n   * Press a button programmatically. Analog Joysticks are not supported by now.\n   *\n   * @see {@link https://nostalgist.js.org/apis/press-down/}\n   *\n   * @example\n   * ```js\n   * const nostalgist = await Nostalgist.nes('flappybird.nes')\n   *\n   * nostalgist.pressDown('start')\n   * ```\n   */\n  pressDown(options) {\n    const emulator = this.getEmulator();\n    if (typeof options === \"string\") {\n      return emulator.pressDown(options);\n    }\n    return emulator.pressDown(options.button, options.player);\n  }\n  /**\n   * Release it programmatically. Analog Joysticks are not supported by now.\n   *\n   * @see {@link https://nostalgist.js.org/apis/press-up/}\n   *\n   * @example\n   * ```js\n   * const nostalgist = await Nostalgist.nes('flappybird.nes')\n   *\n   * nostalgist.pressUp('start')\n   * ```\n   */\n  pressUp(options) {\n    const emulator = this.getEmulator();\n    if (typeof options === \"string\") {\n      return emulator.pressUp(options);\n    }\n    return emulator.pressUp(options.button, options.player);\n  }\n  /**\n   * Resize the canvas element of the emulator.\n   *\n   * @see {@link https://nostalgist.js.org/apis/resize/}\n   *\n   * @example\n   * ```js\n   * const nostalgist = await Nostalgist.nes('flappybird.nes')\n   *\n   * nostalgist.resize({ width: 1000, height: 800 })\n   * ```\n   */\n  resize(size) {\n    return this.getEmulator().resize(size);\n  }\n  /**\n   * Restart the current running game.\n   *\n   * @see {@link https://nostalgist.js.org/apis/restart/}\n   *\n   * @example\n   * ```js\n   * const nostalgist = await Nostalgist.nes('flappybird.nes')\n   *\n   * nostalgist.restart()\n   * ```\n   */\n  restart() {\n    this.getEmulator().restart();\n  }\n  /**\n   * Resume the current running game, if it has been paused by `pause`.\n   *\n   * @see {@link https://nostalgist.js.org/apis/resume/}\n   *\n   * @example\n   * ```js\n   * const nostalgist = await Nostalgist.nes('flappybird.nes')\n   *\n   * nostalgist.pause()\n   * await new Promise(resolve => setTimeout(resolve, 1000))\n   * nostalgist.resume()\n   * ```\n   */\n  resume() {\n    this.getEmulator().resume();\n  }\n  /**\n   * Save the SRAM of the current running game.\n   *\n   * @see {@link https://nostalgist.js.org/apis/save-sram/}\n   *\n   * @example\n   * ```js\n   * const nostalgist = await Nostalgist.nes('flappybird.nes')\n   *\n   * const sram = await nostalgist.saveSRAM()\n   * ```\n   */\n  async saveSRAM() {\n    const emulator = this.getEmulator();\n    return await emulator.saveSRAM();\n  }\n  /**\n   * Save the state of the current running game.\n   *\n   * @see {@link https://nostalgist.js.org/apis/save-state/}\n   *\n   * @example\n   * ```js\n   * const nostalgist = await Nostalgist.nes('flappybird.nes')\n   *\n   * // save the state\n   * const { state } = await nostalgist.saveState()\n   *\n   * // load the state\n   * await nostalgist.loadState(state)\n   * ```\n   * @returns\n   * A Promise of the state of the current running game.\n   *\n   * Its type is like `Promise<{ state: Blob, thumbnail: Blob | undefined }>`.\n   *\n   * If RetroArch is launched with the option `savestate_thumbnail_enable` set to `true`, which is the default value inside Nostalgist.js, then the `thumbnail` will be a `Blob`. Otherwise the `thumbnail` will be `undefined`.\n   */\n  async saveState() {\n    return await this.getEmulator().saveState();\n  }\n  /**\n   * Take a screenshot for the current running game.\n   *\n   * @see {@link https://nostalgist.js.org/apis/screenshot/}\n   *\n   * @example\n   * ```js\n   * const nostalgist = await Nostalgist.nes('flappybird.nes')\n   *\n   * const blob = await nostalgist.screenshot()\n   * ```\n   */\n  async screenshot() {\n    const emulator = this.getEmulator();\n    return await emulator.screenshot();\n  }\n  /**\n   * Send a command to RetroArch.\n   * The commands are listed here: https://docs.libretro.com/development/retroarch/network-control-interface/#commands .\n   * But not all of them are supported inside a browser.\n   *\n   * @see {@link https://nostalgist.js.org/apis/send-command/}\n   *\n   * @example\n   * ```js\n   * const nostalgist = await Nostalgist.nes('flappybird.nes')\n   *\n   * nostalgist.sendCommand('FAST_FORWARD')\n   * ```\n   */\n  sendCommand(command) {\n    const emulator = this.getEmulator();\n    return emulator.sendCommand(command);\n  }\n  /**\n   * Start the emulator if it's not started because of the instance is returned by `Nostalgist.prepare` rather than `Nostalgist.launch`, or the option `runEmulatorManually` for `Nostalgist.launch` being set to `true`.\n   *\n   * @see {@link https://nostalgist.js.org/apis/start/}\n   */\n  async start() {\n    return await this.getEmulator().launch();\n  }\n  /**\n   * Load options and then launch corresponding emulator if should\n   */\n  async load() {\n    this.emulatorOptions = await EmulatorOptions.create(this.options);\n    checkIsAborted(this.options.signal);\n    if (this.options.setupEmulatorManually) {\n      return;\n    }\n    await this.setupEmulator();\n    if (this.options.runEmulatorManually) {\n      return;\n    }\n    await this.start();\n  }\n  async setupEmulator() {\n    const emulatorOptions = this.getEmulatorOptions();\n    this.emulator = new Emulator(emulatorOptions);\n    this.emulator.on(\"onLaunch\", () => {\n      var _a, _b;\n      return (_b = (_a = this.options).onLaunch) == null ? void 0 : _b.call(_a, this);\n    }).on(\"beforeLaunch\", () => {\n      var _a, _b;\n      return (_b = (_a = this.options).beforeLaunch) == null ? void 0 : _b.call(_a, this);\n    });\n    await this.emulator.setup();\n  }\n};\n__publicField(_Nostalgist, \"Nostalgist\", _Nostalgist);\n__publicField(_Nostalgist, \"vendors\", vendors);\nlet Nostalgist = _Nostalgist;\nexport {\n  Nostalgist\n};\n","import { Nostalgist } from 'nostalgist'\n\nlet image_path = '/apps/nostalgist/img/app.svg';\n\nNostalgist.configure({\n\telement: document.querySelector('.nostalgist canvas'),\n\t// resolveRom(rom) {\n\t// \treturn image_path.replace('app.svg', rom);\n\t// },\n\tresolveCoreJs(core) {\n\t\treturn image_path.replace('app.svg', `cores/${core}_libretro.js`);\n\t},\n\tresolveCoreWasm(core) {\n\t\treturn image_path.replace('app.svg', `cores/${core}_libretro.wasm`);\n\t},\n\tretroarchConfig: {\n\t\trewind_enable: false\n\t}\n});\n\nawait Nostalgist.launch({\n\tcore: 'fceumm',\n\trom: 'https://nextcloud.ddev.site/s/t3Rcinx6YtR4ZGd/download/Super%20Mario%20Bros%20%28E%29.nes'\n});\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// startup\n// Load entry module and return exports\n// This entry module used 'module' so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(96);\n"],"names":["webpackQueues","webpackExports","webpackError","resolveQueue","__defProp","Object","defineProperty","__publicField","obj","key","value","enumerable","configurable","writable","__defNormalProp","systemCoreMap","gb","gba","gbc","megadrive","nes","snes","getDefaultExportFromCjs","x","__esModule","prototype","hasOwnProperty","call","ini$3","hasRequiredIni","pathBrowserify","hasRequiredPathBrowserify","vendors","ini","encode","opt","section","align","newline","sort","whitespace","platform","process","bracketedArray","eol","separator","children","keys","padToChars","safe","filter","k","Array","isArray","map","concat","reduce","a","b","length","out","arraySuffix","val","item","padEnd","push","nk","splitSections","join","child","str","lastMatchIndex","lastSeparatorIndex","nextIndex","sections","indexOf","slice","decode","create","p","re","lines","split","duplicates","line","match","unsafe","keyRaw","endsWith","valueRaw","JSON","parse","remove","parts","l","pop","nl","replace","part","del","isQuoted","startsWith","trim","stringify","esc","unesc","i2","c","charAt","requireIni","path","assertPath","path2","TypeError","normalizeStringPosix","allowAboveRoot","code","res","lastSegmentLength","lastSlash","dots","charCodeAt","lastSlashIndex","lastIndexOf","posix","resolve","cwd","resolvedPath","resolvedAbsolute","arguments","normalize","isAbsolute","trailingSeparator","joined","arg","relative","from","to","fromStart","fromEnd","fromLen","toStart","toLen","lastCommonSep","fromCode","_makeLong","dirname","hasRoot","end","matchedSlash","basename","ext","start","extIdx","firstNonSlashEnd","extname","startDot","startPart","preDotState","format","pathObject","sep","dir","root","base","name","_format","ret","delimiter","win32","requirePathBrowserify","path$4","fileNameHeaderRegex","urlSegmentSeparator","isURL","globalThis","URL","isRequest","Request","isFetchable","some","absolutePrefix","char","includes","segments","every","segment","isURLStringLike","ResolvableFile","constructor","blobType","raw","signal","urlResolver","this","extractValidFileName","baseName","extension","rawOrOption","isNil","Error","resolvableFile","load","dispose","objectUrl","revokeObjectURL","getArrayBuffer","arrayBuffer","getBlob","blob","getObjectUrl","createObjectURL","getText","text","getUint8Array","uint8Array","Uint8Array","result","getResult","loadContent","loadArrayBuffer","Blob","type","content","loadFetchable","loadPlainText","isResolvableFileContent","fileContent","loadObject","ArrayBuffer","isArrayBuffer","isUint8Array","loadUint8Array","Response","isResponse","loadResponse","FileSystemFileHandle","isFileSystemFileHandle","loadFileSystemFileHandle","extention","isZip","generateValidFileName","fetchable","url","href","response","fetch","fileSystemFileHandle","file","getFile","object","fileName","Promise","all","_a","_b","header","headers","get","extracted","exec","path$3","textEncoder","TextEncoder","i","pathname","decodeURIComponent","urlBaseName","replaceAll","delay","time","setTimeout","isPlainObject$1","mergeProperty","target","source","targetValue","sourceValue","merge","sources","checkIsAborted","aborted","padZero","number","async","then","resolvableClasses","clazz","isResolvableFileInput","path$2","cdnBaseUrl","coreRepo","coreVersion","coreDirectory","shaderRepo","shaderVersion","getDefaultOptions","element","retroarchConfig","menu_driver","menu_navigation_browser_filter_supported_extensions_enable","notification_show_when_menu_is_alive","savestate_auto_load","savestate_thumbnail_enable","stdin_cmd_enable","video_shader_enable","input_audio_mute","input_cheat_index_minus","input_cheat_index_plus","input_cheat_toggle","input_desktop_menu_toggle","input_exit_emulator","input_fps_toggle","input_frame_advance","input_game_focus_toggle","input_grab_mouse_toggle","input_hold_fast_forward","input_hold_slowmotion","input_load_state","input_netplay_game_watch","input_netplay_player_chat","input_pause_toggle","input_reset","input_rewind","input_save_state","input_screenshot","input_shader_next","input_shader_prev","input_shader_toggle","input_state_slot_decrease","input_state_slot_increase","input_toggle_fast_forward","input_toggle_fullscreen","input_volume_down","input_volume_up","input_player1_analog_dpad_mode","input_player2_analog_dpad_mode","input_player3_analog_dpad_mode","input_player4_analog_dpad_mode","retroarchCoreConfig","runEmulatorManually","setupEmulatorManually","resolveCoreJs","core","resolveCoreWasm","resolveRom","string","romRepo","encodedFile","encodeURIComponent","resolveBios","resolveShader","preset","splice","globalOptions","getGlobalOptions","isValidCacheKey","cacheKey","getPrototypeOf","Symbol","toStringTag","iterator","isPlainObject","getCacheStore","bios","Map","rom","shader","_EmulatorOptions","options","nostalgistOptions","emscriptenModule","respondToGlobalEvents","size","waitForInteraction","getElement","cache","assign","style","defaultAppearanceStyle","backgroundColor","imageRendering","defaultLayoutStyle","height","left","position","top","width","zIndex","emulatorOptions","resetCacheStore","cacheStorage","loadFromCache","loadPromises","updateState","updateSRAM","saveToCache","loadMethodMap","updateBios","updateCore","updateRom","updateShader","field","cacheValue","promise","set","sram","state","document","canvas","body","querySelector","HTMLCanvasElement","createElement","id","biosFiles","js","wasm","coreResolvable","coreWasmResolvable","resolver","romFiles","romFile","resolvable","rawShaderFile","rawShaderFiles","rawShaderFile2","EmulatorOptions","coreInfoMap","savestate","supportsNoGame","corename","a5200","advanced_tests","ardens","arduous","atari800","bk","blastem","bluemsx","bnes","boom3","boom3_xp","bsnes","bsnes_cplusplus98","cheats","bsnes_hd_beta","bsnes_mercury_accuracy","bsnes_mercury_balanced","bsnes_mercury_performance","bsnes2014_accuracy","bsnes2014_balanced","bsnes2014_performance","cannonball","cap32","cdi2015","chailove","chimerasnes","citra","citra_canary","citra2018","craft","crocods","cruzes","daphne","desmume","desmume2015","dinothawr","directxbox","dirksimple","dolphin","dolphin_launcher","dosbox","dosbox_core","dosbox_pure","dosbox_svn","dosbox_svn_ce","duckstation","easyrpg","ecwolf","emuscv","emux_chip8","emux_gb","emux_nes","emux_sms","ep128emu_core","fake08","fbalpha2012","fbalpha2012_cps1","fbalpha2012_cps2","fbalpha2012_cps3","fbalpha2012_neogeo","fbneo","fceumm","ffmpeg","fixgb","fixnes","flycast","flycast_gles2","fmsx","freechaf","freeintv","freej2me","frodo","fsuae","fuse","galaksija","gambatte","gearboy","gearcoleco","gearsystem","genesis_plus_gx","genesis_plus_gx_wide","gme","gong","gpsp","gw","handy","hatari","hbmame","higan_sfc","higan_sfc_balanced","imageviewer","ishiiruka","jaxe","jumpnbump","kronos","lowresnx","lutro","mame","mame2000","mame2003","mame2003_midway","mame2003_plus","mame2009","mame2010","mame2015","mame2016","mamearcade","mamemess","mednafen_gba","mednafen_lynx","mednafen_ngp","mednafen_pce","mednafen_pce_fast","mednafen_pcfx","mednafen_psx","mednafen_psx_hw","mednafen_saturn","mednafen_snes","mednafen_supafaust","mednafen_supergrafx","mednafen_vb","mednafen_wswan","melonds","mesen","mess2015","meteor","mgba","minivmac","mojozork","moonlight","mpv","mrboom","mu","mupen64plus_next","mupen64plus_next_develop","mupen64plus_next_gles2","mupen64plus_next_gles3","nekop2","neocd","nestopia","np2kai","numero","nxengine","o2em","oberon","openlara","opentyrian","opera","parallel_n64","parallel_n64_debug","pascal_pong","pcem","pcsx_rearmed","pcsx_rearmed_interpreter","pcsx_rearmed_neon","pcsx1","pcsx2","picodrive","play","pocketcdg","pokemini","potator","ppsspp","prboom","prosystem","puae","puae2021","puzzlescript","px68k","quasi88","quicknes","race","redbook","reminiscence","remotejoy","retro8","retrodream","rustation","same_cdi","sameboy","sameduck","scummvm","simcp","smsplus","snes9x","snes9x2002","snes9x2005","snes9x2005_plus","snes9x2010","squirreljme","stella","stella2014","stonesoup","superbroswar","swanstation","tempgba","test","test_netplay","testaudio_callback","testaudio_no_callback","testaudio_playback_wav","testgl","testgl_compute_shaders","testgl_ff","testinput_buttontest","testretroluxury","testsw","testsw_vram","testvulkan","testvulkan_async_compute","tgbdual","theodore","thepowdertoy","tic80","tyrquake","uae4arm","ume2015","uw8","uzem","vaporspec","vba_next","vbam","vecx","vemulator","vice_x128","vice_x64","vice_x64dtv","vice_x64sc","vice_xcbm2","vice_xcbm5x0","vice_xpet","vice_xplus4","vice_xscpu64","vice_xvic","vircon32","virtualjaguar","virtualxt","vitaquake2","vitaquake3","vitavoyager","wasm4","x1","x64sdl","xrick","yabasanshiro","yabause","keyboardCodeMap","add","alt","backquote","backslash","backspace","capslock","comma","ctrl","divide","down","enter","equals","escape","home","insert","kp_enter","kp_equals","kp_minus","kp_period","kp_plus","leftbracket","minus","multiply","numlock","pagedown","pageup","pause","period","print_screen","quote","ralt","rctrl","right","rightbracket","rshift","scroll_lock","semicolon","shift","slash","space","subtract","tab","tilde","up","ini$1","path$1","userdataDirectory","bundleDirectory","contentDirectory","systemDirectory","configDirectory","screenshotsDirectory","shaderDirectory","shaderAssetsDirectory","configPath","coreConfigPath","_EmulatorFileSystem","FS","args","emulatorFileSystem","prepare","mkdirTree","directory","readFile","encoding","unlink","waitForFile","buffer","isFinished","retryTimes","delayTime","Math","min","newBuffer","byteLength","error","console","warn","writeFile","filePath","createDataFile","data","writeIni","config","clonedConfig","directories","waitTime","asm","EmulatorFileSystem","Emulator","beforeLaunch","onLaunch","coreFullName","fs","fileSystem","romBaseName","sramFileDirectory","sramFilePath","stateFileDirectory","stateFilePath","stateThumbnailFilePath","callCommand","command","Module","getEmscripten","exit","statusCode","JSEvents","removeAllEventListeners","gameStatus","emscripten","getOptions","getStatus","launch","rule","updateStyle","isConnected","append","addEventListener","canvasInitialSize","getElementSize","tabIndex","activeElement","focus","HTMLElement","runEventListeners","done","runMain","loadState","clearStateFile","sendCommand","on","event","callback","eventListeners","press","button","player","getKeyboardCode","keyboardPress","pressDown","keyboardDown","pressUp","keyboardUp","resize","setCanvasSize","restart","resume","saveSRAM","saveState","stateBuffer","stateThumbnailBuffer","thumbnail","screenshot","screenshotFileName","guessScreenshotFileName","screenshotPath","msg","bytes","messageQueue","setup","setupEmscripten","setupFileSystem","fireKeyboardEvent","eventListenerFunc","eventTypeString","eventHandlers","getCurrentRetroarchConfig","configContent","offsetHeight","offsetWidth","toUpperCase","at","date","Date","dateString","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","postRun","gamepad","navigator","getGamepads","dispatchEvent","GamepadEvent","updateKeyboardEventHandlers","eventListener","raArgs","callMain","setImmediate","initialModule","overrides","resolveRunDependenciesPromise","runDependenciesPromise","noExitRuntime","noInitialRun","locateFile","print","info","printErr","quit","status","toThrow","getEmscriptenModuleOverrides","preRun","wasmBinary","init","stdin","jsContent","isGlobalScript","isEsmScript","patchCoreJs","jsResolvable","jsObjectUrl","import","Function","importCoreJsAsESM","monitorRunDependencies","filePromises","setupRaConfigFiles","setupRaShaderFiles","glslpFiles","globalGlslpContent","index","getAttribute","keyboardEvents","Set","globalKeyboardEventHandlers","has","globalKeyboardEventHandler","handlerFunc","registerOrRemoveHandler","_Nostalgist","mergedOptions","clearCache","configure","updateGlobalOptions","launchSystem","nostalgist","resetToDefault","system","optionsResult","launchOptions","removeCanvas","getEmulator","getCanvas","getEmulatorOptions","getEmscriptenAL","AL","getEmscriptenFS","getEmscriptenModule","emulator","launchEmulator","setupEmulator","Nostalgist","image_path","rewind_enable","cachedSetTimeout","cachedClearTimeout","module","exports","defaultSetTimout","defaultClearTimeout","runTimeout","fun","e","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","len","run","marker","runClearTimeout","Item","array","noop","nextTick","apply","title","browser","env","argv","version","versions","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","chdir","umask","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","d","forEach","fn","r","hasAwait","currentDeps","outerResolve","reject","depQueues","rej","deps","dep","wrapDeps","fnQueue","q","err","definition","o","prop"],"sourceRoot":""}